(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80548,(e,t,r)=>{"use strict";function a({widthInt:e,heightInt:t,blurWidth:r,blurHeight:a,blurDataURL:n,objectFit:s}){let l=r?40*r:e,i=a?40*a:t,d=l&&i?`viewBox='0 0 ${l} ${i}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${d}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${d?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${n}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return a}})},56724,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return l}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=["default","imgix","cloudinary","akamai","custom"],l={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},12520,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return d}}),e.r(70759);let a=e.r(80548),n=e.r(56724),s=["-moz-initial","fill","none","scale-down",void 0];function l(e){return void 0!==e.default}function i(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function d({src:e,sizes:t,unoptimized:r=!1,priority:d=!1,preload:o=!1,loading:c,className:u,quality:g,width:m,height:x,fill:h=!1,style:f,overrideSrc:p,onLoad:y,onLoadingComplete:b,placeholder:v="empty",blurDataURL:w,fetchPriority:j,decoding:k="async",layout:N,objectFit:_,objectPosition:D,lazyBoundary:C,lazyRoot:S,...M},T){var E;let O,P,$,{imgConf:I,showAltText:L,blurComplete:A,defaultLoader:R}=T,z=I||n.imageConfigDefault;if("allSizes"in z)O=z;else{let e=[...z.deviceSizes,...z.imageSizes].sort((e,t)=>e-t),t=z.deviceSizes.sort((e,t)=>e-t),r=z.qualities?.sort((e,t)=>e-t);O={...z,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===R)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let F=M.loader||R;delete M.loader,delete M.srcSet;let H="__next_img_default"in F;if(H){if("custom"===O.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=F;F=t=>{let{config:r,...a}=t;return e(a)}}if(N){"fill"===N&&(h=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[N];e&&(f={...f,...e});let r={responsive:"100vw",fill:"100vw"}[N];r&&!t&&(t=r)}let W="",B=i(m),Y=i(x);if((E=e)&&"object"==typeof E&&(l(E)||void 0!==E.src)){let t=l(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(P=t.blurWidth,$=t.blurHeight,w=w||t.blurDataURL,W=t.src,!h)if(B||Y){if(B&&!Y){let e=B/t.width;Y=Math.round(t.height*e)}else if(!B&&Y){let e=Y/t.height;B=Math.round(t.width*e)}}else B=t.width,Y=t.height}let U=!d&&!o&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:W)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,U=!1),O.unoptimized&&(r=!0),H&&!O.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let V=i(g),K=Object.assign(h?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:_,objectPosition:D}:{},L?{}:{color:"transparent"},f),X=A||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,a.getImageBlurSvg)({widthInt:B,heightInt:Y,blurWidth:P,blurHeight:$,blurDataURL:w||"",objectFit:K.objectFit})}")`:`url("${v}")`,q=s.includes(K.objectFit)?"fill"===K.objectFit?"100% 100%":"cover":K.objectFit,G=X?{backgroundSize:q,backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},J=function({config:e,src:t,unoptimized:r,width:a,quality:n,sizes:s,loader:l}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:i,kind:d}=function({deviceSizes:e,allSizes:t},r,a){if(a){let r=/(^|\s)(1?\d?\d)vw/g,n=[];for(let e;e=r.exec(a);)n.push(parseInt(e[2]));if(n.length){let r=.01*Math.min(...n);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,a,s),o=i.length-1;return{sizes:s||"w"!==d?s:"100vw",srcSet:i.map((r,a)=>`${l({config:e,src:t,quality:n,width:r})} ${"w"===d?r:a+1}${d}`).join(", "),src:l({config:e,src:t,quality:n,width:i[o]})}}({config:O,src:e,unoptimized:r,width:B,quality:V,sizes:t,loader:F}),Q=U?"lazy":c;return{props:{...M,loading:Q,fetchPriority:j,width:B,height:Y,decoding:k,className:u,style:{...K,...G},sizes:J.sizes,srcSet:J.srcSet,src:p||J.src},meta:{unoptimized:r,preload:o||d,placeholder:v,fill:h}}}},40382,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}});let a=e.r(97166),n="undefined"==typeof window,s=n?()=>{}:a.useLayoutEffect,l=n?()=>{}:a.useEffect;function i(e){let{headManager:t,reduceComponentsToState:r}=e;function i(){if(t&&t.mountedInstances){let e=a.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return n&&(t?.mountedInstances?.add(e.children),i()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=i),()=>{t&&(t._pendingUpdate=i)})),l(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},43715,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return h},defaultHead:function(){return u}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(88681),l=e.r(23738),i=e.r(77824),d=l._(e.r(97166)),o=s._(e.r(40382)),c=e.r(70706);function u(){return[(0,i.jsx)("meta",{charSet:"utf-8"},"charset"),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function g(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===d.default.Fragment?e.concat(d.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(70759);let m=["name","httpEquiv","charSet","itemProp"];function x(e){let t,r,a,n;return e.reduce(g,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,a=new Set,n={},e=>{let s=!0,l=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){l=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?s=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?s=!1:r.add(e.type);break;case"meta":for(let t=0,r=m.length;t<r;t++){let r=m[t];if(e.props.hasOwnProperty(r))if("charSet"===r)a.has(r)?s=!1:a.add(r);else{let t=e.props[r],a=n[r]||new Set;("name"!==r||!l)&&a.has(t)?s=!1:(a.add(t),n[r]=a)}}}return s})).reverse().map((e,t)=>{let r=e.key||t;return d.default.cloneElement(e,{key:r})})}let h=function({children:e}){let t=(0,d.useContext)(c.HeadManagerContext);return(0,i.jsx)(o.default,{reduceComponentsToState:x,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},31184,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let a=e.r(88681)._(e.r(97166)),n=e.r(56724),s=a.default.createContext(n.imageConfigDefault)},50371,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return a}});let a=e.r(88681)._(e.r(97166)).default.createContext(null)},21338,(e,t,r)=>{"use strict";function a(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return a}})},68717,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let a=e.r(21338);function n({config:e,src:t,width:r,quality:n}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let s=(0,a.findClosestQuality)(n,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${s}${t.startsWith("/_next/static/media/"),""}`}n.__next_img_default=!0;let s=n},10037,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return v}});let a=e.r(88681),n=e.r(23738),s=e.r(77824),l=n._(e.r(97166)),i=a._(e.r(29241)),d=a._(e.r(43715)),o=e.r(12520),c=e.r(56724),u=e.r(31184);e.r(70759);let g=e.r(50371),m=a._(e.r(68717)),x=e.r(98694),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function f(e,t,r,a,n,s,l){let i=e?.src;e&&e["data-loaded-src"]!==i&&(e["data-loaded-src"]=i,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&n(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let a=!1,n=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>a,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{a=!0,t.preventDefault()},stopPropagation:()=>{n=!0,t.stopPropagation()}})}a?.current&&a.current(e)}}))}function p(e){return l.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let y=(0,l.forwardRef)(({src:e,srcSet:t,sizes:r,height:a,width:n,decoding:i,className:d,style:o,fetchPriority:c,placeholder:u,loading:g,unoptimized:m,fill:h,onLoadRef:y,onLoadingCompleteRef:b,setBlurComplete:v,setShowAltText:w,sizesInput:j,onLoad:k,onError:N,..._},D)=>{let C=(0,l.useCallback)(e=>{e&&(N&&(e.src=e.src),e.complete&&f(e,u,y,b,v,m,j))},[e,u,y,b,v,N,m,j]),S=(0,x.useMergedRef)(D,C);return(0,s.jsx)("img",{..._,...p(c),loading:g,width:n,height:a,decoding:i,"data-nimg":h?"fill":"1",className:d,style:o,sizes:r,srcSet:t,src:e,ref:S,onLoad:e=>{f(e.currentTarget,u,y,b,v,m,j)},onError:e=>{w(!0),"empty"!==u&&v(!0),N&&N(e)}})});function b({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...p(t.fetchPriority)};return e&&i.default.preload?(i.default.preload(t.src,r),null):(0,s.jsx)(d.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let v=(0,l.forwardRef)((e,t)=>{let r=(0,l.useContext)(g.RouterContext),a=(0,l.useContext)(u.ImageConfigContext),n=(0,l.useMemo)(()=>{let e=h||a||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),n=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:n,localPatterns:"undefined"==typeof window?a?.localPatterns:e.localPatterns}},[a]),{onLoad:i,onLoadingComplete:d}=e,x=(0,l.useRef)(i);(0,l.useEffect)(()=>{x.current=i},[i]);let f=(0,l.useRef)(d);(0,l.useEffect)(()=>{f.current=d},[d]);let[p,v]=(0,l.useState)(!1),[w,j]=(0,l.useState)(!1),{props:k,meta:N}=(0,o.getImgProps)(e,{defaultLoader:m.default,imgConf:n,blurComplete:p,showAltText:w});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y,{...k,unoptimized:N.unoptimized,placeholder:N.placeholder,fill:N.fill,onLoadRef:x,onLoadingCompleteRef:f,setBlurComplete:v,setShowAltText:j,sizesInput:e.sizes,ref:t}),N.preload?(0,s.jsx)(b,{isAppRouter:!r,imgAttributes:k}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},33755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return c},getImageProps:function(){return o}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(88681),l=e.r(12520),i=e.r(10037),d=s._(e.r(68717));function o(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=i.Image},63135,(e,t,r)=>{t.exports=e.r(33755)},3233,e=>{"use strict";let t;var r,a,n,s,l,i,d,o,c,u,g,m,x,h,f,p,y,b,v,w=e.i(77824),j=e.i(97166),k=e.i(26968),N=e.i(94970),_=e.i(40449),D=e.i(47242),C=e.i(56069);let S={small:{width:"max-w-md"},medium:{width:"max-w-lg"},large:{width:"max-w-2xl"},delete:{title:"삭제 확인",description:"정말로 삭제하시겠습니까?",warning:null,icon:"trash",iconColor:"text-red-500",iconSize:32,buttonCancelText:"취소",buttonConfirmText:"삭제",buttonDisabled:!1,info:null},success:{title:"성공",description:"작업이 완료되었습니다.",icon:"circleCheck",iconColor:"text-green-500",iconSize:32,buttonConfirmText:"확인",buttonDisabled:!1,info:null},deleteSuccess:{title:"삭제 완료",description:"선택한 항목이 삭제되었습니다.",icon:"circleCheck",iconColor:"text-green-500",iconSize:32,buttonConfirmText:"확인",buttonDisabled:!1,info:"복원이 필요한 경우 관리자에게 문의해주세요.",infoColor:"text-blue-600 dark:text-blue-400"},error:{title:"오류 발생",description:"문제가 발생했습니다.",icon:"exclamationTriangle",iconColor:"text-red-500",iconSize:32,buttonConfirmText:"확인",buttonDisabled:!1,info:null},progress:{title:"처리 중...",description:"잠시만 기다려주세요.",icon:"loading",iconColor:"text-blue-500",iconSize:32,buttonDisabled:!0,info:null}},M=(0,_.default)("fixed left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-40","w-full h-full","flex items-center"),T=(0,_.default)("relative m-auto w-xl min-h-68 py-9 px-7","flex flex-col items-center justify-center","border border-gray-100 dark:border-gray-700 rounded-2xl shadow-sm bg-white dark:bg-gray-800"),E=(0,_.default)("size-15 flex items-center justify-center","absolute -top-8 left-1/2 transform -translate-x-1/2","shadow-lg rounded-full bg-white dark:bg-gray-800");function O({type:e,isOpen:t,onClose:r,onConfirm:a,title:n,description:s,warning:l,buttonDisabled:i,children:d}){let o=e?S[e]:{},c=n??o.title,u=s??o.description,g=l??o.warning;return((0,j.useEffect)(()=>{if("success"===e||"deleteSuccess"===e){let e=setTimeout(()=>{r()},5e3);return()=>clearTimeout(e)}},[e,r]),(0,j.useEffect)(()=>(t&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="unset"}),[t]),(0,j.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&r()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,r]),t)?(0,w.jsxs)("div",{className:M,children:[(0,w.jsx)("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70",onClick:r}),(0,w.jsxs)("div",{className:T,children:[o?.icon&&(0,w.jsx)("div",{className:E,children:(0,w.jsx)(C.Icon,{type:o.icon,className:`${o.iconColor}`,size:o.iconSize})}),(0,w.jsx)("button",{onClick:r,className:"absolute top-3 right-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:(0,w.jsx)(C.Icon,{type:"x"})}),(0,w.jsx)("div",{className:"text-center w-full",children:d||(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c}),(0,w.jsx)("p",{className:"text-base font-medium mt-2 text-gray-700 dark:text-gray-300",children:u}),g&&(0,w.jsx)("p",{className:"text-sm font-semibold mt-5 text-red-500 dark:text-red-400",children:g}),o?.info&&(0,w.jsx)("p",{className:`text-sm font-medium mt-5 ${o.infoColor||"text-gray-600 dark:text-gray-400"}`,children:o.info})]})}),(o?.buttonCancelText||o?.buttonConfirmText)&&(0,w.jsxs)("div",{className:"flex gap-3 justify-center mt-6",children:[o?.buttonCancelText&&(0,w.jsx)(D.default,{btnType:"basic",variant:"basic",onClick:r,children:o.buttonCancelText}),o?.buttonConfirmText&&(0,w.jsx)(D.default,{btnType:"basic",variant:"warning",onClick:a,disabled:i??o.buttonDisabled,children:o.buttonConfirmText})]})]})]}):null}function P({icon:e,title:t}){return(0,w.jsxs)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-2",children:[(0,w.jsx)(C.Icon,{type:e,size:16,className:"text-gray-600 dark:text-gray-400"}),t]})}function $({icon:e,title:t,children:r,className:a=""}){return(0,w.jsxs)("div",{className:a,children:[(0,w.jsx)(P,{icon:e,title:t}),r]})}let I={dueSoon:{title:"계획 진행중",className:"bg-blue-500 text-white dark:text-white/80",category:"status"},overDue:{title:"계획에서 벗어남",className:"bg-red-500 text-white dark:text-white/80",category:"status"},todo:{title:"TODO",className:"bg-[#9CA3AF] text-gray-800 dark:text-gray-200",category:"status"},inProgress:{title:"진행중",className:"bg-amber-500 text-white dark:text-white/80",category:"status"},done:{title:"완료",className:"bg-green-500 text-white dark:text-white/80",category:"status"},high:{title:"높음",className:"bg-red-100 text-red-700 dark:text-red-300",category:"priority",dotColor:"bg-red-500"},normal:{title:"보통",className:"bg-yellow-100 text-yellow-700 dark:text-yellow-300",category:"priority",dotColor:"bg-yellow-500"},low:{title:"낮음",className:"bg-green-100 text-green-700 dark:text-green-300",category:"priority",dotColor:"bg-green-500"}},L=({color:e})=>(0,w.jsx)("span",{className:`w-2 h-2 inline-block mr-1 rounded-full ${e}`,"aria-hidden":"true"});function A({type:e}){let t=I[e];return t?(0,w.jsxs)("span",{"data-type":e,className:`py-1.5 px-2 rounded-sm text-xs font-medium ${t.className}`,children:[("priority"===t.category||t.dotColor)&&(0,w.jsx)(L,{color:t.dotColor}),t.title]}):null}function R({value:e,options:t,onChange:r}){let[a,n]=(0,j.useState)(!1),s=(0,j.useRef)(null);(0,j.useEffect)(()=>{if(!a)return;let e=e=>{s.current&&!s.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]);let l=t.find(t=>t.value===e);return(0,w.jsxs)("div",{ref:s,className:"flex items-center gap-2 flex-nowrap",children:[(0,w.jsx)("button",{type:"button",onClick:()=>n(e=>!e),className:`
          relative transition-all duration-200 cursor-pointer
          hover:scale-105 active:scale-95 
          ${a?"ring-2 ring-main-300 dark:ring-main-500 ring-offset-1 rounded-sm":""}
        `,children:l&&(0,w.jsx)(A,{type:l.badgeType})}),a&&(0,w.jsx)("div",{className:"flex items-center gap-1.5 animate-fadeIn flex-nowrap bg-white dark:bg-gray-800 rounded-lg p-1.5 shadow-sm",children:t.filter(t=>t.value!==e).map(e=>(0,w.jsx)("button",{type:"button",onClick:()=>{r(e.value),n(!1)},className:"hover:scale-105 active:scale-95 transition-all duration-200 opacity-70 hover:opacity-100",children:(0,w.jsx)(A,{type:e.badgeType})},e.value))})]})}let z=[{value:"todo",badgeType:"todo"},{value:"inprogress",badgeType:"inProgress"},{value:"done",badgeType:"done"}],F=[{value:"low",badgeType:"low"},{value:"normal",badgeType:"normal"},{value:"high",badgeType:"high"}];function H({status:e,priority:t,onStatusChange:r,onPriorityChange:a}){return(0,w.jsxs)("div",{className:"flex flex-wrap items-center gap-x-8 gap-y-4",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 min-w-fit",children:[(0,w.jsx)(C.Icon,{type:"progressAlert",size:16,className:"text-gray-600 dark:text-gray-400"}),(0,w.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 whitespace-nowrap",children:"상태"}),(0,w.jsx)(R,{value:e,options:z,onChange:r})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 min-w-fit",children:[(0,w.jsx)(C.Icon,{type:"alertTriangle",size:16,className:"text-gray-600 dark:text-gray-400"}),(0,w.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 whitespace-nowrap",children:"우선순위"}),(0,w.jsx)(R,{value:t,options:F,onChange:a})]})]})}var W=e.i(51498);let B=(0,W.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var Y=e.i(29241);let U=(e,t,r,a)=>{if("length"===r||"prototype"===r||"arguments"===r||"caller"===r)return;let n=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);(V(n,s)||!a)&&Object.defineProperty(e,r,s)},V=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},K=(e,t)=>`/* Wrapped ${e}*/
${t}`,X=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),q=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),G=new WeakMap,J=new WeakMap,Q=new WeakMap;function Z(e,{cacheKey:t,cache:r=new Map,maxAge:a}={}){if(0===a)return e;if("number"==typeof a&&Number.isFinite(a)){if(a>0x7fffffff)throw TypeError("The `maxAge` option cannot exceed 2147483647.");if(a<0)throw TypeError("The `maxAge` option should not be a negative number.")}let n=function(...s){let l=t?t(s):s[0],i=function(e,t){let r=e.get(t);if(r)return r.maxAge<=Date.now()?void e.delete(t):r}(r,l);if(i)return i.data;let d=e.apply(this,s),o="function"==typeof a?a(...s):a;if(void 0!==o&&o!==1/0){if(!Number.isFinite(o))throw TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(o<=0)return d;if(o>0x7fffffff)throw TypeError("The `maxAge` function result cannot exceed 2147483647.")}if(r.set(l,{data:d,maxAge:void 0===o||o===1/0?1/0:Date.now()+o}),void 0!==o&&o!==1/0){let e=setTimeout(()=>{r.delete(l),J.get(n)?.delete(e)},o);e.unref?.();let t=J.get(n)??new Set;t.add(e),J.set(n,t)}return d};return!function(e,t,{ignoreNonConfigurable:r=!1}={}){let a,{name:n}=e;for(let a of Reflect.ownKeys(t))U(e,t,a,r);(a=Object.getPrototypeOf(t))!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,a),((e,t,r)=>{let a=""===r?"":`with ${r.trim()}() `,n=K.bind(null,a,t.toString());Object.defineProperty(n,"name",q);let{writable:s,enumerable:l,configurable:i}=X;Object.defineProperty(e,"toString",{value:n,writable:s,enumerable:l,configurable:i})})(e,t,n)}(n,e,{ignoreNonConfigurable:!0}),G.set(n,r),Q.set(n,t??(e=>e[0])),n}function ee(e){return"string"==typeof e}function et(e,t,r){return r.indexOf(e)===t}function er(e){return -1===e.indexOf(",")?e:e.split(",")}var ea=Z(function(e){var t=void 0===e?{}:e,r=t.useFallbackLocale,a=t.fallbackLocale,n=[];if("undefined"!=typeof navigator){for(var s=navigator.languages||[],l=[],i=0;i<s.length;i++){var d=s[i];l=l.concat(er(d))}var o=navigator.language,c=o?er(o):o;n=n.concat(l,c)}return(void 0===r||r)&&n.push(void 0===a?"en-US":a),n.filter(ee).map(function e(t){if(!t)return t;if("C"===t||"posix"===t||"POSIX"===t)return"en-US";if(-1!==t.indexOf(".")){var r=t.split(".")[0],a=void 0===r?"":r;return e(a)}if(-1!==t.indexOf("@")){var n=t.split("@")[0],a=void 0===n?"":n;return e(a)}if(-1===t.indexOf("-")||t.toLowerCase()!==t)return t;var s=t.split("-"),l=s[0],i=s[1];return"".concat(l,"-").concat((void 0===i?"":i).toUpperCase())}).filter(et)},{cacheKey:JSON.stringify}),en=Z(function(e){return ea(e)[0]||null},{cacheKey:JSON.stringify});function es(e,t,r){return function(a,n=r){return t(e(a)+n)}}function el(e){return function(t){return new Date(e(t).getTime()-1)}}function ei(e,t){return function(r){return[e(r),t(r)]}}function ed(e){if(e instanceof Date)return e.getFullYear();if("number"==typeof e)return e;let t=Number.parseInt(e,10);if("string"==typeof e&&!Number.isNaN(t))return t;throw Error(`Failed to get year from date: ${e}.`)}function eo(e){if(e instanceof Date)return e.getMonth();throw Error(`Failed to get month from date: ${e}.`)}function ec(e){if(e instanceof Date)return e.getDate();throw Error(`Failed to get year from date: ${e}.`)}function eu(e){let t=ed(e),r=new Date;return r.setFullYear(t+(-t+1)%100,0,1),r.setHours(0,0,0,0),r}let eg=es(ed,eu,-100),em=es(ed,eu,100),ex=el(em),eh=es(ed,ex,-100);es(ed,ex,100);let ef=ei(eu,ex);function ep(e){let t=ed(e),r=new Date;return r.setFullYear(t+(-t+1)%10,0,1),r.setHours(0,0,0,0),r}let ey=es(ed,ep,-10),eb=es(ed,ep,10),ev=el(eb),ew=es(ed,ev,-10);es(ed,ev,10);let ej=ei(ep,ev);function ek(e){let t=ed(e),r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}let eN=es(ed,ek,-1),e_=es(ed,ek,1),eD=el(e_),eC=es(ed,eD,-1);es(ed,eD,1);let eS=ei(ek,eD);function eM(e,t){return function(r,a=t){let n=ed(r),s=eo(r)+a,l=new Date;return l.setFullYear(n,s,1),l.setHours(0,0,0,0),e(l)}}function eT(e){let t=ed(e),r=eo(e),a=new Date;return a.setFullYear(t,r,1),a.setHours(0,0,0,0),a}let eE=eM(eT,-1),eO=eM(eT,1),eP=el(eO),e$=eM(eP,-1);eM(eP,1);let eI=ei(eT,eP);function eL(e,t){return function(r,a=t){let n=ed(r),s=eo(r),l=ec(r)+a,i=new Date;return i.setFullYear(n,s,l),i.setHours(0,0,0,0),e(i)}}function eA(e){let t=ed(e),r=eo(e),a=ec(e),n=new Date;return n.setFullYear(t,r,a),n.setHours(0,0,0,0),n}eL(eA,-1);let eR=el(eL(eA,1));eL(eR,-1),eL(eR,1);let ez=ei(eA,eR);var eF="gregory",eH="hebrew",eW="islamic",eB="iso8601",eY={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},eU=new Map;function eV(e){return function(t,r){return function(t,r){var a=t||en();eU.has(a)||eU.set(a,new Map);var n=eU.get(a);return n.has(e)||n.set(e,new Intl.DateTimeFormat(a||void 0,e).format),n.get(e)(r)}(t,new Date(new Date(r).setHours(12)))}}eV({day:"numeric",month:"numeric",year:"numeric"});var eK=eV({day:"numeric"}),eX=eV({day:"numeric",month:"long",year:"numeric"}),eq=eV({month:"long"}),eG=eV({month:"long",year:"numeric"}),eJ=eV({weekday:"short"}),eQ=eV({weekday:"long"}),eZ=eV({year:"numeric"});function e0(e,t){void 0===t&&(t=eB);var r=e.getDay();switch(t){case eB:return(r+6)%7;case eW:return(r+1)%7;case eH:case eF:return r;default:throw Error("Unsupported calendar type.")}}function e1(e,t){return void 0===t&&(t=eB),new Date(ed(e),eo(e),e.getDate()-e0(e,t))}function e2(e,t){switch(e){case"century":return eu(t);case"decade":return ep(t);case"year":return ek(t);case"month":return eT(t);case"day":return eA(t);default:throw Error("Invalid rangeType: ".concat(e))}}function e5(e,t){switch(e){case"century":return em(t);case"decade":return eb(t);case"year":return e_(t);case"month":return eO(t);default:throw Error("Invalid rangeType: ".concat(e))}}function e4(e,t){switch(e){case"century":return ex(t);case"decade":return ev(t);case"year":return eD(t);case"month":return eP(t);case"day":return eR(t);default:throw Error("Invalid rangeType: ".concat(e))}}function e3(e,t){switch(e){case"century":return ef(t);case"decade":return ej(t);case"year":return eS(t);case"month":return eI(t);case"day":return ez(t);default:throw Error("Invalid rangeType: ".concat(e))}}function e6(e,t,r){return r.map(function(r){return(t||eZ)(e,r)}).join(" – ")}function e7(e,t){void 0===t&&(t=eB);var r=e.getDay();switch(t){case eW:case eH:return 5===r||6===r;case eB:case eF:return 6===r||0===r;default:throw Error("Unsupported calendar type.")}}var e8="react-calendar__navigation";function e9(e){var t,r=e.activeStartDate,a=e.drillUp,n=e.formatMonthYear,s=void 0===n?eG:n,l=e.formatYear,i=void 0===l?eZ:l,d=e.locale,o=e.maxDate,c=e.minDate,u=e.navigationAriaLabel,g=e.navigationAriaLive,m=e.navigationLabel,x=e.next2AriaLabel,h=e.next2Label,f=void 0===h?"»":h,p=e.nextAriaLabel,y=e.nextLabel,b=void 0===y?"›":y,v=e.prev2AriaLabel,j=e.prev2Label,k=void 0===j?"«":j,N=e.prevAriaLabel,_=e.prevLabel,D=void 0===_?"‹":_,C=e.setActiveStartDate,S=e.showDoubleView,M=e.view,T=e.views.indexOf(M)>0,E="century"!==M,O=function(e,t){switch(e){case"century":return eg(t);case"decade":return ey(t);case"year":return eN(t);case"month":return eE(t);default:throw Error("Invalid rangeType: ".concat(e))}}(M,r),P=E?function(e,t){switch(e){case"decade":return ey(t,-100);case"year":return eN(t,-10);case"month":return eE(t,-12);default:throw Error("Invalid rangeType: ".concat(e))}}(M,r):void 0,$=e5(M,r),I=E?function(e,t){switch(e){case"decade":return eb(t,100);case"year":return e_(t,10);case"month":return eO(t,12);default:throw Error("Invalid rangeType: ".concat(e))}}(M,r):void 0,L=function(){if(0>O.getFullYear())return!0;var e=function(e,t){switch(e){case"century":return eh(t);case"decade":return ew(t);case"year":return eC(t);case"month":return e$(t);default:throw Error("Invalid rangeType: ".concat(e))}}(M,r);return c&&c>=e}(),A=E&&function(){if(0>P.getFullYear())return!0;var e=function(e,t){switch(e){case"decade":return ew(t,-100);case"year":return eC(t,-10);case"month":return e$(t,-12);default:throw Error("Invalid rangeType: ".concat(e))}}(M,r);return c&&c>=e}(),R=o&&o<$,z=E&&o&&o<I;function F(e){var t=function(){switch(M){case"century":return e6(d,i,ef(e));case"decade":return e6(d,i,ej(e));case"year":return i(d,e);case"month":return s(d,e);default:throw Error("Invalid view: ".concat(M,"."))}}();return m?m({date:e,label:t,locale:d||en()||void 0,view:M}):t}return(0,w.jsxs)("div",{className:e8,children:[null!==k&&E?(0,w.jsx)("button",{"aria-label":void 0===v?"":v,className:"".concat(e8,"__arrow ").concat(e8,"__prev2-button"),disabled:A,onClick:function(){C(P,"prev2")},type:"button",children:k}):null,null!==D&&(0,w.jsx)("button",{"aria-label":void 0===N?"":N,className:"".concat(e8,"__arrow ").concat(e8,"__prev-button"),disabled:L,onClick:function(){C(O,"prev")},type:"button",children:D}),(t="".concat(e8,"__label"),(0,w.jsxs)("button",{"aria-label":void 0===u?"":u,"aria-live":g,className:t,disabled:!T,onClick:a,style:{flexGrow:1},type:"button",children:[(0,w.jsx)("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--from"),children:F(r)}),S?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{className:"".concat(t,"__divider"),children:" – "}),(0,w.jsx)("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--to"),children:F($)})]}):null]})),null!==b&&(0,w.jsx)("button",{"aria-label":void 0===p?"":p,className:"".concat(e8,"__arrow ").concat(e8,"__next-button"),disabled:R,onClick:function(){C($,"next")},type:"button",children:b}),null!==f&&E?(0,w.jsx)("button",{"aria-label":void 0===x?"":x,className:"".concat(e8,"__arrow ").concat(e8,"__next2-button"),disabled:z,onClick:function(){C(I,"next2")},type:"button",children:f}):null]})}var te=function(){return(te=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tt=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function tr(e){return"".concat(e,"%")}function ta(e){var t=e.children,r=e.className,a=e.count,n=e.direction,s=e.offset,l=e.style,i=e.wrap,d=tt(e,["children","className","count","direction","offset","style","wrap"]);return(0,w.jsx)("div",te({className:r,style:te({display:"flex",flexDirection:n,flexWrap:i?"wrap":"nowrap"},l)},d,{children:j.Children.map(t,function(e,t){var r=s&&0===t?tr(100*s/a):null;return(0,j.cloneElement)(e,te(te({},e.props),{style:{flexBasis:tr(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:r,marginInlineStart:r,marginInlineEnd:0}}))})}))}function tn(e,t){return t[0]<=e&&t[1]>=e}function ts(e,t){return tn(e[0],t)||tn(e[1],t)}function tl(e,t,r){var a=ts(t,e),n=[];if(a){n.push(r);var s=tn(e[0],t),l=tn(e[1],t);s&&n.push("".concat(r,"Start")),l&&n.push("".concat(r,"End")),s&&l&&n.push("".concat(r,"BothEnds"))}return n}function ti(e){for(var t=e.className,r=e.count,a=e.dateTransform,n=e.dateType,s=e.end,l=e.hover,i=e.offset,d=e.renderTile,o=e.start,c=e.step,u=void 0===c?1:c,g=e.value,m=e.valueType,x=[],h=o;h<=s;h+=u){var f=a(h);x.push(d({classes:function(e){if(!e)throw Error("args is required");var t=e.value,r=e.date,a=e.hover,n="react-calendar__tile",s=[n];if(!r)return s;var l=new Date,i=function(){if(Array.isArray(r))return r;var t=e.dateType;if(!t)throw Error("dateType is required when date is not an array of two dates");return e3(t,r)}();if(tn(l,i)&&s.push("".concat(n,"--now")),!t||!(Array.isArray(t)?null!==t[0]&&null!==t[1]:null!==t))return s;var d=function(){if(Array.isArray(t))return t;var r=e.valueType;if(!r)throw Error("valueType is required when value is not an array of two dates");return e3(r,t)}();d[0]<=i[0]&&d[1]>=i[1]?s.push("".concat(n,"--active")):ts(d,i)&&s.push("".concat(n,"--hasActive"));var o=tl(d,i,"".concat(n,"--range"));s.push.apply(s,o);var c=Array.isArray(t)?t:[t];if(a&&1===c.length){var u=tl(a>d[0]?[d[0],a]:[a,d[0]],i,"".concat(n,"--hover"));s.push.apply(s,u)}return s}({date:f,dateType:n,hover:l,value:g,valueType:m}),date:f}))}return(0,w.jsx)(ta,{className:t,count:void 0===r?3:r,offset:i,wrap:!0,children:x})}function td(e){var t=e.activeStartDate,r=e.children,a=e.classes,n=e.date,s=e.formatAbbr,l=e.locale,i=e.maxDate,d=e.maxDateTransform,o=e.minDate,c=e.minDateTransform,u=e.onClick,g=e.onMouseOver,m=e.style,x=e.tileClassName,h=e.tileContent,f=e.tileDisabled,p=e.view,y=(0,j.useMemo)(function(){return"function"==typeof x?x({activeStartDate:t,date:n,view:p}):x},[t,n,x,p]),b=(0,j.useMemo)(function(){return"function"==typeof h?h({activeStartDate:t,date:n,view:p}):h},[t,n,h,p]);return(0,w.jsxs)("button",{className:(0,_.default)(a,y),disabled:o&&c(o)>n||i&&d(i)<n||(null==f?void 0:f({activeStartDate:t,date:n,view:p})),onClick:u?function(e){return u(n,e)}:void 0,onFocus:g?function(){return g(n)}:void 0,onMouseOver:g?function(){return g(n)}:void 0,style:m,type:"button",children:[s?(0,w.jsx)("abbr",{"aria-label":s(l,n),children:r}):r,b]})}var to=function(){return(to=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tc=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},tu="react-calendar__century-view__decades__decade";function tg(e){var t=e.classes,r=void 0===t?[]:t,a=e.currentCentury,n=e.formatYear,s=tc(e,["classes","currentCentury","formatYear"]),l=s.date,i=s.locale,d=[];return r&&d.push.apply(d,r),d.push(tu),eu(l).getFullYear()!==a&&d.push("".concat(tu,"--neighboringCentury")),(0,w.jsx)(td,to({},s,{classes:d,maxDateTransform:ev,minDateTransform:ep,view:"century",children:e6(i,void 0===n?eZ:n,ej(l))}))}var tm=function(){return(tm=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tx=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function th(e){var t=e.activeStartDate,r=e.hover,a=e.showNeighboringCentury,n=e.value,s=e.valueType,l=tx(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),i=ed(eu(t)),d=i+(a?119:99);return(0,w.jsx)(ti,{className:"react-calendar__century-view__decades",dateTransform:ep,dateType:"decade",end:d,hover:r,renderTile:function(e){var r=e.date,a=tx(e,["date"]);return(0,w.jsx)(tg,tm({},l,a,{activeStartDate:t,currentCentury:i,date:r}),r.getTime())},start:i,step:10,value:n,valueType:s})}var tf=function(){return(tf=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function tp(e){return(0,w.jsx)("div",{className:"react-calendar__century-view",children:(0,w.jsx)(th,tf({},e))})}var ty=function(){return(ty=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tb=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},tv="react-calendar__decade-view__years__year";function tw(e){var t=e.classes,r=void 0===t?[]:t,a=e.currentDecade,n=e.formatYear,s=void 0===n?eZ:n,l=tb(e,["classes","currentDecade","formatYear"]),i=l.date,d=l.locale,o=[];return r&&o.push.apply(o,r),o.push(tv),ep(i).getFullYear()!==a&&o.push("".concat(tv,"--neighboringDecade")),(0,w.jsx)(td,ty({},l,{classes:o,maxDateTransform:eD,minDateTransform:ek,view:"decade",children:s(d,i)}))}var tj=function(){return(tj=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tk=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function tN(e){var t=e.activeStartDate,r=e.hover,a=e.showNeighboringDecade,n=e.value,s=e.valueType,l=tk(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),i=ed(ep(t)),d=i+(a?11:9);return(0,w.jsx)(ti,{className:"react-calendar__decade-view__years",dateTransform:ek,dateType:"year",end:d,hover:r,renderTile:function(e){var r=e.date,a=tk(e,["date"]);return(0,w.jsx)(tw,tj({},l,a,{activeStartDate:t,currentDecade:i,date:r}),r.getTime())},start:i,value:n,valueType:s})}var t_=function(){return(t_=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function tD(e){return(0,w.jsx)("div",{className:"react-calendar__decade-view",children:(0,w.jsx)(tN,t_({},e))})}var tC=function(){return(tC=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tS=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},tM=function(e,t,r){if(r||2==arguments.length)for(var a,n=0,s=t.length;n<s;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};function tT(e){var t=e.classes,r=e.formatMonth,a=e.formatMonthYear,n=tS(e,["classes","formatMonth","formatMonthYear"]),s=n.date,l=n.locale;return(0,w.jsx)(td,tC({},n,{classes:tM(tM([],void 0===t?[]:t,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:void 0===a?eG:a,maxDateTransform:eP,minDateTransform:eT,view:"year",children:(void 0===r?eq:r)(l,s)}))}var tE=function(){return(tE=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tO=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function tP(e){var t=e.activeStartDate,r=e.hover,a=e.value,n=e.valueType,s=tO(e,["activeStartDate","hover","value","valueType"]),l=ed(t);return(0,w.jsx)(ti,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(l,e,1),eT(t)},dateType:"month",end:11,hover:r,renderTile:function(e){var r=e.date,a=tO(e,["date"]);return(0,w.jsx)(tT,tE({},s,a,{activeStartDate:t,date:r}),r.getTime())},start:0,value:a,valueType:n})}var t$=function(){return(t$=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function tI(e){return(0,w.jsx)("div",{className:"react-calendar__year-view",children:(0,w.jsx)(tP,t$({},e))})}var tL=function(){return(tL=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tA=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},tR="react-calendar__month-view__days__day";function tz(e){var t=e.calendarType,r=e.classes,a=void 0===r?[]:r,n=e.currentMonthIndex,s=e.formatDay,l=e.formatLongDate,i=tA(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=i.date,o=i.locale,c=[];return a&&c.push.apply(c,a),c.push(tR),e7(d,t)&&c.push("".concat(tR,"--weekend")),d.getMonth()!==n&&c.push("".concat(tR,"--neighboringMonth")),(0,w.jsx)(td,tL({},i,{classes:c,formatAbbr:void 0===l?eX:l,maxDateTransform:eR,minDateTransform:eA,view:"month",children:(void 0===s?eK:s)(o,d)}))}var tF=function(){return(tF=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tH=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function tW(e){var t=e.activeStartDate,r=e.calendarType,a=e.hover,n=e.showFixedNumberOfWeeks,s=e.showNeighboringMonth,l=e.value,i=e.valueType,d=tH(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),o=ed(t),c=eo(t),u=n||s,g=e0(t,r),m=(u?-g:0)+1,x=function(){if(n)return m+42-1;var e=ec(eP(t));if(s){var a=new Date;return a.setFullYear(o,c,e),a.setHours(0,0,0,0),e+(7-e0(a,r)-1)}return e}();return(0,w.jsx)(ti,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(o,c,e),eA(t)},dateType:"day",hover:a,end:x,renderTile:function(e){var a=e.date,n=tH(e,["date"]);return(0,w.jsx)(tz,tF({},d,n,{activeStartDate:t,calendarType:r,currentMonthIndex:c,date:a}),a.getTime())},offset:u?0:g,start:m,value:l,valueType:i})}var tB="react-calendar__month-view__weekdays",tY="".concat(tB,"__weekday");function tU(e){for(var t=e.calendarType,r=e.formatShortWeekday,a=void 0===r?eJ:r,n=e.formatWeekday,s=void 0===n?eQ:n,l=e.locale,i=e.onMouseLeave,d=eT(new Date),o=ed(d),c=eo(d),u=[],g=1;g<=7;g+=1){var m=new Date(o,c,g-e0(d,t)),x=s(l,m);u.push((0,w.jsx)("div",{className:(0,_.default)(tY,m.getDay()===new Date().getDay()&&"".concat(tY,"--current"),e7(m,t)&&"".concat(tY,"--weekend")),children:(0,w.jsx)("abbr",{"aria-label":x,title:x,children:a(l,m).replace(".","")})},g))}return(0,w.jsx)(ta,{className:tB,count:7,onFocus:i,onMouseOver:i,children:u})}var tV=function(){return(tV=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tK=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},tX="react-calendar__tile";function tq(e){var t=e.onClickWeekNumber,r=e.weekNumber,a=(0,w.jsx)("span",{children:r});if(t){var n=e.date,s=e.onClickWeekNumber,l=e.weekNumber,i=tK(e,["date","onClickWeekNumber","weekNumber"]);return(0,w.jsx)("button",tV({},i,{className:tX,onClick:function(e){return s(l,n,e)},type:"button",children:a}))}e.date,e.onClickWeekNumber,e.weekNumber;var i=tK(e,["date","onClickWeekNumber","weekNumber"]);return(0,w.jsx)("div",tV({},i,{className:tX,children:a}))}function tG(e){var t=e.activeStartDate,r=e.calendarType,a=e.onClickWeekNumber,n=e.onMouseLeave,s=e.showFixedNumberOfWeeks,l=s?6:1+Math.ceil((ec(eP(t))-(7-e0(t,r)))/7),i=function(){for(var e=ed(t),a=eo(t),n=ec(t),s=[],i=0;i<l;i+=1)s.push(e1(new Date(e,a,n+7*i),r));return s}(),d=i.map(function(e){var t=r;void 0===t&&(t=eB);var a,n=t===eF?eF:eB,s=e1(e,t),l=ed(e)+1;do a=e1(new Date(l,0,n===eB?4:1),t),l-=1;while(e<a)return Math.round((s.getTime()-a.getTime())/(864e5*7))+1});return(0,w.jsx)(ta,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:n,onMouseOver:n,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:d.map(function(e,t){var r=i[t];if(!r)throw Error("date is not defined");return(0,w.jsx)(tq,{date:r,onClickWeekNumber:a,weekNumber:e},e)})})}var tJ=function(){return(tJ=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},tQ=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function tZ(e){var t=e.activeStartDate,r=e.locale,a=e.onMouseLeave,n=e.showFixedNumberOfWeeks,s=e.calendarType,l=void 0===s?function(e){if(e)for(var t=0,r=Object.entries(eY);t<r.length;t++){var a=r[t],n=a[0];if(a[1].includes(e))return n}return eB}(r):s,i=e.formatShortWeekday,d=e.formatWeekday,o=e.onClickWeekNumber,c=e.showWeekNumbers,u=tQ(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]),g="react-calendar__month-view";return(0,w.jsx)("div",{className:(0,_.default)(g,c?"".concat(g,"--weekNumbers"):""),children:(0,w.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[c?(0,w.jsx)(tG,{activeStartDate:t,calendarType:l,onClickWeekNumber:o,onMouseLeave:a,showFixedNumberOfWeeks:n}):null,(0,w.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,w.jsx)(tU,{calendarType:l,formatShortWeekday:i,formatWeekday:d,locale:r,onMouseLeave:a}),(0,w.jsx)(tW,tJ({calendarType:l},u))]})]})})}var t0=function(){return(t0=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},t1="react-calendar",t2=["century","decade","year","month"],t5=["decade","year","month","day"],t4=new Date;t4.setFullYear(1,0,1),t4.setHours(0,0,0,0);var t3=new Date(864e13);function t6(e){return e instanceof Date?e:new Date(e)}function t7(e,t){return t2.slice(t2.indexOf(e),t2.indexOf(t)+1)}function t8(e,t,r){return e?-1!==t7(t,r).indexOf(e)?e:r:r}function t9(e){return t5[t2.indexOf(e)]}function re(e,t){var r,a=e.value,n=e.minDate,s=e.maxDate,l=e.maxDetail,i=function(e,t){var r=Array.isArray(e)?e[t]:e;if(!r)return null;var a=t6(r);if(Number.isNaN(a.getTime()))throw Error("Invalid date: ".concat(e));return a}(a,t);if(!i)return null;var d=t9(l);return r=function(){switch(t){case 0:return e2(d,i);case 1:return e4(d,i);default:throw Error("Invalid index value: ".concat(t))}}(),n&&n>r?n:s&&s<r?s:r}var rt=function(e){return re(e,0)},rr=function(e){return re(e,1)},ra=function(e){return[rt,rr].map(function(t){return t(e)})};function rn(e){var t=e.maxDate,r=e.maxDetail,a=e.minDate,n=e.minDetail,s=e.value;return e2(t8(e.view,n,r),rt({value:s,minDate:a,maxDate:t,maxDetail:r})||new Date)}function rs(e){return e&&(!Array.isArray(e)||1===e.length)}function rl(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var ri=(0,j.forwardRef)(function(e,t){var r,a,n,s,l,i,d,o,c,u,g,m,x,h,f=e.activeStartDate,p=e.allowPartialRange,y=e.calendarType,b=e.className,v=e.defaultActiveStartDate,k=e.defaultValue,N=e.defaultView,D=e.formatDay,C=e.formatLongDate,S=e.formatMonth,M=e.formatMonthYear,T=e.formatShortWeekday,E=e.formatWeekday,O=e.formatYear,P=e.goToRangeStartOnSelect,$=void 0===P||P,I=e.inputRef,L=e.locale,A=e.maxDate,R=void 0===A?t3:A,z=e.maxDetail,F=void 0===z?"month":z,H=e.minDate,W=void 0===H?t4:H,B=e.minDetail,Y=void 0===B?"century":B,U=e.navigationAriaLabel,V=e.navigationAriaLive,K=e.navigationLabel,X=e.next2AriaLabel,q=e.next2Label,G=e.nextAriaLabel,J=e.nextLabel,Q=e.onActiveStartDateChange,Z=e.onChange,ee=e.onClickDay,et=e.onClickDecade,er=e.onClickMonth,ea=e.onClickWeekNumber,en=e.onClickYear,es=e.onDrillDown,el=e.onDrillUp,ei=e.onViewChange,ed=e.prev2AriaLabel,eo=e.prev2Label,ec=e.prevAriaLabel,eu=e.prevLabel,eg=e.returnValue,em=void 0===eg?"start":eg,ex=e.selectRange,eh=e.showDoubleView,ef=e.showFixedNumberOfWeeks,ep=e.showNavigation,ey=e.showNeighboringCentury,eb=e.showNeighboringDecade,ev=e.showNeighboringMonth,ew=void 0===ev||ev,ej=e.showWeekNumbers,ek=e.tileClassName,eN=e.tileContent,e_=e.tileDisabled,eD=e.value,eC=e.view,eS=(0,j.useState)(v),eM=eS[0],eT=eS[1],eE=(0,j.useState)(null),eO=eE[0],eP=eE[1],e$=(0,j.useState)(Array.isArray(k)?k.map(function(e){return null!==e?t6(e):null}):null!=k?t6(k):null),eI=e$[0],eL=e$[1],eA=(0,j.useState)(N),eR=eA[0],ez=eA[1],eF=f||eM||(a=(r={activeStartDate:f,defaultActiveStartDate:v,defaultValue:k,defaultView:N,maxDate:R,maxDetail:F,minDate:W,minDetail:Y,value:eD,view:eC}).activeStartDate,n=r.defaultActiveStartDate,s=r.defaultValue,l=r.defaultView,i=r.maxDate,d=r.maxDetail,o=r.minDate,c=r.minDetail,u=r.value,m=t8(g=r.view,c,d),(x=a||n)?e2(m,x):rn({maxDate:i,maxDetail:d,minDate:o,minDetail:c,value:u||s,view:g||l})),eH=(h=ex&&rs(eI)?eI:void 0!==eD?eD:eI)?Array.isArray(h)?h.map(function(e){return null!==e?t6(e):null}):null!==h?t6(h):null:null,eW=t9(F),eB=t8(eC||eR,Y,F),eY=t7(Y,F),eU=ex?eO:null,eV=eY.indexOf(eB)<eY.length-1,eK=eY.indexOf(eB)>0,eX=(0,j.useCallback)(function(e){return(function(){switch(em){case"start":return rt;case"end":return rr;case"range":return ra;default:throw Error("Invalid returnValue.")}})()({maxDate:R,maxDetail:F,minDate:W,value:e})},[R,F,W,em]),eq=(0,j.useCallback)(function(e,t){eT(e),Q&&!rl(eF,e)&&Q({action:t,activeStartDate:e,value:eH,view:eB})},[eF,Q,eH,eB]),eG=(0,j.useCallback)(function(e,t){var r=function(){switch(eB){case"century":return et;case"decade":return en;case"year":return er;case"month":return ee;default:throw Error("Invalid view: ".concat(eB,"."))}}();r&&r(e,t)},[ee,et,er,en,eB]),eJ=(0,j.useCallback)(function(e,t){if(eV){eG(e,t);var r=eY[eY.indexOf(eB)+1];if(!r)throw Error("Attempted to drill down from the lowest view.");eT(e),ez(r);var a={action:"drillDown",activeStartDate:e,value:eH,view:r};Q&&!rl(eF,e)&&Q(a),ei&&eB!==r&&ei(a),es&&es(a)}},[eF,eV,Q,eG,es,ei,eH,eB,eY]),eQ=(0,j.useCallback)(function(){if(eK){var e=eY[eY.indexOf(eB)-1];if(!e)throw Error("Attempted to drill up from the highest view.");var t=e2(e,eF);eT(t),ez(e);var r={action:"drillUp",activeStartDate:t,value:eH,view:e};Q&&!rl(eF,t)&&Q(r),ei&&eB!==e&&ei(r),el&&el(r)}},[eF,eK,Q,el,ei,eH,eB,eY]),eZ=(0,j.useCallback)(function(e,t){eG(e,t);var r,a,n=ex&&!rs(eH);if(ex)if(n)r=e2(eW,e);else{if(!eH)throw Error("previousValue is required");if(Array.isArray(eH))throw Error("previousValue must not be an array");r=[e2(eW,(a=[eH,e].sort(function(e,t){return e.getTime()-t.getTime()}))[0]),e4(eW,a[1])]}else r=eX(e);var s=!ex||n||$?rn({maxDate:R,maxDetail:F,minDate:W,minDetail:Y,value:r,view:eB}):null;t.persist(),eT(s),eL(r);var l={action:"onChange",activeStartDate:s,value:r,view:eB};if(Q&&!rl(eF,s)&&Q(l),Z)if(ex)if(rs(r)){if(p){if(Array.isArray(r))throw Error("value must not be an array");Z([r||null,null],t)}}else Z(r||null,t);else Z(r||null,t)},[eF,p,eX,$,R,F,W,Y,Q,Z,eG,ex,eH,eW,eB]);function e0(e){eP(e)}function e1(){eP(null)}function e3(e){var t={activeStartDate:e?e5(eB,eF):e2(eB,eF),hover:eU,locale:L,maxDate:R,minDate:W,onClick:eV?eJ:eZ,onMouseOver:ex?e0:void 0,tileClassName:ek,tileContent:eN,tileDisabled:e_,value:eH,valueType:eW};switch(eB){case"century":return(0,w.jsx)(tp,t0({formatYear:O,showNeighboringCentury:ey},t));case"decade":return(0,w.jsx)(tD,t0({formatYear:O,showNeighboringDecade:eb},t));case"year":return(0,w.jsx)(tI,t0({formatMonth:S,formatMonthYear:M},t));case"month":return(0,w.jsx)(tZ,t0({calendarType:y,formatDay:D,formatLongDate:C,formatShortWeekday:T,formatWeekday:E,onClickWeekNumber:ea,onMouseLeave:ex?e1:void 0,showFixedNumberOfWeeks:void 0!==ef?ef:eh,showNeighboringMonth:ew,showWeekNumbers:ej},t));default:throw Error("Invalid view: ".concat(eB,"."))}}(0,j.useImperativeHandle)(t,function(){return{activeStartDate:eF,drillDown:eJ,drillUp:eQ,onChange:eZ,setActiveStartDate:eq,value:eH,view:eB}},[eF,eJ,eQ,eZ,eq,eH,eB]);var e6=Array.isArray(eH)?eH:[eH];return(0,w.jsxs)("div",{className:(0,_.default)(t1,ex&&1===e6.length&&"".concat(t1,"--selectRange"),eh&&"".concat(t1,"--doubleView"),b),ref:I,children:[void 0===ep||ep?(0,w.jsx)(e9,{activeStartDate:eF,drillUp:eQ,formatMonthYear:M,formatYear:O,locale:L,maxDate:R,minDate:W,navigationAriaLabel:U,navigationAriaLive:V,navigationLabel:K,next2AriaLabel:X,next2Label:q,nextAriaLabel:G,nextLabel:J,prev2AriaLabel:ed,prev2Label:eo,prevAriaLabel:ec,prevLabel:eu,setActiveStartDate:eq,showDoubleView:eh,view:eB,views:eY}):null,(0,w.jsxs)("div",{className:"".concat(t1,"__viewContainer"),onBlur:ex?e1:void 0,onMouseLeave:ex?e1:void 0,children:[e3(),eh?e3(!0):null]})]})});function rd({value:e,onChange:t,minDate:r,maxDate:a,placeholder:n="날짜를 선택하세요",label:s,icon:l="calendar",error:i,disabled:d=!1}){let o=e=>{if(!e)return new Date;let[t,r,a]=e.split("-").map(Number);return new Date(t,r-1,a)},[c,u]=(0,j.useState)(!1),[g,m]=(0,j.useState)({top:0,left:0}),[x,h]=(0,j.useState)(()=>e?o(e):new Date),[f,p]=(0,j.useState)(null),y=(0,j.useRef)(null),b=(0,j.useRef)(null),v=(0,j.useCallback)(()=>{if(!b.current)return;let e=b.current.getBoundingClientRect(),t=e.bottom+14,r=e.left;t+340>window.innerHeight&&(t=e.top-340-14),r+330>window.innerWidth&&(r=window.innerWidth-330-14),r<8&&(r=8),m({top:t,left:r})},[]);return(0,j.useEffect)(()=>{let e=e=>{y.current&&!y.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,j.useEffect)(()=>{if(!c)return;let e=()=>u(!1);return window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}},[c]),(0,w.jsxs)("div",{className:"relative",ref:y,children:[s&&(0,w.jsx)("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-200",children:s}),(0,w.jsxs)("div",{className:"relative",ref:b,children:[(0,w.jsx)("div",{onClick:()=>{if(d)return;c||v();let t=e?o(e):new Date;if(r){let e=o(r);t<e&&(t=e)}if(a){let e=o(a);t>e&&(t=e)}h(t),p(null),u(e=>!e)},className:`
            w-full h-10 px-3 pr-10 border rounded-lg flex items-center text-sm cursor-pointer
            bg-white dark:bg-gray-700 input-focus-style
            ${i?"border-red-500":c?"border-main-400 ring-2 ring-main-400/20":"border-gray-300 dark:border-gray-600"}
            hover:border-gray-400 dark:hover:border-gray-500
          `,children:(0,w.jsx)("span",{className:e?"text-gray-900 dark:text-gray-100":"text-gray-400 dark:text-gray-500",children:e?e?o(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"":n})}),(0,w.jsx)(C.Icon,{type:l,size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),i&&(0,w.jsxs)("p",{className:"text-xs text-red-500 mt-1 pl-1",children:["* ",i]}),c&&"undefined"!=typeof document&&(0,Y.createPortal)((0,w.jsxs)("div",{className:"calendar-portal",style:{top:g.top,left:g.left},onMouseDown:e=>e.stopPropagation(),children:[(0,w.jsx)(ri,{value:e?o(e):new Date,onChange:e=>{if(!(e instanceof Date))return;let n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),i=`${n}-${s}-${l}`;if(r&&i<r){p("프로젝트 시작일 이전의 날짜는 선택할 수 없습니다"),setTimeout(()=>p(null),2500);return}if(a&&i>a){p("프로젝트 종료일 이후의 날짜는 선택할 수 없습니다"),setTimeout(()=>p(null),2500);return}p(null),t(i),u(!1)},activeStartDate:x,onActiveStartDateChange:({activeStartDate:e})=>{e&&h(e)},tileDisabled:({date:e})=>!!(r&&e<o(r)||a&&e>o(a)),locale:"ko-KR",calendarType:"gregory",className:"react-calendar-custom"}),f&&(0,w.jsx)("div",{className:"mt-2 px-3 py-2 bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700 rounded-lg",children:(0,w.jsxs)("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium text-center",children:["⚠️ ",f]})})]}),document.body)]})}function ro({startDate:e,endDate:t,startTime:r,endTime:a,projectStartedAt:n,projectEndedAt:s,useTime:l=!1,error:i,disabled:d,onStartDateChange:o,onEndDateChange:c,onStartTimeChange:u,onEndTimeChange:g,onUseTimeChange:m}){let x=!!s&&new Date().toISOString().split("T")[0]>s,h=d||x;return(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsx)(rd,{label:"시작일",icon:"calendarPlus",value:e,onChange:o,minDate:n,maxDate:t||s,disabled:h}),(0,w.jsx)(rd,{label:"마감일",icon:"calendarCheck",value:t,onChange:c,minDate:e||n,maxDate:s,error:i,disabled:h})]}),x&&(0,w.jsx)("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:(0,w.jsx)("p",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium",children:"⚠️ 프로젝트가 종료되어 일정을 추가할 수 없습니다 (읽기 전용)"})}),(0,w.jsxs)("label",{className:`flex items-center gap-2 text-sm select-none ${h?"cursor-not-allowed opacity-60":"cursor-pointer"}`,children:[(0,w.jsx)("input",{type:"checkbox",checked:l,onChange:e=>m(e.target.checked),disabled:h,className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600  text-main-600 focus:ring-main-500 dark:bg-gray-700 disabled:cursor-not-allowed"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"시간 지정"})]}),l&&(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsx)(rc,{label:"시작 시간",value:r,onChange:u,disabled:h}),(0,w.jsx)(rc,{label:"종료 시간",value:a,onChange:g,disabled:h})]})]})}function rc({label:e,value:t,onChange:r,disabled:a}){let[n,s]=(0,j.useState)(!1),[l,i]=(0,j.useState)(t),d=(0,j.useRef)(null),o=Array.from({length:15},(e,t)=>(t+9).toString().padStart(2,"0")),[c,u]=t?t.split(":"):["09","00"];(0,j.useEffect)(()=>{i(t)},[t]),(0,j.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&s(!1)};return n&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]);let g=(e,t)=>{let a=`${e}:${t}`;i(a),r(a)};return(0,w.jsxs)("div",{ref:d,className:"relative",children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:e}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("input",{type:"text",value:l,onChange:e=>{let t=e.target.value.replace(/[^0-9:]/g,"");4!==t.length||t.includes(":")||(t=t.slice(0,2)+":"+t.slice(2)),i(t),/^([0-1][0-9]|2[0-3]):([0-5][0-9])$/.test(t)&&r(t)},onKeyDown:e=>{"ArrowDown"===e.key||"Enter"===e.key?(e.preventDefault(),s(!0)):"Escape"===e.key&&s(!1)},onFocus:()=>s(!0),onBlur:()=>{l&&!l.match(/^([0-1][0-9]|2[0-3]):([0-5][0-9])$/)&&i(t)},placeholder:"09:00",disabled:a,className:`
            w-full h-10 pl-3 pr-10
            border border-gray-300 dark:border-gray-600 rounded-lg 
            input-focus-style
            bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            placeholder:text-gray-400 dark:placeholder:text-gray-500
            disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed disabled:opacity-60
            text-sm transition-all
          `}),(0,w.jsx)(B,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4  text-gray-400 dark:text-gray-500 pointer-events-none"})]}),n&&!a&&(0,w.jsxs)("div",{className:"absolute z-50 mt-1 w-full bg-white dark:bg-gray-800  border border-gray-200 dark:border-gray-700  rounded-lg shadow-lg p-3",onMouseDown:e=>e.preventDefault(),children:[(0,w.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 font-medium",children:"시간 선택"}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsxs)("div",{className:"flex-1",children:[(0,w.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"시"}),(0,w.jsx)("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded",children:o.map(e=>(0,w.jsx)("div",{onClick:()=>g(e,u),className:`px-2 py-1.5 text-sm cursor-pointer text-center
                      ${c===e?"bg-main-50 dark:bg-main-900/30 text-main-600 dark:text-main-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:e},e))})]}),(0,w.jsxs)("div",{className:"flex-1",children:[(0,w.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"분"}),(0,w.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded",children:["00","15","30","45"].map(e=>(0,w.jsx)("div",{onClick:()=>g(c,e),className:`px-2 py-1.5 text-sm cursor-pointer text-center
                      ${u===e?"bg-main-50 dark:bg-main-900/30 text-main-600 dark:text-main-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:e},e))})]})]})]})]})}let ru=()=>{let[e,t]=(0,j.useState)(!1),[r,a]=(0,j.useState)(void 0),[n,s]=(0,j.useState)(void 0),[l,i]=(0,j.useState)(void 0),[d,o]=(0,j.useState)(void 0),c=(0,j.useCallback)((e,r,n,l)=>{a(e),s(r),i(n),t(!0),o(l)},[]),u=(0,j.useCallback)(()=>{t(!1),a(void 0),s(void 0),i(void 0),o(void 0)},[]);return{openModal:c,closeModal:u,modalProps:{type:r,isOpen:e,onClose:u,title:n,description:l,warning:d}}},rg=({subtasks:e,editable:t=!1,onUpdate:r,disabled:a=!1})=>{let[n,s]=(0,j.useState)(null),[l,i]=(0,j.useState)(""),[d,o]=(0,j.useState)(""),[c,u]=(0,j.useState)(!1),[g,m]=(0,j.useState)(null),{modalProps:x,openModal:h,closeModal:f}=ru(),p=e.filter(e=>e.completed).length,y=a=>{t&&r&&l.trim()&&(r(e.map(e=>e.id===a?{...e,title:l}:e)),s(null),i(""))},b=()=>{s(null),i("")},v=()=>{t&&r&&d.trim()&&!a&&(r([...e,{id:`subtask-${Date.now()}`,title:d,completed:!1}]),o(""),u(!1))};if(!t){let t=e.length>0?Math.round(p/e.length*100):0;return(0,w.jsxs)("div",{className:"mb-3 p-2 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,w.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"하위 작업"}),(0,w.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[p,"/",e.length]})]}),(0,w.jsx)("div",{className:"mb-2 h-1.5 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,w.jsx)("div",{className:"h-full bg-main-500 dark:bg-main-400 transition-all duration-300",style:{width:`${t}%`}})}),(0,w.jsxs)("div",{className:"space-y-1.5",children:[e.slice(0,2).map(e=>(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,w.jsx)(C.Icon,{type:e.completed?"circleCheck":"circle",size:16,className:e.completed?"text-main-500":"text-gray-300 dark:text-gray-600"}),(0,w.jsx)("span",{className:e.completed?"line-through text-gray-400 dark:text-gray-500":"text-gray-700 dark:text-gray-300",children:e.title})]},e.id)),e.length>2&&(0,w.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500 pl-6",children:["+",e.length-2,"개 더"]})]})]})}let k=[...e].sort((e,t)=>e.completed===t.completed?0:e.completed?1:-1);return(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,w.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["완료 ",p,"/",e.length]}),(0,w.jsx)("div",{className:"flex-1 mx-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,w.jsx)("div",{className:"h-full bg-main-400 dark:bg-main-500 transition-all duration-300",style:{width:`${e.length>0?p/e.length*100:0}%`}})}),(0,w.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.length>0?Math.round(p/e.length*100):0,"%"]})]}),(0,w.jsx)("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:k.map(d=>(0,w.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors group",children:[(0,w.jsx)("input",{type:"checkbox",checked:d.completed,onChange:()=>{var n;return n=d.id,void(!t||!r||a||r(e.map(e=>e.id===n?{...e,completed:!e.completed}:e)))},disabled:a,className:`w-4 h-4 accent-main-500 ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}`}),n===d.id?(0,w.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,w.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&y(d.id),"Escape"===e.key&&b()},autoFocus:!0,className:"flex-1 px-2 py-1 text-sm border border-main-300 dark:border-main-600 rounded input-focus-style dark:bg-gray-800 dark:text-gray-200"}),(0,w.jsx)("button",{onClick:()=>y(d.id),className:"text-green-600 hover:text-green-700 dark:text-green-500 dark:hover:text-green-400",children:(0,w.jsx)(C.Icon,{type:"circleCheck",size:18})}),(0,w.jsx)("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,w.jsx)(C.Icon,{type:"x",size:18})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{className:`flex-1 text-sm ${d.completed?"line-through text-gray-400 dark:text-gray-500":"text-gray-700 dark:text-gray-300"}`,children:d.title}),!a&&(0,w.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1 transition-opacity",children:[(0,w.jsx)("button",{onClick:()=>{!a&&(s(d.id),i(d.title))},className:"text-gray-400 hover:text-main-500 dark:text-gray-500 dark:hover:text-main-400",children:(0,w.jsx)(C.Icon,{type:"edit",size:16})}),(0,w.jsx)("button",{onClick:()=>{var e;return e=d.id,void(t&&r&&!a&&(m(e),h("delete","하위 작업 삭제","이 하위 작업을 삭제하시겠습니까?")))},className:"text-gray-400 hover:text-red-500 dark:text-gray-500 dark:hover:text-red-400",children:(0,w.jsx)(C.Icon,{type:"trash",size:16})})]})]})]},d.id))}),c?(0,w.jsxs)("div",{className:"flex items-center gap-2 mt-3 p-2 border border-main-300 dark:border-main-600 rounded dark:bg-gray-800",children:[(0,w.jsx)(C.Icon,{type:"plus",size:16,className:"text-gray-400 dark:text-gray-500"}),(0,w.jsx)("input",{type:"text",value:d,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&v(),"Escape"===e.key&&(u(!1),o(""))},placeholder:"하위 작업 제목",autoFocus:!0,className:"flex-1 text-sm focus:outline-none dark:bg-gray-800 dark:text-gray-200 dark:placeholder-gray-500"}),(0,w.jsx)("button",{onClick:v,className:"text-green-600 hover:text-green-700 dark:text-green-500 dark:hover:text-green-400",children:(0,w.jsx)(C.Icon,{type:"circleCheck",size:18})}),(0,w.jsx)("button",{onClick:()=>{u(!1),o("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,w.jsx)(C.Icon,{type:"x",size:18})})]}):!a&&(0,w.jsx)(D.default,{variant:"basic",icon:"plus",onClick:()=>u(!0),className:"mt-3 w-full",children:"하위 작업 추가"}),(0,w.jsx)(O,{...x,onConfirm:()=>{g&&r&&(r(e.filter(e=>e.id!==g)),m(null),f())}})]})};function rm({subtasks:e,onUpdate:t,disabled:r=!1}){return(0,w.jsxs)("div",{children:[(0,w.jsx)(P,{icon:"checkList",title:"하위 할 일"}),(0,w.jsx)(rg,{subtasks:e,editable:!r,onUpdate:t,disabled:r})]})}var rx=e.i(63135);function rh({userName:e,profileImage:t,size:r=32,className:a="",onImageError:n}){let[s,l]=(0,j.useState)(!1),i=[`w-${Math.ceil(r/4)} h-${Math.ceil(r/4)}`,"rounded-full","bg-main-200 dark:bg-main-700","flex items-center justify-center","overflow-hidden",a].filter(Boolean).join(" ");return(0,w.jsx)("div",{className:i,style:{width:r,height:r},children:!t||t.includes("default-user")||t.includes("placeholder")||s?(0,w.jsx)("span",{className:`font-medium text-main-600 dark:text-main-300 ${r<=24?"text-xs":r<=32?"text-sm":r<=48?"text-base":"text-lg"}`,children:e?.charAt(0)?.toUpperCase()||"?"}):(0,w.jsx)(rx.default,{src:t,alt:e,width:r,height:r,className:"w-full h-full object-cover",onError:()=>{l(!0),n?.()}})})}function rf({icon:e="inbox",iconSize:t=24,title:r,description:a,info:n,action:s,variant:l="default",className:i=""}){return(0,w.jsxs)("div",{className:`text-center ${(()=>{switch(l){case"dashed":return"p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800";case"minimal":return"p-2";default:return"p-4 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800"}})()} ${i}`,children:[(0,w.jsx)(C.Icon,{type:e,size:t,className:"mx-auto mb-2 text-gray-400 dark:text-gray-500"}),(0,w.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:r}),a&&(0,w.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:a}),n&&(0,w.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:n}),s&&(0,w.jsx)("div",{className:"mt-3",children:s})]})}function rp(e){return(0,w.jsx)(rf,{icon:"userPlus",title:"아직 팀원이 없어요",info:"관리자에게 팀원 초대를 요청해보세요",variant:"dashed",...e})}function ry({value:e,disabled:t=!1,onChange:r,placeholder:a="담당자 이름을 입력하세요",isEditing:n=!1,isLoading:s=!1,members:l,onEdit:i,onBlur:d,onCancel:o}){let[c,u]=(0,j.useState)(!1),[g,m]=(0,j.useState)(""),x=l?.find(t=>t.user_id===e),h=(l||[]).filter(e=>{if(!g)return!0;let t=g.toLowerCase(),r=e.users?.user_name?.toLowerCase()||"",a=e.users?.email?.toLowerCase()||"",n=e.user_id?.toLowerCase()||"";return r.includes(t)||a.includes(t)||n.includes(t)}),f=(e,t)=>{r(e),m(t),u(!1),d?.()};return void 0!==n&&!0!==n&&i?(0,w.jsxs)("div",{children:[(0,w.jsxs)("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,w.jsx)(C.Icon,{type:"userCircle",size:16,className:"text-gray-500 dark:text-gray-400"}),"담당자"]}),s?(0,w.jsxs)("div",{className:"p-2 flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[(0,w.jsx)(C.Icon,{type:"loading",size:16,className:"animate-spin"}),(0,w.jsx)("span",{className:"text-sm",children:"담당자 정보를 불러오는 중..."})]}):e?(0,w.jsx)("div",{onClick:i,className:"cursor-pointer rounded transition-colors hover:bg-gray-50 dark:hover:bg-gray-600",children:(0,w.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,w.jsx)(rh,{userName:x?.users?.user_name||"",profileImage:x?.users?.profile_image,size:32}),(0,w.jsxs)("div",{className:"flex-1",children:[(0,w.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[x?.users?.user_name,(0,w.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",x?.role,")"]})]}),(0,w.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:x?.users?.email})]})]})}):(0,w.jsx)("div",{children:0===(l||[]).length?(0,w.jsx)(rp,{iconSize:16}):(0,w.jsx)("p",{onClick:i,className:"p-2 rounded transition-colors cursor-pointer text-gray-400 dark:text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700",children:"클릭하여 담당자 추가"})})]}):(0,w.jsxs)("div",{children:[(0,w.jsxs)("h3",{className:"text-sm font-semibold  mb-2 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,w.jsx)(C.Icon,{type:"userCircle",size:16,className:"text-gray-500 dark:text-gray-400"}),"담당자"]}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(C.Icon,{type:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400 dark:text-gray-500"}),(0,w.jsx)("input",{type:"text",value:g||"",onChange:e=>{m(e.target.value),u(!0)},onFocus:()=>{u(!0),x&&m(x.users.user_name)},onBlur:()=>{setTimeout(()=>u(!1),200),d?.()},onKeyDown:e=>{"Enter"===e.key&&h.length>0&&f(h[0].user_id,h[0].users.user_name),"Escape"===e.key&&(o?.(),u(!1),m(""))},autoFocus:n,className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg input-focus-style bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:s?"불러오는 중...":a,disabled:t||s})]}),c&&(0,w.jsxs)("div",{className:"absolute left-0 right-0 top-full mt-1 z-50",children:[s&&(0,w.jsx)("div",{className:"p-2 text-center text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:"불러오는 중..."}),!s&&0===(l||[]).length&&(0,w.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg p-3",children:(0,w.jsx)(rp,{iconSize:16})}),!s&&h.length>0&&(0,w.jsx)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg max-h-[120px] overflow-y-auto bg-white dark:bg-gray-800 shadow-lg",children:h.map(e=>(0,w.jsxs)("div",{onMouseDown:t=>{t.preventDefault(),f(e.user_id,e.users.user_name)},className:"flex items-center gap-3 px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[(0,w.jsx)(rh,{userName:e.users.user_name,profileImage:e.users.profile_image,size:32}),(0,w.jsxs)("div",{className:"flex-1",children:[(0,w.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.users.user_name,(0,w.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",e.role,")"]})]}),(0,w.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.users.email})]})]},e.user_id))}),!s&&0===h.length&&g&&(0,w.jsxs)("div",{className:"p-2 text-center text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:['"',g,'"와 일치하는 팀원이 없어요']})]}),x&&!c&&(0,w.jsx)("div",{className:"mt-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800",children:(0,w.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2",children:[(0,w.jsx)(rh,{userName:x?.users?.user_name||"",profileImage:x?.users?.profile_image,size:32,onImageError:()=>{x?.user_id}}),(0,w.jsxs)("div",{className:"flex-1",children:[(0,w.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[x.users.user_name,(0,w.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",x.role,")"]})]}),(0,w.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:x.users.email})]}),(0,w.jsx)("button",{type:"button",onClick:()=>{r(""),m("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,w.jsx)(C.Icon,{type:"x",size:16})})]})})]})]})}let rb={title:"",description:"",status:"todo",priority:"normal",assigned_user_id:"",started_at:"",ended_at:"",start_time:"",end_time:"",use_time:!1,memo:"",subtasks:[]},rv=e=>e.trim()||void 0;function rw({boardId:e,projectId:t,projectStartedAt:r,projectEndedAt:a,onSuccess:n,onCancel:s,initialStartDate:l,initialEndDate:i,initialStartTime:d,initialEndTime:o,initialUseTime:c}){let[u,g]=(0,j.useState)({...rb,started_at:l||"",ended_at:i||"",start_time:d||"",end_time:o||"",use_time:c||!1}),[m,x]=(0,j.useState)({}),[h,f]=(0,j.useState)(!1),[p,y]=(0,j.useState)(!1),[b,v]=(0,j.useState)(null),k=!!a&&new Date().toISOString().split("T")[0]>a;(0,j.useEffect)(()=>{(async()=>{y(!0);try{let e=await fetch(`/api/projectMembers/forAssignment?projectId=${t}`);if(!e.ok)throw Error("프로젝트 멤버를 불러오는 데 실패했습니다.");let r=await e.json();v(r.data||[])}catch(e){console.error(e),x(e=>({...e,submit:"프로젝트 멤버를 불러오는 데 실패했습니다."}))}finally{y(!1)}})()},[t]);let N=(e,t)=>{g(r=>{let a={...r,[e]:t};if("use_time"===e&&!0===t&&(a.start_time||(a.start_time="09:00"),a.end_time||(a.end_time="18:00")),"use_time"===e&&!1===t&&(a.start_time="",a.end_time=""),("start_time"===e||"end_time"===e)&&(!t||!t.trim())){let t="start_time"===e?a.end_time:a.start_time;t&&t.trim()||(a.use_time=!1)}return a}),m[e]&&x(t=>({...t,[e]:""}))},_=async()=>{let r;if(!h&&(r={},u.title.trim()||(r.title="제목은 필수입니다."),u.started_at&&u.ended_at&&new Date(u.use_time&&u.start_time?`${u.started_at}T${u.start_time}:00`:u.started_at)>new Date(u.use_time&&u.end_time?`${u.ended_at}T${u.end_time}:00`:u.ended_at)&&(r.ended_at="종료 시간은 시작 시간보다 이전일 수 없습니다."),u.use_time&&(u.started_at&&!u.start_time&&(r.start_time="시작 시간을 입력하세요."),u.ended_at&&!u.end_time&&(r.end_time="종료 시간을 입력하세요.")),x(r),0===Object.keys(r).length)){f(!0);try{let r=u.started_at?`${u.started_at}T00:00:00`:void 0,a=u.ended_at?`${u.ended_at}T00:00:00`:void 0,s={kanban_board_id:e,project_id:t,title:u.title.trim(),description:rv(u.description),status:u.status,priority:u.priority,assigned_user_id:rv(u.assigned_user_id),started_at:r,ended_at:a,start_time:u.use_time?u.start_time:null,end_time:u.use_time?u.end_time:null,use_time:u.use_time,memo:rv(u.memo),subtasks:u.subtasks.length>0?u.subtasks:void 0};n?.(s)}catch(e){console.error("작업 생성 실패:",e),x({submit:"작업 생성에 실패했습니다. 다시 시도해주세요."})}finally{f(!1)}}};return(0,w.jsxs)("div",{className:"task-form-layout",children:[(0,w.jsx)("div",{className:"pb-4 mb-4 border-b border-gray-200 dark:border-gray-700 shrink-0",children:(0,w.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"새 작업 추가"})}),(0,w.jsxs)("div",{className:"task-form-content space-y-5",children:[m.submit&&(0,w.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,w.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:m.submit})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("input",{type:"text",value:u.title,onChange:e=>N("title",e.target.value),className:`w-full px-3 py-2.5 border rounded-lg input-focus-style bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${m.title?"border-red-500 dark:border-red-600":"border-gray-300 dark:border-gray-600"}`,placeholder:"작업 제목을 입력하세요",autoFocus:!0,disabled:h}),m.title&&(0,w.jsxs)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1 pl-1",children:["* ",m.title]})]}),(0,w.jsx)(H,{status:u.status,priority:u.priority,onStatusChange:e=>N("status",e),onPriorityChange:e=>N("priority",e)}),(0,w.jsx)($,{icon:"description",title:"설명",children:(0,w.jsx)("textarea",{value:u.description,onChange:e=>N("description",e.target.value),className:"w-full px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg input-focus-style min-h-[100px] bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"설명을 입력하세요",disabled:h})}),(0,w.jsx)(ry,{value:u.assigned_user_id,disabled:h,onChange:e=>N("assigned_user_id",e),isLoading:p,members:b}),(0,w.jsx)($,{icon:"calendar",title:"기간",children:(0,w.jsx)(ro,{startDate:u.started_at,endDate:u.ended_at,startTime:u.start_time,endTime:u.end_time,useTime:u.use_time,projectStartedAt:r,projectEndedAt:a,disabled:h,onStartDateChange:e=>N("started_at",e),onEndDateChange:e=>N("ended_at",e),onStartTimeChange:e=>N("start_time",e),onEndTimeChange:e=>N("end_time",e),onUseTimeChange:e=>N("use_time",e)})}),(0,w.jsx)(rm,{subtasks:u.subtasks,onUpdate:e=>N("subtasks",e)}),(0,w.jsx)($,{icon:"notes",title:"메모",children:(0,w.jsx)("textarea",{value:u.memo,onChange:e=>N("memo",e.target.value),className:"w-full px-3 py-2.5 border border-yellow-300 dark:border-yellow-700/50 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg input-focus-style min-h-20 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"메모를 입력하세요",disabled:h})})]}),(0,w.jsxs)("div",{className:"task-form-footer flex justify-end gap-3 pt-4 bg-white dark:bg-gray-800",children:[(0,w.jsx)(D.default,{btnType:"basic",variant:"basic",onClick:s,disabled:h,children:"취소"}),(0,w.jsx)(D.default,{btnType:"form",variant:"primary",onClick:_,disabled:h||k,children:h?"생성 중...":k?"프로젝트 종료됨":"작업 추가"})]})]})}var rj=e.i(32538);let rk=e=>{if(!e)return{date:"",time:"",hasTime:!1};let[t,r]=e.split("T"),[a,n]=r.split(":");return{date:t,time:`${a}:${n}`,hasTime:"00"!==a||"00"!==n}};function rN({task:e,projectStartedAt:t,projectEndedAt:r,onUpdate:a,onDelete:n,onClose:s}){let l=rk(e.started_at),i=rk(e.ended_at),d={...e,started_at:l.date,ended_at:i.date,start_time:l.time,end_time:i.time,use_time:l.hasTime||i.hasTime},[o,c]=(0,j.useState)(d),[u,g]=(0,j.useState)(null),[m,x]=(0,j.useState)(!1),[h,f]=(0,j.useState)(!1),[p,y]=(0,j.useState)(null),{openModal:b,modalProps:v}=ru(),k=!!r&&new Date().toISOString().split("T")[0]>r;(0,j.useEffect)(()=>{(async()=>{if(!e.project_id)return console.warn("프로젝트 ID가 없습니다.");x(!0);try{let t=await fetch(`/api/projectMembers/forAssignment?projectId=${e.project_id}`);if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.error||`HTTP ${t.status}: 프로젝트 멤버를 불러오는 데 실패했습니다.`)}let r=await t.json();r.data?y(r.data):(console.warn("프로젝트 멤버 데이터가 없습니다:",r),y([]))}catch(e){console.error("프로젝트 멤버 조회 에러:",e),y([])}finally{x(!1)}})()},[e.project_id,e.id,e.assigned_user_id,e.title,e.kanban_board_id]);let N=()=>{let t=rk(e.started_at),r=rk(e.ended_at);return o.title!==e.title||(o.description||"")!==(e.description||"")||o.status!==e.status||(o.priority||"normal")!==(e.priority||"normal")||(o.assigned_user_id||null)!==(e.assigned_user_id||null)||o.started_at!==t.date||o.ended_at!==r.date||(o.use_time||!1)!==(t.hasTime||r.hasTime)||!!o.use_time&&o.start_time!==t.time||!!o.use_time&&o.end_time!==r.time||(o.memo||"")!==(e.memo||"")||JSON.stringify(o.subtasks||[])!==JSON.stringify(e.subtasks||[])},_=(e,t)=>{c(r=>{let a={...r,[e]:t};if("use_time"===e&&!0===t&&(a.start_time||(a.start_time="09:00"),a.end_time||(a.end_time="18:00")),"use_time"===e&&!1===t&&(a.start_time="",a.end_time=""),("start_time"===e||"end_time"===e)&&(!t||!t.trim())){let t="start_time"===e?a.end_time:a.start_time;t&&t.trim()||(console.log(`⏰ TaskDetail 시간 모두 삭제됨, use_time을 false로 설정`),a.use_time=!1)}return a})},D=async()=>{if(N())try{let t=o.started_at?`${o.started_at}T00:00:00`:null,r=o.ended_at?`${o.ended_at}T00:00:00`:null,n={...{title:o.title,description:o.description,status:o.status,priority:o.priority,assigned_user_id:o.assigned_user_id,started_at:t,ended_at:r,start_time:o.use_time?o.start_time:null,end_time:o.use_time?o.end_time:null,use_time:o.use_time||!1,memo:o.memo,subtasks:o.subtasks,updated_at:new Date().toISOString()}};delete n.id,delete n.created_at,delete n.kanban_boards,await a?.(e.id,n),(0,rj.showToast)("작업이 저장되었습니다.","success"),setTimeout(()=>{s?.()},500)}catch(e){console.error("작업 저장 중 오류:",e),(0,rj.showToast)("작업 저장에 실패했습니다.","error")}},C=async()=>{try{await n?.(e.id),b("deleteSuccess","작업 삭제 완료","선택한 작업이 삭제되었습니다."),setTimeout(()=>{s?.()},5e3)}catch(e){console.error("작업 삭제 중 오류:",e),b("error","삭제 실패","작업 삭제 중 오류가 발생했습니다.")}};return(0,w.jsxs)("div",{className:"task-form-layout",children:[(0,w.jsx)("div",{className:"shrink-0",children:(0,w.jsx)(r_,{createdAt:e.created_at,updatedAt:e.updated_at})}),(0,w.jsxs)("div",{className:"task-form-content space-y-5 mt-4",children:[(0,w.jsx)(rD,{value:o.title,isEditing:"title"===u,isProjectEnded:k,onEdit:()=>!k&&g("title"),onChange:e=>_("title",e),onBlur:()=>g(null),onCancel:()=>{c(e),g(null)}}),(0,w.jsx)(H,{status:o.status,priority:o.priority||"normal",disabled:k,onStatusChange:e=>!k&&_("status",e),onPriorityChange:e=>!k&&_("priority",e)}),(0,w.jsx)($,{icon:"description",title:"설명",children:(0,w.jsx)(rC,{value:o.description,isEditing:"description"===u,isProjectEnded:k,onEdit:()=>!k&&g("description"),onChange:e=>_("description",e),onBlur:()=>g(null),onCancel:()=>{c(e),g(null)}})}),(0,w.jsx)(ry,{value:o.assigned_user_id,isEditing:"assigned_user_id"===u,isLoading:m||h,members:p,disabled:k,onEdit:()=>!k&&g("assigned_user_id"),onChange:e=>_("assigned_user_id",e),onBlur:()=>g(null),onCancel:()=>{c(e),g(null)}}),(0,w.jsx)($,{icon:"calendar",title:"기간",children:(0,w.jsx)(ro,{startDate:o.started_at||"",endDate:o.ended_at||"",startTime:o.start_time||"",endTime:o.end_time||"",useTime:o.use_time||!1,projectStartedAt:t,projectEndedAt:r,onStartDateChange:e=>_("started_at",e),onEndDateChange:e=>_("ended_at",e),onStartTimeChange:e=>_("start_time",e),onEndTimeChange:e=>_("end_time",e),onUseTimeChange:e=>_("use_time",e)})}),(0,w.jsx)(rm,{subtasks:o.subtasks||[],onUpdate:k?void 0:e=>_("subtasks",e),disabled:k}),(0,w.jsx)($,{icon:"notes",title:"메모",children:(0,w.jsx)(rS,{value:o.memo,isEditing:"memo"===u,isProjectEnded:k,onEdit:()=>!k&&g("memo"),onChange:e=>_("memo",e),onBlur:()=>g(null),onCancel:()=>{c(e),g(null)}})})]}),(0,w.jsx)("div",{className:"task-form-footer bg-white dark:bg-gray-800",children:(0,w.jsx)(rM,{hasChanges:N(),isProjectEnded:k,onCancel:()=>c(e),onSave:D,onDelete:()=>{b("delete","작업 삭제","정말 삭제하시겠습니까?")}})}),(0,w.jsx)(O,{...v,onConfirm:C})]})}function r_({createdAt:e,updatedAt:t}){let r=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,w.jsx)("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700",children:(0,w.jsxs)("div",{className:"flex flex-col gap-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(C.Icon,{type:"clock",size:16,className:"text-gray-400 dark:text-gray-500"}),(0,w.jsx)("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"생성:"}),(0,w.jsx)("span",{children:r(e)})," "]}),e!==t&&(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(C.Icon,{type:"edit",size:16,className:"text-gray-400 dark:text-gray-500"}),(0,w.jsx)("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"수정:"}),(0,w.jsx)("span",{children:r(t)})," "]})]})})}function rD({value:e,isEditing:t,onEdit:r,onChange:a,onBlur:n,onCancel:s}){return t?(0,w.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),onBlur:n,onKeyDown:e=>{"Enter"===e.key&&n(),"Escape"===e.key&&s()},autoFocus:!0,className:"text-2xl font-bold text-gray-800 dark:text-gray-200 w-full border-b-2 border-main-300 dark:border-main-600 focus:outline-none pb-2 bg-transparent"}):(0,w.jsxs)("h2",{onClick:r,className:"text-2xl font-bold text-gray-800 dark:text-gray-200 cursor-pointer hover:text-main-500 dark:hover:text-main-400 transition-colors flex items-center gap-2",children:[(0,w.jsx)(C.Icon,{type:"edit",size:20,className:"text-gray-600 dark:text-gray-400"}),e]})}function rC({value:e,isEditing:t,onEdit:r,onChange:a,onBlur:n,onCancel:s}){return t?(0,w.jsx)("textarea",{value:e||"",onChange:e=>a(e.target.value),onBlur:n,onKeyDown:e=>{"Escape"===e.key&&s()},autoFocus:!0,className:"w-full px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg input-focus-style min-h-[100px] bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}):(0,w.jsx)("p",{onClick:r,className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 p-3 rounded-lg min-h-[60px] transition-colors border border-transparent hover:border-gray-200 dark:hover:border-gray-600",children:e||(0,w.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"클릭하여 설명 추가"})})}function rS({value:e,isEditing:t,onEdit:r,onChange:a,onBlur:n,onCancel:s}){return t?(0,w.jsx)("textarea",{value:e||"",onChange:e=>a(e.target.value),onBlur:n,onKeyDown:e=>{"Escape"===e.key&&s()},autoFocus:!0,className:"w-full px-3 py-2.5 border border-yellow-300 dark:border-yellow-700/50 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg input-focus-style min-h-20 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}):e?(0,w.jsx)("div",{onClick:r,className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700/50 rounded-lg p-4 cursor-pointer hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors",children:(0,w.jsx)("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:e})}):(0,w.jsx)("p",{onClick:r,className:"text-gray-400 dark:text-gray-500 cursor-pointer hover:bg-yellow-50 dark:hover:bg-yellow-900/20 p-4 border border-dashed border-yellow-300 dark:border-yellow-700/50 rounded-lg transition-colors",children:"클릭하여 메모 추가"})}function rM({hasChanges:e,isProjectEnded:t,onCancel:r,onSave:a,onDelete:n}){return(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)(D.default,{btnType:"form_s",variant:"warning",onClick:n,disabled:t,children:t?"프로젝트 종료됨":"삭제"}),e&&(0,w.jsxs)("div",{className:"flex gap-3",children:[(0,w.jsx)(D.default,{btnType:"basic",variant:"basic",onClick:r,children:"취소"}),(0,w.jsx)(D.default,{btnType:"form",variant:"primary",onClick:a,disabled:t,children:t?"프로젝트 종료됨":"저장"})]})]})}let rT={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}};var rE=e.i(76966);let rO={date:(0,rE.buildFormatLongFn)({formats:{full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},defaultWidth:"full"}),time:(0,rE.buildFormatLongFn)({formats:{full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,rE.buildFormatLongFn)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},rP={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"};var r$=e.i(53681);let rI={ordinalNumber:(e,t)=>{let r=Number(e);switch(String(t?.unit)){case"minute":case"second":return String(r);case"date":return r+"일";default:return r+"번째"}},era:(0,r$.buildLocalizeFn)({values:{narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},defaultWidth:"wide"}),quarter:(0,r$.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,r$.buildLocalizeFn)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},defaultWidth:"wide"}),day:(0,r$.buildLocalizeFn)({values:{narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},defaultWidth:"wide"}),dayPeriod:(0,r$.buildLocalizeFn)({values:{narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},defaultWidth:"wide",formattingValues:{narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},defaultFormattingWidth:"wide"})};var rL=e.i(11966);let rA={code:"ko",formatDistance:(e,t,r)=>{let a,n=rT[e];if(a="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),r?.addSuffix)if(r.comparison&&r.comparison>0)return a+" 후";else return a+" 전";return a},formatLong:rO,formatRelative:(e,t,r,a)=>rP[e],localize:rI,match:{ordinalNumber:(0,e.i(49224).buildMatchPatternFn)({matchPattern:/^(\d+)(일|번째)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,rL.buildMatchFn)({matchPatterns:{narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(bc|기원전)/i,/^(ad|서기)/i]},defaultParseWidth:"any"}),quarter:(0,rL.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,rL.buildMatchFn)({matchPatterns:{narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:(0,rL.buildMatchFn)({matchPatterns:{narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},defaultMatchWidth:"wide",parsePatterns:{any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},defaultParseWidth:"any"}),dayPeriod:(0,rL.buildMatchFn)({matchPatterns:{any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},rR={month:"월간뷰",week:"주간뷰",day:"일간뷰",agenda:"일정뷰"};function rz({projectName:e,projectStartedAt:t,projectEndedAt:r,currentView:a,currentDate:n,eventsCount:s,showHelp:l,showFilter:i,onToggleHelp:d,onToggleFilter:o,onAddTask:c,onProjectInfoClick:u}){console.log(e);let g=(()=>{let e,a,n;if(!t||!r)return null;let s=new Date(t),l=new Date(r),i=new Date;i.setHours(0,0,0,0);let d=s.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),o=l.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),c=Math.ceil((l.getTime()-i.getTime())/864e5),u=Math.ceil((s.getTime()-i.getTime())/864e5);return i<s?(e="before",a=`시작 D-${u}`,n="bg-blue-500 text-white"):i>l?(e="ended",a="종료",n="bg-red-500 text-white"):c<=3?(e="warning",a=`D-${c} ⚠️`,n="bg-orange-500 text-white"):(e="active",a=`D-${c}`,n="bg-white/20 text-white"),{startStr:d,endStr:o,remainingDays:c,status:e,badgeText:a,badgeColor:n}})();return(0,w.jsx)("div",{className:"px-3 sm:px-6 py-3 sm:py-4 mb-2 sm:mb-4 border-b border-gray-200 dark:border-gray-500 bg-main-200 dark:bg-main-600 shadow-sm",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-white dark:text-gray-100",children:e||"캘린더"}),u&&(0,w.jsx)("button",{onClick:u,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",title:"프로젝트 정보",children:(0,w.jsx)("svg",{className:"w-5 h-5 text-white/80 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),g&&(0,w.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/80 dark:text-gray-200",children:[(0,w.jsx)("span",{children:"|"}),(0,w.jsxs)("span",{children:[g.startStr," ~ ",g.endStr]}),(0,w.jsx)("span",{className:`px-2 py-0.5 rounded-full font-medium ${g.badgeColor}`,children:g.badgeText})]}),g?.status==="ended"&&(0,w.jsxs)("div",{className:"flex items-center gap-1.5 text-xs bg-sky-100 dark:bg-sky-900/50 text-sky-700 dark:text-sky-200 px-2.5 py-1 rounded-md border border-sky-300 dark:border-sky-700",children:[(0,w.jsx)("svg",{className:"w-4 h-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,w.jsx)("span",{className:"font-medium",children:"이 프로젝트는 종료되었습니다. 일정 추가/수정이 제한됩니다."})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,w.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:(0,w.jsx)("div",{className:"px-2 py-1 bg-white/20 rounded-full text-xs text-white font-medium",children:a in rR?rR[a]:a})}),(0,w.jsxs)("div",{className:"text-sm font-medium text-white/90 dark:text-gray-200 text-right",children:[(0,w.jsxs)("div",{children:[s,"개 일정"]}),(0,w.jsx)("div",{className:"text-xs text-white/70 dark:text-gray-300",children:(()=>{switch(a){case"month":return(0,N.format)(n,"yyyy년 M월",{locale:rA});case"week":return(0,N.format)(n,"M월 d일 주",{locale:rA});case"day":return(0,N.format)(n,"M월 d일 (E)",{locale:rA});case"agenda":return"전체 일정";default:return""}})()})]}),c&&(0,w.jsxs)("button",{onClick:()=>{if(t&&r){let e=new Date().toISOString().split("T")[0];if(e<t)return void(0,rj.showToast)("아직 프로젝트가 시작되지 않았습니다.","warning");if(e>r)return void(0,rj.showToast)("종료된 프로젝트입니다.","warning")}c?.()},className:"px-3 sm:px-4 py-2 bg-main-400 dark:bg-main-500 text-white rounded-lg hover:bg-main-500 dark:hover:bg-main-400 active:bg-main-600 dark:active:bg-main-600 transition-all text-xs sm:text-sm font-medium shadow-sm",children:[(0,w.jsx)("span",{className:"hidden sm:inline",children:"+ 새 작업"}),(0,w.jsx)("span",{className:"sm:hidden",children:"+"})]}),o&&(0,w.jsx)("button",{onClick:o,className:`p-1.5 sm:p-2 hover:bg-white/20 rounded-lg transition-colors ${i?"bg-white/20":""}`,title:"필터",children:(0,w.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})})}),(0,w.jsx)("button",{onClick:d,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:l?"도움말 닫기":"도움말 열기",children:(0,w.jsx)("svg",{className:`w-4 h-4 text-white transition-transform duration-300 ${l?"scale-110":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})})}function rF(){return(0,w.jsx)("div",{className:"mx-2 sm:mx-4 mb-2 sm:mb-4 px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,w.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-2 sm:gap-x-4 sm:gap-y-2",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between sm:justify-start sm:gap-4",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:[(0,w.jsx)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-main-500 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,w.jsx)("span",{className:"font-medium",children:"사용법"})]}),(0,w.jsxs)("div",{className:"flex sm:hidden items-center gap-2 text-[10px] text-gray-500 dark:text-gray-400",children:[(0,w.jsxs)("div",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded"}),(0,w.jsx)("span",{children:"할일"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 bg-blue-400 rounded"}),(0,w.jsx)("span",{children:"진행"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded"}),(0,w.jsx)("span",{children:"완료"})]})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 text-[10px] sm:text-xs text-gray-600 dark:text-gray-400",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-gray-400",children:"•"}),(0,w.jsx)("span",{children:"더블클릭: 추가"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-gray-400",children:"•"}),(0,w.jsx)("span",{children:"드래그: 기간선택"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-gray-400",children:"•"}),(0,w.jsx)("span",{children:"클릭: 상세보기"})]})]}),(0,w.jsx)("div",{className:"hidden sm:block h-4 w-px bg-gray-300 dark:bg-gray-600"}),(0,w.jsxs)("div",{className:"hidden sm:flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-[10px] font-mono",children:"←→"}),(0,w.jsx)("span",{children:"날짜 이동"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-[10px] font-mono",children:"ESC"}),(0,w.jsx)("span",{children:"닫기"})]})]}),(0,w.jsxs)("div",{className:"hidden sm:flex ml-auto items-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded"}),(0,w.jsx)("span",{children:"할일"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:"w-3 h-3 bg-blue-400 rounded"}),(0,w.jsx)("span",{children:"진행중"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,w.jsx)("span",{children:"완료"})]})]})]})})}var rH=e.i(6287);let rW=(0,W.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function rB({tasks:e,compact:t=!1}){let r=(0,j.useMemo)(()=>{let t=new Date,r=(0,N.format)(t,"yyyy-MM-dd"),a=(0,N.format)((0,rH.addDays)(t,3),"yyyy-MM-dd");return{todo:e.filter(e=>"todo"===e.status).length,inprogress:e.filter(e=>"inprogress"===e.status).length,done:e.filter(e=>"done"===e.status).length,overdue:e.filter(e=>{if("done"===e.status||!e.ended_at)return!1;let a=e.ended_at.split("T")[0];if(a<r)return!0;if(a===r&&e.use_time&&e.end_time){let[r,a]=e.end_time.split(":").map(Number),n=new Date;return n.setHours(r,a,0,0),t>n}return!1}).length,urgent:e.filter(e=>{if("done"===e.status||!e.ended_at||e.ended_at.split("T")[0]!==r)return!1;if(e.use_time&&e.end_time){let[r,a]=e.end_time.split(":").map(Number),n=new Date;return n.setHours(r,a,0,0),t<=n}return!0}).length,upcoming:e.filter(e=>{if("done"===e.status||!e.ended_at)return!1;let t=e.ended_at.split("T")[0];return t>r&&t<=a}).length}},[e]),a=r.todo+r.inprogress+r.done,n=a>0?Math.round(r.done/a*100):0;return t?(0,w.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:r.todo})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:r.inprogress})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:r.done})]}),r.overdue>0&&(0,w.jsxs)("span",{className:"flex items-center gap-1 text-red-500",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,w.jsx)("span",{children:r.overdue})]}),r.urgent>0&&(0,w.jsxs)("span",{className:"flex items-center gap-1 text-orange-500",children:[(0,w.jsx)(rW,{size:10}),(0,w.jsx)("span",{children:r.urgent})]}),(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,w.jsx)("span",{className:"w-1 h-3 bg-red-500 rounded-sm",title:"지연"}),(0,w.jsx)("span",{className:"w-1 h-3 bg-green-500 rounded-sm",title:"완료"}),(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,w.jsx)("span",{className:"text-red-500",children:"▲"}),(0,w.jsx)("span",{className:"text-yellow-500",children:"▲"}),(0,w.jsx)("span",{className:"text-green-500",children:"▲"})]}),(0,w.jsxs)("div",{className:"ml-auto text-xs font-medium text-gray-700 dark:text-gray-300",children:[n,"% 완료"]})]}):(0,w.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[(0,w.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6 text-sm flex-wrap",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"w-3 h-3 rounded-full bg-gray-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"할일"}),(0,w.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:r.todo})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"w-3 h-3 rounded-full bg-blue-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"진행중"}),(0,w.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:r.inprogress})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"}),(0,w.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:r.done})]}),(r.urgent>0||r.upcoming>0||r.overdue>0)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),r.urgent>0&&(0,w.jsxs)("div",{className:"flex items-center gap-1 text-orange-500",children:[(0,w.jsx)(rW,{size:14}),(0,w.jsxs)("span",{className:"text-xs font-medium",children:["오늘 ",r.urgent]})]}),r.upcoming>0&&(0,w.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-500",children:[(0,w.jsx)(B,{size:14}),(0,w.jsxs)("span",{className:"text-xs font-medium",children:["D-3 이내 ",r.upcoming]})]}),r.overdue>0&&(0,w.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,w.jsx)("span",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,w.jsx)("span",{children:"지연"}),(0,w.jsx)("span",{className:"font-semibold",children:r.overdue})]})]}),(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1",title:"지연된 태스크",children:[(0,w.jsx)("span",{className:"w-1 h-4 bg-red-500 rounded-sm"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"지연"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",title:"완료된 태스크",children:[(0,w.jsx)("span",{className:"w-1 h-4 bg-green-500 rounded-sm"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"})]})]}),(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-red-500",children:"▲"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"높음"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-yellow-500",children:"▲"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"보통"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-green-500",children:"▲"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"낮음"})]})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsx)("div",{className:"hidden sm:block w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,w.jsx)("div",{className:"h-full bg-main-500 transition-all duration-300",style:{width:`${n}%`}})}),(0,w.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n,"% 완료"]})]})]})}function rY({filter:e,onFilterChange:t,taskCount:r,totalCount:a}){return(0,w.jsx)("div",{className:"mb-4 px-5 py-4 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,w.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"우선순위"}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{onClick:()=>t({priority:"all"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===e.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,w.jsx)("button",{onClick:()=>t({priority:"high"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"high"===e.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"높음"}),(0,w.jsx)("button",{onClick:()=>t({priority:"normal"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"normal"===e.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"보통"}),(0,w.jsx)("button",{onClick:()=>t({priority:"low"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"low"===e.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"낮음"})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"담당자"}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{onClick:()=>t({assignee:"all"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===e.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,w.jsx)("button",{onClick:()=>t({assignee:"me"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"me"===e.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"내 작업"}),(0,w.jsx)("button",{onClick:()=>t({assignee:"assigned"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"assigned"===e.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"할당됨"}),(0,w.jsx)("button",{onClick:()=>t({assignee:"unassigned"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"unassigned"===e.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"미할당"})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"기간"}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{onClick:()=>t({date:"all"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===e.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,w.jsx)("button",{onClick:()=>t({date:"today"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"today"===e.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"오늘"}),(0,w.jsx)("button",{onClick:()=>t({date:"thisWeek"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"thisWeek"===e.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"이번주"}),(0,w.jsx)("button",{onClick:()=>t({date:"overdue"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"overdue"===e.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"지연"})]})]}),(0,w.jsx)("div",{className:"pt-3 mt-1 border-t border-gray-200 dark:border-gray-600",children:(0,w.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r,"개 / 전체 ",a,"개"]})})]})})}var rU=e.i(38530),rV=e.i(5953);let rK={month:"월",week:"주",day:"일",agenda:"일정",work_week:"근무주"};function rX({currentDate:e,currentView:t,onNavigate:r,onViewChange:a}){return(0,w.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between px-2 sm:px-4 py-2 gap-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between sm:justify-start gap-2",children:[(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("button",{onClick:()=>{switch(t){case"month":r((0,rV.addMonths)(e,-1,void 0));break;case"week":default:r((0,rU.addWeeks)(e,-1,void 0));break;case"day":r((0,rH.addDays)(e,-1,void 0))}},className:"p-1.5 sm:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",title:"이전",children:(0,w.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,w.jsx)("button",{onClick:()=>{r(new Date)},className:"px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border-y border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"오늘"}),(0,w.jsx)("button",{onClick:()=>{switch(t){case"month":r((0,rV.addMonths)(e,1));break;case"week":default:r((0,rU.addWeeks)(e,1));break;case"day":r((0,rH.addDays)(e,1))}},className:"p-1.5 sm:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",title:"다음",children:(0,w.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,w.jsx)("span",{className:"text-sm sm:text-lg font-semibold text-gray-800 dark:text-gray-100 sm:ml-2",children:(()=>{switch(t){case"month":default:return(0,N.format)(e,"yyyy년 M월",{locale:rA});case"week":return(0,N.format)(e,"yyyy년 M월 d일 주",{locale:rA});case"day":return(0,N.format)(e,"yyyy년 M월 d일 (E)",{locale:rA});case"agenda":return"전체 일정"}})()})]}),(0,w.jsx)("div",{className:"flex items-center gap-0.5 sm:gap-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md p-0.5 self-center sm:self-auto",children:["month","week","day","agenda"].map(e=>(0,w.jsx)("button",{onClick:()=>a(e),className:`px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium rounded transition-colors ${t===e?"bg-main-500 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:rK[e]},e))})]})}var rq=e.i(66738),rG=e.i(16883);let rJ=e=>{let t={todo:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-l-2 border-gray-400 dark:border-gray-500",inprogress:"bg-blue-100/50 dark:bg-blue-700/40 text-blue-700 dark:text-blue-200 border-l-2 border-blue-400 dark:border-blue-500",done:"bg-green-50 dark:bg-green-900/40 text-green-700 dark:text-green-200 border-l-2 border-green-400 dark:border-green-500"};return t[e]||t.todo},rQ=e=>{let t={todo:"bg-gray-400 dark:bg-gray-500",inprogress:"bg-blue-400 dark:bg-blue-500",done:"bg-green-400 dark:bg-green-500"};return t[e]||t.todo},rZ=e=>{let t={todo:"bg-gray-50/80 dark:bg-gray-700/50",inprogress:"bg-blue-50/50 dark:bg-blue-900/20",done:"bg-green-50/50 dark:bg-green-900/20"};return t[e]||t.todo},r0=e=>{if(!e.ended_at||"done"===e.status)return!1;let t=new Date().toISOString().split("T")[0];return e.ended_at.split("T")[0]<t};function r1({tasks:e,onSelectEvent:t}){let[r,a]=(0,j.useState)(!1),[n,s]=(0,j.useState)({}),l=(0,j.useRef)(null),i=(0,j.useCallback)(()=>{if(l.current){let e=l.current.getBoundingClientRect(),t=window.innerHeight,r=window.innerWidth,a={};e.left+220+8>r?a.right=r-e.right:a.left=e.left,e.bottom+280+8>t?a.bottom=t-e.top+8:a.top=e.bottom+8,s(a)}a(!0)},[]),d=(0,j.useCallback)(()=>{a(!1)},[]);return 0===e.length?null:(0,w.jsxs)("div",{ref:l,className:"absolute left-1 right-1 top-1 bottom-1",style:{zIndex:r?50:10},onMouseEnter:i,onMouseLeave:d,children:[(0,w.jsxs)("div",{className:"flex flex-col gap-0.5 p-1 overflow-hidden",children:[e.slice(0,2).map(e=>{let r=r0(e);return(0,w.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 rounded px-0.5",onClick:r=>{r.stopPropagation(),t(e)},children:[(0,w.jsx)("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${rQ(e.status)}`}),r&&(0,w.jsx)("div",{className:"w-1.5 h-1.5 rounded-full shrink-0 bg-red-500"}),(0,w.jsx)("span",{className:"text-[9px] sm:text-[10px] text-gray-500 dark:text-gray-400 shrink-0",children:e.start_time?e.start_time.slice(0,5):"종일"}),(0,w.jsx)("span",{className:"text-[9px] sm:text-[10px] text-gray-700 dark:text-gray-300 truncate font-medium",children:e.title})]},e.id)}),e.length>2&&(0,w.jsxs)("span",{className:"text-[9px] text-gray-400 dark:text-gray-500 pl-0.5",children:["+",e.length-2,"개"]})]}),r&&e.length>0&&(0,w.jsxs)("div",{className:"fixed w-[220px] bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-2 space-y-1",style:{...n,zIndex:30},onClick:e=>e.stopPropagation(),children:[(0,w.jsxs)("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2 pb-1 border-b border-gray-100 dark:border-gray-700",children:[e.length,"개의 일정"]}),(0,w.jsx)("div",{className:"max-h-[200px] overflow-y-auto space-y-1",children:e.map(e=>{let r=r0(e);return(0,w.jsxs)("div",{className:`p-2 rounded-md border text-xs cursor-pointer hover:shadow-md transition-shadow ${rZ(e.status)}`,onClick:r=>{r.stopPropagation(),a(!1),t(e)},children:[(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${rQ(e.status)}`}),r&&(0,w.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),e.priority&&(0,w.jsx)("span",{className:"text-[10px]",children:(e=>{switch(e){case"high":return(0,w.jsx)("span",{className:"text-red-500",children:"▲"});case"normal":return(0,w.jsx)("span",{className:"text-yellow-500",children:"▲"});case"low":return(0,w.jsx)("span",{className:"text-green-500",children:"▲"});default:return null}})(e.priority)}),(0,w.jsx)("span",{className:"font-medium truncate text-gray-800 dark:text-gray-200",children:e.title})]}),e.start_time&&(0,w.jsxs)("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5 ml-3.5",children:[e.start_time,e.end_time?` ~ ${e.end_time}`:""]})]},e.id)})})]})]})}function r2({weekDays:e,hours:t,tasksByDate:r,isOutsideProjectRange:a,onSelectSlot:n,onSelectEvent:s}){let[l,i]=(0,j.useState)(new Date),[d,o]=(0,j.useState)({isDragging:!1,startDay:null,startHour:null,endDay:null,endHour:null}),c=(0,j.useRef)(!1);(0,j.useEffect)(()=>{let e=setInterval(()=>{i(new Date)},6e4);return()=>clearInterval(e)},[]);let u=e=>l.getHours()!==e?null:l.getMinutes()/60*100,g=(0,j.useCallback)((e,t,r)=>{r||(c.current=!0,o({isDragging:!0,startDay:e,startHour:t,endDay:e,endHour:t}))},[]),m=(0,j.useCallback)((e,t,r)=>{c.current&&!r&&o(r=>({...r,endDay:e,endHour:t}))},[]),x=(0,j.useCallback)(()=>{if(c.current){if(c.current=!1,d.startDay&&null!==d.startHour&&d.endDay&&null!==d.endHour){let e=d.startDay,t=d.endDay,r=d.startHour,a=d.endHour+1;(0,N.format)(e,"yyyy-MM-dd")>(0,N.format)(t,"yyyy-MM-dd")?([e,t]=[t,e],[r,a]=[d.endHour,d.startHour+1]):(0,N.format)(e,"yyyy-MM-dd")===(0,N.format)(t,"yyyy-MM-dd")&&r>d.endHour&&(r=d.endHour,a=d.startHour+1),n(e,t,r,a)}o({isDragging:!1,startDay:null,startHour:null,endDay:null,endHour:null})}},[d,n]);(0,j.useEffect)(()=>{let e=()=>{c.current&&x()};return window.addEventListener("mouseup",e),()=>window.removeEventListener("mouseup",e)},[x]);let h=(0,j.useCallback)((e,t)=>{if(!d.isDragging||!d.startDay||null===d.startHour||!d.endDay||null===d.endHour)return!1;let r=(0,N.format)(e,"yyyy-MM-dd"),a=(0,N.format)(d.startDay,"yyyy-MM-dd"),n=(0,N.format)(d.endDay,"yyyy-MM-dd"),[s,l]=a<=n?[a,n]:[n,a],[i,o]=d.startHour<=d.endHour?[d.startHour,d.endHour]:[d.endHour,d.startHour];return r>=s&&r<=l&&t>=i&&t<=o},[d]);return(0,w.jsx)("div",{className:"select-none",children:t.map(t=>(0,w.jsxs)("div",{className:"flex border-b border-gray-100 dark:border-gray-800 last:border-b-0 min-h-[50px] sm:min-h-[60px]",children:[(0,w.jsx)("div",{className:"w-10 sm:w-16 shrink-0 p-1 sm:p-2 text-right pr-1 sm:pr-3 border-r border-gray-200 dark:border-gray-700",children:(0,w.jsxs)("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400",children:[t.toString().padStart(2,"0"),":00"]})}),e.map(e=>{let n,i=(0,N.format)(e,"yyyy-MM-dd"),d=(n=r[i]||[],n.filter(e=>!!e.use_time&&!!e.start_time&&parseInt(e.start_time.split(":")[0],10)===t)),o=a(e),c=h(e,t);return(0,w.jsxs)("div",{className:`
                  flex-1 relative border-r border-gray-100 dark:border-gray-800 last:border-r-0
                  transition-colors cursor-pointer
                  ${o?"bg-gray-100 dark:bg-gray-900 cursor-not-allowed":c?"bg-main-200 dark:bg-main-700/50":t>=9&&t<18?"bg-main-100/20 dark:bg-main-800/15 hover:bg-main-100/40 dark:hover:bg-main-800/30":"hover:bg-gray-50 dark:hover:bg-gray-800"}
                `,onMouseDown:()=>g(e,t,o),onMouseEnter:()=>m(e,t,o),onMouseUp:x,children:[(0,w.jsx)("div",{className:"absolute left-0 right-0 top-1/2 border-t border-dashed border-gray-200 dark:border-gray-700 pointer-events-none"}),(0,rG.isSameDay)(e,l)&&null!==u(t)&&(0,w.jsx)("div",{className:"absolute left-0 right-0 z-20 pointer-events-none",style:{top:`${u(t)}%`},children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"w-2 h-2 bg-main-500 rounded-full -ml-1"}),(0,w.jsx)("div",{className:"flex-1 border-t-2 border-main-500"})]})}),d.length>0&&(0,w.jsx)(r1,{tasks:d,onSelectEvent:s})]},`${i}-${t}`)})]},t))})}function r5({tasks:e,weekDays:t,onSelectEvent:r}){let[a,n]=(0,j.useState)(null),[s,l]=(0,j.useState)(!1),i=(0,j.useMemo)(()=>t.map(e=>(0,N.format)(e,"yyyy-MM-dd")),[t]),d=(0,j.useMemo)(()=>{let t=i[0],r=i[6];return e.filter(e=>{if(!e.started_at||!e.ended_at)return!1;let a=e.started_at.split("T")[0],n=e.ended_at.split("T")[0],s=e.use_time&&e.start_time;return(a!==n||!s)&&a<=r&&n>=t})},[e,i]),o=(0,j.useMemo)(()=>{let e=i[0],t=i[6],r=[];return[...d].sort((e,t)=>{let r=e.started_at.split("T")[0],a=t.started_at.split("T")[0];return r!==a?r.localeCompare(a):t.ended_at.split("T")[0].localeCompare(e.ended_at.split("T")[0])}).forEach(a=>{let n=a.started_at.split("T")[0],s=a.ended_at.split("T")[0],l=i.indexOf(n<e?e:n),d=i.indexOf(s>t?t:s);if(-1===l||-1===d)return;let o={...a,startCol:l,endCol:d,row:0},c=0,u=!1;for(;!u;)r[c]||(r[c]=[]),r[c].some(e=>!(d<e.startCol||l>e.endCol))?c++:(o.row=c,r[c].push(o),u=!0)}),r.flat()},[d,i]),c=(0,j.useMemo)(()=>0===o.length?0:Math.max(...o.map(e=>e.row))+1,[o]);if(0===d.length)return null;let u=Math.max(Math.min(c,3),1),g=o.filter(e=>e.row<3),m=o.length-g.length;return(0,w.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-visible relative",style:{height:`${22*u+6}px`},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[(0,w.jsx)("div",{className:"w-10 sm:w-16 shrink-0 border-r border-gray-200 dark:border-gray-700 flex items-center justify-end pr-1 sm:pr-2",children:(0,w.jsx)("span",{className:"text-[9px] sm:text-[10px] text-gray-400 dark:text-gray-500",children:"기간"})}),(0,w.jsxs)("div",{className:"flex-1 flex relative overflow-hidden",children:[t.map((e,t)=>(0,w.jsx)("div",{className:"flex-1 border-r border-gray-100 dark:border-gray-800 last:border-r-0"},t)),g.map(e=>{let t=e.startCol/7*100,s=(e.endCol-e.startCol+1)/7*100,l=a===e.id,i=r0(e);return(0,w.jsx)("div",{className:"absolute cursor-pointer px-0.5",style:{left:`${t}%`,width:`${s}%`,top:`${22*e.row+2}px`,height:"18px"},onClick:()=>r(e),onMouseEnter:()=>n(e.id),onMouseLeave:()=>n(null),children:(0,w.jsxs)("div",{className:`
                  w-full h-full rounded transition-all flex items-center px-1.5 gap-1
                  ${rJ(e.status)}
                  ${l?"ring-2 ring-offset-1 ring-gray-400 dark:ring-gray-500 brightness-95":""}
                `,children:[(0,w.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${rQ(e.status)}`}),i&&(0,w.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),e.priority&&(0,w.jsx)("span",{className:`text-[9px] shrink-0 ${{high:"text-red-500 dark:text-red-400",normal:"text-yellow-500 dark:text-yellow-400",low:"text-green-500 dark:text-green-400"}[e.priority]||""}`,children:"▲"}),(0,w.jsx)("span",{className:"text-[10px] sm:text-[11px] truncate font-medium",children:e.title})]})},e.id)}),m>0&&(0,w.jsxs)("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 text-[9px] text-gray-400 dark:text-gray-500",children:["+",m]})]}),s&&d.length>0&&(0,w.jsxs)("div",{className:"absolute left-10 sm:left-16 top-full mt-1 z-50 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-2 min-w-[220px] max-w-[280px]",children:[(0,w.jsxs)("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2 pb-1 border-b border-gray-100 dark:border-gray-700",children:["기간/종일 일정 (",d.length,"개)"]}),(0,w.jsx)("div",{className:"space-y-1 max-h-[200px] overflow-y-auto",children:d.map(e=>{let t=r0(e);return(0,w.jsxs)("div",{className:`p-2 rounded-md text-xs cursor-pointer hover:brightness-95 dark:hover:brightness-110 transition-all ${rZ(e.status)}`,onClick:()=>r(e),children:[(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${rQ(e.status)}`}),t&&(0,w.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),(0,w.jsx)("span",{className:"font-medium truncate text-gray-800 dark:text-gray-200",children:e.title})]}),e.started_at&&e.ended_at&&(0,w.jsxs)("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5 ml-3.5",children:[e.started_at.split("T")[0]," ~"," ",e.ended_at.split("T")[0]]})]},e.id)})})]})]})}function r4({tasks:e,currentDate:t,projectStartedAt:r,projectEndedAt:a,onSelectSlot:n,onSelectEvent:s}){let l=(0,j.useRef)(null),i=(0,j.useMemo)(()=>(0,rq.startOfWeek)(t,{weekStartsOn:0}),[t]),d=(0,j.useMemo)(()=>Array.from({length:7},(e,t)=>(0,rH.addDays)(i,t)),[i]),o=(0,j.useMemo)(()=>Array.from({length:16},(e,t)=>t+7),[]),c=(0,j.useMemo)(()=>{let t={};return e.forEach(e=>{if(!e.started_at&&!e.ended_at)return;let r=e.started_at?e.started_at.split("T")[0]:e.ended_at.split("T")[0],a=e.ended_at?e.ended_at.split("T")[0]:e.started_at.split("T")[0];d.forEach(n=>{let s=(0,N.format)(n,"yyyy-MM-dd");s>=r&&s<=a&&(t[s]||(t[s]=[]),t[s].push(e))})}),t},[e,d]),u=(0,j.useCallback)(e=>{if(!r||!a)return!1;let t=(0,N.format)(e,"yyyy-MM-dd");return t<r||t>a},[r,a]);return(0,j.useEffect)(()=>{l.current&&(l.current.scrollTop=100)},[t]),(0,w.jsxs)("div",{className:"flex flex-col h-full min-h-0 bg-white dark:bg-gray-900",children:[(0,w.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 shrink-0",children:[(0,w.jsx)("div",{className:"w-10 sm:w-16 shrink-0 border-r border-gray-200 dark:border-gray-700"}),d.map((e,t)=>{let r=(0,rG.isSameDay)(e,new Date),a=u(e),n=0===t,s=6===t;return(0,w.jsxs)("div",{className:`
                  flex-1 p-1.5 sm:p-3 text-center border-r border-gray-200 dark:border-gray-700 last:border-r-0
                  ${a?"opacity-30":""}
                `,children:[(0,w.jsx)("div",{className:`
                  text-[10px] sm:text-xs font-medium mb-0.5 sm:mb-1
                  ${r?"text-main-600 dark:text-main-400":n?"text-red-500 dark:text-red-400":s?"text-blue-500 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}
                `,children:(0,N.format)(e,"E",{locale:rA})}),(0,w.jsx)("div",{className:`
                  text-base sm:text-lg font-semibold
                  ${r?"text-white bg-main-500 dark:bg-main-400 rounded-full w-7 h-7 sm:w-9 sm:h-9 flex items-center justify-center mx-auto":n?"text-red-500 dark:text-red-400":s?"text-blue-500 dark:text-blue-400":"text-gray-800 dark:text-gray-200"}
                `,children:(0,N.format)(e,"d")})]},e.toISOString())})]}),(0,w.jsx)("div",{className:"shrink-0 bg-gray-50 dark:bg-gray-800/50",children:(0,w.jsx)(r5,{tasks:e,weekDays:d,onSelectEvent:s})}),(0,w.jsx)("div",{ref:l,className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(0,w.jsx)(r2,{weekDays:d,hours:o,tasksByDate:c,isOutsideProjectRange:u,onSelectSlot:n,onSelectEvent:s})})]})}var r3=e.i(85583),r6=e.i(67122),r7=e.i(29239),r8=e.i(95354);let r9=e=>{switch(e){case"high":return(0,w.jsx)("span",{className:"text-red-500",children:"▲"});case"normal":return(0,w.jsx)("span",{className:"text-yellow-500",children:"▲"});case"low":return(0,w.jsx)("span",{className:"text-green-500",children:"▲"});default:return null}};function ae({tasks:e,onSelectEvent:t}){let[r,a]=(0,j.useState)(!1),[n,s]=(0,j.useState)(!1),[l,i]=(0,j.useState)({}),[d,o]=(0,j.useState)(!1),c=(0,j.useRef)(null),u=(0,j.useRef)(null),g=(0,j.useRef)(null),m=(0,j.useRef)(null);(0,j.useEffect)(()=>{let e,t=0,r=()=>{if(c.current){let e=c.current.clientHeight;Math.abs(e-t)>5&&(t=e,o(e<60))}};r();let a=new ResizeObserver(()=>{e||(e=requestAnimationFrame(()=>{r(),e=0}))});return c.current&&a.observe(c.current),()=>{a.disconnect(),e&&cancelAnimationFrame(e)}},[]),(0,j.useEffect)(()=>()=>{g.current&&clearTimeout(g.current),m.current&&clearTimeout(m.current)},[]);let x=(0,j.useCallback)(()=>{if(!c.current)return;let e=c.current.getBoundingClientRect(),t=window.innerHeight,r=window.innerWidth,a={};e.left+220+8>r?a.right=r-e.right:a.left=e.left,e.bottom+250+8>t?a.bottom=t-e.top+8:a.top=e.bottom+8,i(a)},[]),h=(0,j.useCallback)(()=>{(m.current&&(clearTimeout(m.current),m.current=null),a(!0),n)?x():g.current=setTimeout(()=>{x(),s(!0)},150)},[n,x]),f=(0,j.useCallback)(()=>{g.current&&(clearTimeout(g.current),g.current=null),a(!1),m.current=setTimeout(()=>{s(!1)},200)},[]),p=(0,j.useCallback)(()=>{m.current&&(clearTimeout(m.current),m.current=null),a(!0)},[]),y=(0,j.useCallback)(()=>{a(!1),m.current=setTimeout(()=>{s(!1)},200)},[]);return 0===e.length?null:(0,w.jsxs)("div",{ref:c,className:"flex-1 min-h-0 overflow-hidden relative",style:{zIndex:r?20:10},onMouseEnter:h,onMouseLeave:f,children:[d?(0,w.jsxs)("div",{className:"flex flex-wrap gap-1 p-0.5",children:[e.slice(0,5).map(e=>{let r=r0(e);return(0,w.jsxs)("div",{className:"flex items-center gap-0.5 cursor-pointer hover:scale-110 transition-transform",onClick:r=>{r.stopPropagation(),t(e)},title:e.title,children:[(0,w.jsx)("div",{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full ${rQ(e.status)}`}),r&&(0,w.jsx)("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-red-500"})]},e.id)}),e.length>5&&(0,w.jsxs)("span",{className:"text-[8px] text-gray-500 dark:text-gray-400",children:["+",e.length-5]})]}):(0,w.jsxs)("div",{className:"space-y-0.5",children:[e.slice(0,3).map(e=>{let r=r0(e);return(0,w.jsxs)("div",{className:`
                  h-4 sm:h-5 px-1 sm:px-1.5 rounded text-[9px] sm:text-[10px] font-medium truncate
                  flex items-center gap-0.5 sm:gap-1
                  ${rJ(e.status)}
                  cursor-pointer hover:brightness-95 dark:hover:brightness-110 transition-all
                `,onClick:r=>{r.stopPropagation(),t(e)},title:e.title,children:[(0,w.jsx)("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${rQ(e.status)}`}),r&&(0,w.jsx)("div",{className:"w-1.5 h-1.5 rounded-full shrink-0 bg-red-500"}),e.priority&&(0,w.jsx)("span",{className:"text-[8px] shrink-0",children:r9(e.priority)}),(0,w.jsx)("span",{className:"truncate",children:e.title})]},e.id)}),e.length>3&&(0,w.jsxs)("div",{className:"text-[9px] sm:text-[10px] text-gray-500 dark:text-gray-400 pl-1",children:["+",e.length-3]})]}),n&&e.length>0&&"undefined"!=typeof document&&(0,Y.createPortal)((0,w.jsxs)("div",{ref:u,className:"fixed w-[220px] bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-2 space-y-1 animate-in fade-in-0 zoom-in-95 duration-150",style:{...l,zIndex:30},onClick:e=>e.stopPropagation(),onMouseEnter:p,onMouseLeave:y,children:[(0,w.jsxs)("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2 pb-1 border-b border-gray-100 dark:border-gray-700",children:[e.length,"개의 일정"]}),(0,w.jsx)("div",{className:"max-h-[200px] overflow-y-auto space-y-1",children:e.map(e=>{let r=r0(e);return(0,w.jsx)("div",{className:`p-2 rounded-md text-xs cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors ${rZ(e.status)}`,onClick:r=>{r.stopPropagation(),s(!1),a(!1),t(e)},children:(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${rQ(e.status)}`}),r&&(0,w.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),e.priority&&(0,w.jsx)("span",{className:"text-[10px]",children:r9(e.priority)}),(0,w.jsx)("span",{className:"font-medium truncate text-gray-800 dark:text-gray-200",children:e.title})]})},e.id)})})]}),document.body)]})}function at({weeks:e,tasksByDate:t,isOutsideProjectRange:r,isCurrentMonth:a,onSelectSlot:n,onSelectRange:s,onSelectEvent:l}){let[i,d]=(0,j.useState)(0),[o,c]=(0,j.useState)(""),[u,g]=(0,j.useState)(!1),[m,x]=(0,j.useState)(null),[h,f]=(0,j.useState)(null),p=(0,j.useCallback)((e,t)=>{t||(g(!0),x(e),f(e))},[]),y=(0,j.useCallback)((e,t)=>{u&&!t&&f(e)},[u]),b=(0,j.useCallback)(()=>{if(!u||!m||!h)return void g(!1);let e=m<=h?m:h,t=m<=h?h:m;!(0,rG.isSameDay)(e,t)&&s&&s(e,t),g(!1),x(null),f(null)},[u,m,h,s]),v=(0,j.useCallback)(e=>{if(!u||!m||!h)return!1;let t=m<=h?m:h,r=m<=h?h:m;return e>=t&&e<=r},[u,m,h]),k=(0,j.useCallback)((e,t)=>{if(t)return;let r=(0,N.format)(e,"yyyy-MM-dd"),a=Date.now(),s=a-i;r===o&&s<300?(n(e),d(0),c("")):(d(a),c(r))},[i,o,n]);return(0,w.jsx)("div",{className:"flex-1 min-h-0 flex flex-col select-none",onMouseUp:b,onMouseLeave:b,children:e.map((e,n)=>(0,w.jsx)("div",{className:"flex flex-1 min-h-0 border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:e.map(e=>{let n=(0,N.format)(e,"yyyy-MM-dd"),s=t[n]||[],i=r(e),d=!a(e),o=(0,rG.isSameDay)(e,new Date),c=e.getDay(),u=0===c,g=6===c,m=v(e);return(0,w.jsxs)("div",{className:`
                  flex-1 min-w-0 relative border-r border-gray-100 dark:border-gray-800 last:border-r-0
                  transition-colors cursor-pointer p-1 overflow-hidden flex flex-col
                  ${m?"bg-main-100/30 dark:bg-main-700/20":i?"bg-gray-100 dark:bg-gray-900 cursor-not-allowed":d?"bg-gray-50 dark:bg-gray-800/50":g?"bg-blue-50/30 dark:bg-blue-900/10":u?"bg-red-50/30 dark:bg-red-900/10":"bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800"}
                `,onClick:()=>k(e,i),onMouseDown:()=>p(e,i),onMouseEnter:()=>y(e,i),children:[(0,w.jsx)("div",{className:`
                    text-xs sm:text-sm font-medium w-5 h-5 sm:w-7 sm:h-7 flex items-center justify-center rounded-full shrink-0
                    ${o?"bg-main-500 dark:bg-main-400 text-white":i?"text-gray-300 dark:text-gray-600":d?"text-gray-400 dark:text-gray-500":u?"text-red-500 dark:text-red-400":g?"text-blue-500 dark:text-blue-400":"text-gray-800 dark:text-gray-200"}
                  `,children:(0,N.format)(e,"d")}),s.length>0&&(0,w.jsx)(ae,{tasks:s,onSelectEvent:l})]},n)})},n))})}function ar({tasks:e,currentDate:t,projectStartedAt:r,projectEndedAt:a,onSelectSlot:n,onSelectRange:s,onSelectEvent:l}){let i=(0,j.useMemo)(()=>(0,r3.startOfMonth)(t),[t]),d=(0,j.useMemo)(()=>(0,r6.endOfMonth)(t),[t]),o=(0,j.useMemo)(()=>(0,rq.startOfWeek)(i,{weekStartsOn:0}),[i]),c=(0,j.useMemo)(()=>(0,r7.endOfWeek)(d,{weekStartsOn:0}),[d]),u=(0,j.useMemo)(()=>{let e=[],t=o;for(;t<=c;)e.push(t),t=(0,rH.addDays)(t,1);return e},[o,c]),g=(0,j.useMemo)(()=>{let e=[];for(let t=0;t<u.length;t+=7)e.push(u.slice(t,t+7));return e},[u]),m=(0,j.useMemo)(()=>{let t={};return e.forEach(e=>{if(!e.started_at&&!e.ended_at)return;let r=new Date(e.started_at?e.started_at:e.ended_at),a=new Date(e.ended_at?e.ended_at:e.started_at),n=new Date(r);n.setHours(0,0,0,0);let s=new Date(a);for(s.setHours(23,59,59,999);n<=s;){let r=(0,N.format)(n,"yyyy-MM-dd");t[r]||(t[r]=[]),t[r].push(e),n=(0,rH.addDays)(n,1)}}),t},[e]),x=(0,j.useCallback)(e=>{if(!r||!a)return!1;let t=(0,N.format)(e,"yyyy-MM-dd");return t<r||t>a},[r,a]),h=(0,j.useCallback)(e=>(0,r8.isSameMonth)(e,t),[t]);return(0,w.jsxs)("div",{className:"flex flex-col h-full min-h-0 bg-white dark:bg-gray-900 overflow-hidden",children:[(0,w.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 shrink-0",children:["일","월","화","수","목","금","토"].map((e,t)=>(0,w.jsx)("div",{className:`
              flex-1 p-1.5 sm:p-3 text-center text-xs sm:text-sm font-semibold border-r border-gray-200 dark:border-gray-700 last:border-r-0
              ${0===t?"text-red-500 dark:text-red-400":6===t?"text-blue-500 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}
            `,children:e},e))}),(0,w.jsx)(at,{weeks:g,tasksByDate:m,isOutsideProjectRange:x,isCurrentMonth:h,onSelectSlot:n,onSelectRange:s,onSelectEvent:l})]})}let aa=e=>{switch(e){case"high":return(0,w.jsx)("span",{className:"text-red-500",children:"▲"});case"normal":return(0,w.jsx)("span",{className:"text-yellow-500",children:"▲"});case"low":return(0,w.jsx)("span",{className:"text-green-500",children:"▲"});default:return null}},an=e=>{let[t,r]=e.split(":").map(Number);return 60*t+(r||0)};function as({currentDate:e,hours:t,tasks:r,isOutsideProjectRange:a,onSelectSlot:n,onSelectEvent:s}){let l,i,d,o,[c,u]=(0,j.useState)(new Date),[g,m]=(0,j.useState)({isDragging:!1,startHour:null,endHour:null}),x=(0,j.useRef)(!1),h=(0,j.useMemo)(()=>r.filter(e=>!e.use_time||!e.start_time),[r]),f=(0,j.useMemo)(()=>((e,t)=>{let r=t[0],a=t[t.length-1]+1,n=(a-r)*60,s=e.filter(e=>e.use_time&&e.start_time).map(e=>{let t=an(e.start_time),s=e.end_time?an(e.end_time):t+60,l=Math.max(t,60*r),i=Math.max((Math.min(s,60*a)-l)/n*100,2);return{...e,top:(l-60*r)/n*100,height:i,startHour:Math.floor(t/60),endHour:Math.ceil(s/60),column:0,totalColumns:1}}),l=(e,t)=>e.startHour<t.endHour&&e.endHour>t.startHour,i=(e,t)=>{let r=[e],a=!0;for(;a;)for(let e of(a=!1,t))!r.includes(e)&&r.some(t=>l(t,e))&&(r.push(e),a=!0);return r},d=new Set;for(let e of s){if(d.has(e.id))continue;let t=i(e,s).sort((e,t)=>e.startHour-t.startHour||e.id.localeCompare(t.id)),r=[];for(let e of t){let t=!1;for(let a=0;a<r.length;a++)if(!l(r[a][r[a].length-1],e)){r[a].push(e),e.column=a,t=!0;break}t||(e.column=r.length,r.push([e]))}let a=r.length;for(let e of t)e.totalColumns=a,d.add(e.id)}return s})(r,t),[r,t]);(0,j.useEffect)(()=>{let e=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(e)},[]);let p=(0,rG.isSameDay)(e,c),y=(0,j.useCallback)(e=>{a||(x.current=!0,m({isDragging:!0,startHour:e,endHour:e}))},[a]),b=(0,j.useCallback)(e=>{x.current&&!a&&m(t=>({...t,endHour:e}))},[a]),v=(0,j.useCallback)(()=>{if(x.current){if(x.current=!1,null!==g.startHour&&null!==g.endHour){let t=g.startHour,r=g.endHour+1;t>g.endHour&&(t=g.endHour,r=g.startHour+1),n(e,t,r)}m({isDragging:!1,startHour:null,endHour:null})}},[g,e,n]);(0,j.useEffect)(()=>{let e=()=>{x.current&&v()};return window.addEventListener("mouseup",e),()=>window.removeEventListener("mouseup",e)},[v]);let k=(0,j.useCallback)(e=>{if(!g.isDragging||null===g.startHour||null===g.endHour)return!1;let t=Math.min(g.startHour,g.endHour),r=Math.max(g.startHour,g.endHour);return e>=t&&e<=r},[g]),N=p?(l=c.getHours(),i=c.getMinutes(),d=t[0],o=t[t.length-1]+1,l<d||l>=o?null:((l-d)*60+i)/((o-d)*60)*100):null;return(0,w.jsxs)("div",{className:"relative",children:[h.length>0&&(0,w.jsx)("div",{className:"border-b-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:(0,w.jsxs)("div",{className:"flex min-h-[50px]",children:[(0,w.jsx)("div",{className:"w-14 sm:w-20 shrink-0 p-2 text-right pr-3 border-r border-gray-200 dark:border-gray-700 flex items-center justify-end",children:(0,w.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"종일"})}),(0,w.jsx)("div",{className:"flex-1 p-2 flex flex-wrap gap-2",children:h.map(e=>{let t=r0(e);return(0,w.jsxs)("div",{className:`
                      flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm cursor-pointer
                      hover:shadow-md transition-all border
                      ${rJ(e.status)}
                    `,onClick:()=>s(e),children:[(0,w.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${rQ(e.status)}`}),t&&(0,w.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),e.priority&&(0,w.jsx)("span",{className:"text-xs",children:aa(e.priority)}),(0,w.jsx)("span",{className:"font-medium truncate max-w-[200px]",children:e.title})]},e.id)})})]})}),(0,w.jsxs)("div",{className:"relative",children:[t.map(e=>(0,w.jsxs)("div",{className:"flex border-b border-gray-100 dark:border-gray-800 last:border-b-0 h-[70px] sm:h-[80px]",children:[(0,w.jsx)("div",{className:"w-14 sm:w-20 shrink-0 p-2 text-right pr-3 border-r border-gray-200 dark:border-gray-700",children:(0,w.jsxs)("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium",children:[e.toString().padStart(2,"0"),":00"]})}),(0,w.jsx)("div",{className:`
                flex-1 relative transition-colors cursor-pointer
                ${a?"bg-gray-100 dark:bg-gray-900 cursor-not-allowed":k(e)?"bg-main-200 dark:bg-main-700/50":e>=9&&e<18?"bg-main-100/20 dark:bg-main-800/15 hover:bg-main-100/40 dark:hover:bg-main-800/30":"hover:bg-gray-50 dark:hover:bg-gray-800"}
              `,onMouseDown:()=>y(e),onMouseEnter:()=>b(e),onMouseUp:v,children:(0,w.jsx)("div",{className:"absolute left-0 right-0 top-1/2 border-t border-dashed border-gray-200 dark:border-gray-700 pointer-events-none"})})]},e)),null!==N&&(0,w.jsx)("div",{className:"absolute left-14 sm:left-20 right-0 z-30 pointer-events-none",style:{top:`${N}%`},children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"w-3 h-3 bg-main-500 rounded-full -ml-1.5"}),(0,w.jsx)("div",{className:"flex-1 border-t-2 border-main-500"})]})}),(0,w.jsx)("div",{className:"absolute left-14 sm:left-20 right-2 top-0 bottom-0 pointer-events-none",children:f.map(e=>{let t=r0(e),r=e.totalColumns>1?100/e.totalColumns:100,a=e.column*r;return(0,w.jsx)("div",{className:`
                  absolute rounded-lg border cursor-pointer pointer-events-auto
                  hover:shadow-lg hover:scale-[1.02] transition-all duration-200
                  ${rJ(e.status)}
                `,style:{top:`${e.top}%`,height:`${e.height}%`,left:`${a}%`,width:`calc(${r}% - 4px)`,minHeight:"24px"},onClick:t=>{t.stopPropagation(),s(e)},children:(0,w.jsxs)("div",{className:"p-2 h-full flex flex-col overflow-hidden",children:[(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${rQ(e.status)}`}),t&&(0,w.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),(0,w.jsx)("span",{className:"font-semibold text-sm truncate flex-1",children:e.title}),e.priority&&(0,w.jsx)("span",{className:"text-xs shrink-0",children:aa(e.priority)})]}),e.height>5&&(0,w.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.start_time,e.end_time?` - ${e.end_time}`:""]}),e.height>10&&e.description&&(0,w.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate",children:e.description})]})},e.id)})})]})]})}function al({tasks:e,currentDate:t,projectStartedAt:r,projectEndedAt:a,onSelectSlot:n,onSelectEvent:s}){let l=(0,j.useRef)(null),i=(0,j.useMemo)(()=>Array.from({length:16},(e,t)=>t+7),[]),d=(0,j.useMemo)(()=>{let r=(0,N.format)(t,"yyyy-MM-dd");return e.filter(e=>{if(!e.started_at&&!e.ended_at)return!1;let t=e.started_at?e.started_at.split("T")[0]:e.ended_at.split("T")[0],a=e.ended_at?e.ended_at.split("T")[0]:e.started_at.split("T")[0];return r>=t&&r<=a})},[e,t]),o=(0,j.useMemo)(()=>{if(!r||!a)return!1;let e=(0,N.format)(t,"yyyy-MM-dd");return e<r||e>a},[t,r,a]),c=(0,rG.isSameDay)(t,new Date),u=(0,N.format)(t,"EEEE",{locale:rA}),g=0===t.getDay()||6===t.getDay();return(0,j.useEffect)(()=>{l.current&&(l.current.scrollTop=160)},[t]),(0,w.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,w.jsxs)("div",{className:`
          flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700
          ${o?"bg-gray-100 dark:bg-gray-900":c?"bg-main-50 dark:bg-main-900/20":g?"bg-red-50/50 dark:bg-red-900/10":"bg-white dark:bg-gray-800"}
        `,children:[(0,w.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,w.jsx)("span",{className:`
              text-lg sm:text-xl font-semibold
              ${o?"text-gray-400 dark:text-gray-600 line-through":c?"text-main-600 dark:text-main-400":g?"text-red-500 dark:text-red-400":"text-gray-700 dark:text-gray-300"}
            `,children:u}),(0,w.jsx)("span",{className:`
              text-2xl sm:text-3xl font-bold
              ${o?"text-gray-400 dark:text-gray-600 line-through":c?"text-main-600 dark:text-main-400":g?"text-red-500 dark:text-red-400":"text-gray-800 dark:text-gray-200"}
            `,children:(0,N.format)(t,"d")}),d.length>0&&(0,w.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:["(",d.length,"개)"]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:(0,N.format)(t,"yyyy년 M월",{locale:rA})}),c&&!o&&(0,w.jsx)("span",{className:"px-2 py-1 bg-main-500 text-white text-xs font-semibold rounded-full",children:"Today"}),o&&(0,w.jsx)("span",{className:"px-2 py-1 bg-gray-400 text-white text-xs font-semibold rounded-full",children:"프로젝트 기간 외"})]})]}),(0,w.jsx)("div",{ref:l,className:"flex-1 overflow-y-auto scrollbar-hide",children:(0,w.jsx)(as,{currentDate:t,hours:i,tasks:d,isOutsideProjectRange:o,onSelectSlot:n,onSelectEvent:s})})]})}var ai=e.i(59391),ad=e.i(36812),ao=e.i(56801),ac=e.i(93544);let au=e=>{if(!e)return null;let t=new Date(e),r=t.getHours(),a=t.getMinutes();return 0===r&&0===a?null:(0,N.format)(t,"HH:mm")};function ag({tasks:e,onSelectEvent:t}){return 0===e.length?null:(0,w.jsx)("div",{className:"space-y-2",children:e.map(e=>{let r=au(e.started_at),a=au(e.ended_at),n=((e,t)=>{if(!e&&!t)return"";let r=e?.split("T")[0],a=t?.split("T")[0];if(r===a||!a)return"";let n=e?(0,N.format)(new Date(e),"M/d"):"",s=t?(0,N.format)(new Date(t),"M/d"):"";return`${n} ~ ${s}`})(e.started_at,e.ended_at),s=r||a,l=r0(e);return(0,w.jsxs)("div",{className:`
              flex items-start gap-3 p-3 rounded-lg cursor-pointer
              hover:shadow-md transition-all duration-200
              ${rJ(e.status)}
            `,onClick:()=>t(e),children:[(0,w.jsxs)("div",{className:"flex items-center gap-1 shrink-0 mt-0.5",children:[(0,w.jsx)("div",{className:`w-3 h-3 rounded-full ${rQ(e.status)}`}),l&&(0,w.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"})]}),(0,w.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[e.priority&&(0,w.jsx)("span",{className:"text-xs",children:(e=>{switch(e){case"high":return(0,w.jsx)("span",{className:"text-red-500",children:"▲"});case"normal":return(0,w.jsx)("span",{className:"text-yellow-500",children:"▲"});case"low":return(0,w.jsx)("span",{className:"text-green-500",children:"▲"});default:return null}})(e.priority)}),(0,w.jsx)("span",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:e.title})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[s&&(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r,a&&r!==a&&` ~ ${a}`]}),n&&(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n]}),!s&&!n&&(0,w.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"종일"})]}),e.description&&(0,w.jsx)("p",{className:"mt-1.5 text-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description})]}),(0,w.jsx)("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},e.id)})})}function am({tasks:e,currentDate:t,projectStartedAt:r,projectEndedAt:a,onSelectSlot:n,onSelectEvent:s}){let l=(0,j.useMemo)(()=>{let e=[],r=(0,ai.startOfDay)(t);for(let t=0;t<30;t++)e.push(r),r=(0,rH.addDays)(r,1);return e},[t]),i=(0,j.useMemo)(()=>{let t={};return e.forEach(e=>{if(!e.started_at&&!e.ended_at)return;let r=e.started_at?e.started_at.split("T")[0]:e.ended_at.split("T")[0],a=e.ended_at?e.ended_at.split("T")[0]:e.started_at.split("T")[0];l.forEach(n=>{let s=(0,N.format)(n,"yyyy-MM-dd");s>=r&&s<=a&&(t[s]||(t[s]=[]),t[s].push(e))})}),t},[e,l]),d=(0,j.useMemo)(()=>l.filter(e=>{let t=(0,N.format)(e,"yyyy-MM-dd");return i[t]&&i[t].length>0}),[l,i]),o=e=>{let t=e.getDay();return 0===t?"text-red-500 dark:text-red-400":6===t?"text-blue-500 dark:text-blue-400":"text-gray-700 dark:text-gray-300"},c=(0,j.useMemo)(()=>Object.values(i).reduce((e,t)=>e+t.length,0),[i]);return(0,w.jsxs)("div",{className:"flex flex-col h-full min-h-0 bg-white dark:bg-gray-900 overflow-hidden",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 shrink-0",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsxs)("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:[(0,N.format)(t,"yyyy년 M월",{locale:rA}),"부터"," ",30,"일간"]}),(0,w.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",d.length,"일, ",c,"개 일정)"]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-main-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"할일"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"진행중"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"지연"})]})]})]}),(0,w.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===d.length?(0,w.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[(0,w.jsx)("svg",{className:"w-16 h-16 mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,w.jsx)("p",{className:"text-sm font-medium",children:"일정이 없습니다"}),(0,w.jsx)("p",{className:"text-xs mt-1",children:"해당 기간에 등록된 일정이 없습니다"})]}):(0,w.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:d.map(e=>{let t,l=(0,N.format)(e,"yyyy-MM-dd"),d=i[l]||[],c=(0,rG.isSameDay)((0,ao.constructFrom)(e,e),(0,ao.constructFrom)(e,Date.now())),u=(0,ac.isBefore)(((t=(0,ad.toDate)(e,void 0)).setHours(23,59,59,999),t),new Date)&&!c,g=(e=>{if(!r||!a)return!1;let t=(0,N.format)(e,"yyyy-MM-dd");return t<r||t>a})(e);return(0,w.jsxs)("div",{className:`
                    flex
                    ${g?"opacity-50":""}
                    ${u?"bg-gray-50/50 dark:bg-gray-800/30":""}
                    ${c?"bg-main-50/50 dark:bg-main-900/20":""}
                  `,children:[(0,w.jsxs)("div",{className:`
                      w-24 sm:w-32 shrink-0 p-3 sm:p-4 border-r border-gray-100 dark:border-gray-800
                      flex flex-col items-center justify-start
                      ${c?"bg-main-100/50 dark:bg-main-900/30":""}
                      cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors
                    `,onClick:()=>!g&&n(e),children:[(0,w.jsx)("span",{className:`text-2xl sm:text-3xl font-bold ${o(e)}`,children:(0,N.format)(e,"d")}),(0,w.jsx)("span",{className:`text-xs ${o(e)}`,children:(0,N.format)(e,"EEEE",{locale:rA})}),c&&(0,w.jsx)("span",{className:"mt-1 px-1.5 py-0.5 text-[10px] font-medium bg-main-500 text-white rounded",children:"오늘"})]}),(0,w.jsx)("div",{className:"flex-1 p-2 sm:p-3",children:(0,w.jsx)(ag,{tasks:d,onSelectEvent:s})})]},l)})})})]})}function ax({tasks:e=[],boardId:t,project:r,onCreateTask:a,onUpdateTask:n,onDeleteTask:s,onSelectTask:l,onTaskCreated:i,onProjectInfoClick:d}){let o=r?.project_id||"",c=r?.project_name||"이름 없는 프로젝트",u=r?.started_at,g=r?.ended_at;console.log("CalendarView - Project Info:",{project:r,projectName:c,projectStartedAt:u,projectEndedAt:g,boardId:t,projectId:o});let{showTaskAddModal:m,setShowTaskAddModal:x,showTaskDetailModal:h,setShowTaskDetailModal:f,selectedTask:p,setSelectedTask:y,selectedDates:b,setSelectedDates:v,showHelp:k,setShowHelp:_,currentDate:D,setCurrentDate:C,currentView:S,setCurrentView:M}=function(e){let{projectStartedAt:t,projectEndedAt:r}=e||{},[a,n]=(0,j.useState)(!1),[s,l]=(0,j.useState)(!1),[i,d]=(0,j.useState)(null),[o,c]=(0,j.useState)(null),[u,g]=(0,j.useState)(!1),[m,x]=(0,j.useState)(()=>{if(t&&r){let e=new Date,a=new Date(t),n=new Date(r);if(e<a||e>n)return a}return new Date}),[h,f]=(0,j.useState)("month"),[p,y]=(0,j.useState)(new Date);return(0,j.useEffect)(()=>{let e=setInterval(()=>{y(new Date)},6e4);return()=>clearInterval(e)},[]),{showTaskAddModal:a,setShowTaskAddModal:n,showTaskDetailModal:s,setShowTaskDetailModal:l,selectedTask:i,setSelectedTask:d,selectedDates:o,setSelectedDates:c,showHelp:u,setShowHelp:g,currentDate:m,setCurrentDate:x,currentView:h,setCurrentView:f,currentTime:p}}({projectStartedAt:u,projectEndedAt:g});!function({showTaskAddModal:e,showTaskDetailModal:t,currentDate:r,currentView:a,setShowTaskAddModal:n,setShowTaskDetailModal:s,setSelectedTask:l,setSelectedDates:i,setCurrentDate:d,setCurrentView:o}){(0,j.useEffect)(()=>{0;let o=o=>{if("Escape"===o.key){e&&(n(!1),i(null)),t&&(s(!1),l(null));return}if(!e&&!t&&document.activeElement?.tagName!=="INPUT"&&document.activeElement?.tagName!=="TEXTAREA"){if("KeyN"===o.code&&(o.ctrlKey||o.metaKey)&&!o.shiftKey&&!o.altKey){o.preventDefault();let e=new Date;i({started_at:(0,N.format)(e,"yyyy-MM-dd"),ended_at:(0,N.format)(e,"yyyy-MM-dd")}),n(!0);return}("ArrowLeft"===o.key||"ArrowRight"===o.key)&&(o.preventDefault(),d(((e,t,r)=>{let a=new Date(e);switch(r){case"month":a.setMonth(a.getMonth()+t);break;case"week":a.setDate(a.getDate()+7*t);break;case"day":case"agenda":a.setDate(a.getDate()+t)}return a})(r,"ArrowLeft"===o.key?-1:1,a)))}};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t,r,a,n,s,l,i,d,o])}({showTaskAddModal:m,showTaskDetailModal:h,currentDate:D,currentView:S,setShowTaskAddModal:x,setShowTaskDetailModal:f,setSelectedTask:y,setSelectedDates:v,setCurrentDate:C,setCurrentView:M});let[T,E]=(0,j.useState)(!1),[P,$]=(0,j.useState)({priority:"all",assignee:"all",date:"all"}),I=(0,j.useMemo)(()=>e.filter(e=>{if("all"!==P.priority&&e.priority!==P.priority)return!1;if("all"!==P.assignee)switch(P.assignee){case"assigned":if(!e.assigned_user_id)return!1;break;case"unassigned":if(e.assigned_user_id)return!1}if("all"!==P.date){let t=new Date,r=(0,N.format)(t,"yyyy-MM-dd");switch(P.date){case"today":if(!e.started_at||!e.ended_at)return!1;{let t=e.started_at.split("T")[0],a=e.ended_at.split("T")[0];if(r<t||r>a)return!1}break;case"thisWeek":let a=new Date(t);a.setDate(t.getDate()-t.getDay());let n=new Date(a);n.setDate(a.getDate()+6);let s=(0,N.format)(a,"yyyy-MM-dd"),l=(0,N.format)(n,"yyyy-MM-dd");if(!e.started_at||!e.ended_at)return!1;{let t=e.started_at.split("T")[0];if(e.ended_at.split("T")[0]<s||t>l)return!1}break;case"overdue":if("done"===e.status||!e.ended_at||e.ended_at.split("T")[0]>=r)return!1}}return!0}),[e,P,session]),L=(0,j.useCallback)(e=>{$(t=>({...t,...e}))},[]),A=(0,j.useCallback)(e=>{if(console.log("handleNavigate:",e,S,u,g),!u&&!g){console.log("프로젝트 기간 미설정 - 날짜 이동 허용"),C(e);return}let t=new Date(u),r=new Date(g);if("month"===S){let a=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(r.getFullYear(),r.getMonth(),1);if(console.log("월 뷰 - 날짜 이동 체크:",{minDate:t,maxDate:r,newDate:e}),a<n||a>s)return void(0,rj.showToast)("프로젝트 기간을 확인하세요.","warning")}else if(e<t||e>r)return void(0,rj.showToast)("프로젝트 기간을 확인하세요.","warning");C(e)},[u,g,S,C]),R=(0,j.useCallback)(async e=>{await a?.(e),x(!1),v(null)},[a,x,v]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[(0,w.jsx)(rz,{projectName:c,projectStartedAt:u,projectEndedAt:g,currentView:S,currentDate:D,eventsCount:I.length,showHelp:k,showFilter:T,onToggleHelp:()=>_(!k),onToggleFilter:()=>E(!T),onProjectInfoClick:d,onAddTask:()=>{let e=new Date;v({started_at:(0,N.format)(e,"yyyy-MM-dd"),ended_at:(0,N.format)(e,"yyyy-MM-dd")}),x(!0)}}),k&&(0,w.jsx)(rF,{}),T&&(0,w.jsx)("div",{className:"px-2 sm:px-4",children:(0,w.jsx)(rY,{filter:P,onFilterChange:L,taskCount:I.length,totalCount:e.length})}),(0,w.jsx)("div",{className:"flex-1 min-h-0 flex flex-col p-2 sm:p-3",children:"week"===S?(0,w.jsxs)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,w.jsx)(rX,{currentDate:D,currentView:S,onNavigate:A,onViewChange:M}),(0,w.jsx)(r4,{tasks:I,currentDate:D,projectStartedAt:u,projectEndedAt:g,onSelectSlot:(e,t,r,a)=>{g&&new Date().toISOString().split("T")[0]>g?(0,rj.showToast)("종료된 프로젝트입니다.","warning"):(v({started_at:(0,N.format)(e,"yyyy-MM-dd"),ended_at:(0,N.format)(t,"yyyy-MM-dd"),start_time:void 0!==r?`${r.toString().padStart(2,"0")}:00`:void 0,end_time:void 0!==a?`${a.toString().padStart(2,"0")}:00`:void 0}),x(!0))},onSelectEvent:e=>{y(e),f(!0),l?.(e)}})]}):"month"===S?(0,w.jsxs)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,w.jsx)(rX,{currentDate:D,currentView:S,onNavigate:A,onViewChange:M}),(0,w.jsx)(ar,{tasks:I,currentDate:D,projectStartedAt:u,projectEndedAt:g,onSelectSlot:e=>{g&&new Date().toISOString().split("T")[0]>g?(0,rj.showToast)("종료된 프로젝트입니다.","warning"):(v({started_at:(0,N.format)(e,"yyyy-MM-dd"),ended_at:(0,N.format)(e,"yyyy-MM-dd")}),x(!0))},onSelectRange:(e,t)=>{g&&new Date().toISOString().split("T")[0]>g?(0,rj.showToast)("종료된 프로젝트입니다.","warning"):(v({started_at:(0,N.format)(e,"yyyy-MM-dd"),ended_at:(0,N.format)(t,"yyyy-MM-dd")}),x(!0))},onSelectEvent:e=>{y(e),f(!0),l?.(e)}})]}):"day"===S?(0,w.jsxs)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,w.jsx)(rX,{currentDate:D,currentView:S,onNavigate:A,onViewChange:M}),(0,w.jsx)(al,{tasks:I,currentDate:D,projectStartedAt:u,projectEndedAt:g,onSelectSlot:(e,t,r)=>{g&&new Date().toISOString().split("T")[0]>g?(0,rj.showToast)("종료된 프로젝트입니다.","warning"):(v({started_at:(0,N.format)(e,"yyyy-MM-dd"),ended_at:(0,N.format)(e,"yyyy-MM-dd"),start_time:void 0!==t?`${t.toString().padStart(2,"0")}:00`:void 0,end_time:void 0!==r?`${r.toString().padStart(2,"0")}:00`:void 0}),x(!0))},onSelectEvent:e=>{y(e),f(!0),l?.(e)}})]}):(0,w.jsxs)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,w.jsx)(rX,{currentDate:D,currentView:S,onNavigate:A,onViewChange:M}),(0,w.jsx)(am,{tasks:I,currentDate:D,projectStartedAt:u,projectEndedAt:g,onSelectSlot:e=>{g&&new Date().toISOString().split("T")[0]>g?(0,rj.showToast)("종료된 프로젝트입니다.","warning"):(v({started_at:(0,N.format)(e,"yyyy-MM-dd"),ended_at:(0,N.format)(e,"yyyy-MM-dd")}),x(!0))},onSelectEvent:e=>{y(e),f(!0),l?.(e)}})]})}),(0,w.jsx)("div",{className:"sm:hidden",children:(0,w.jsx)(rB,{tasks:I,compact:!0})}),(0,w.jsx)("div",{className:"hidden sm:block",children:(0,w.jsx)(rB,{tasks:I})})]}),m&&b&&(0,w.jsx)(O,{isOpen:!0,onClose:()=>{x(!1),v(null)},children:(0,w.jsx)(rw,{boardId:t,projectId:o,projectStartedAt:u,projectEndedAt:g,onSuccess:R,onCancel:()=>{x(!1),v(null)},initialStartDate:b.started_at,initialEndDate:b.ended_at,initialStartTime:b.start_time,initialEndTime:b.end_time,initialUseTime:!!(b.start_time||b.end_time)})}),h&&p&&(0,w.jsx)(O,{isOpen:!0,onClose:()=>{f(!1),y(null)},children:(0,w.jsx)(rN,{task:{...p,project_id:p.project_id||o},projectStartedAt:u,projectEndedAt:g,onUpdate:(e,t)=>{n?.(e,t),i?.()},onDelete:e=>{s?.(e),f(!1),y(null),i?.()},onClose:()=>{f(!1),y(null)}})})]})}let ah="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function af(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function ap(e){return"nodeType"in e}function ay(e){var t,r;return e?af(e)?e:ap(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function ab(e){let{Document:t}=ay(e);return e instanceof t}function av(e){return!af(e)&&e instanceof ay(e).HTMLElement}function aw(e){return e instanceof ay(e).SVGElement}function aj(e){return e?af(e)?e.document:ap(e)?ab(e)?e:av(e)||aw(e)?e.ownerDocument:document:document:document}let ak=ah?j.useLayoutEffect:j.useEffect;function aN(e){let t=(0,j.useRef)(e);return ak(()=>{t.current=e}),(0,j.useCallback)(function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return null==t.current?void 0:t.current(...r)},[])}function a_(e,t){void 0===t&&(t=[e]);let r=(0,j.useRef)(e);return ak(()=>{r.current!==e&&(r.current=e)},t),r}function aD(e,t){let r=(0,j.useRef)();return(0,j.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function aC(e){let t=aN(e),r=(0,j.useRef)(null),a=(0,j.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,a]}function aS(e){let t=(0,j.useRef)();return(0,j.useEffect)(()=>{t.current=e},[e]),t.current}let aM={};function aT(e,t){return(0,j.useMemo)(()=>{if(t)return t;let r=null==aM[e]?0:aM[e]+1;return aM[e]=r,e+"-"+r},[e,t])}function aE(e){return function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce((t,r)=>{for(let[a,n]of Object.entries(r)){let r=t[a];null!=r&&(t[a]=r+e*n)}return t},{...t})}}let aO=aE(1),aP=aE(-1);function a$(e){if(!e)return!1;let{KeyboardEvent:t}=ay(e.target);return t&&e instanceof t}function aI(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=ay(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let aL=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[aL.Translate.toString(e),aL.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),aA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",aR={display:"none"};function az(e){let{id:t,value:r}=e;return j.default.createElement("div",{id:t,style:aR},r)}function aF(e){let{id:t,announcement:r,ariaLiveType:a="assertive"}=e;return j.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":a,"aria-atomic":!0},r)}let aH=(0,j.createContext)(null),aW={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},aB={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function aY(e){var t;let r,{announcements:a=aB,container:n,hiddenTextDescribedById:s,screenReaderInstructions:l=aW}=e,{announce:i,announcement:d}=function(){let[e,t]=(0,j.useState)("");return{announce:(0,j.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),o=aT("DndLiveRegion"),[c,u]=(0,j.useState)(!1);if((0,j.useEffect)(()=>{u(!0)},[]),t=(0,j.useMemo)(()=>({onDragStart(e){let{active:t}=e;i(a.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;a.onDragMove&&i(a.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;i(a.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;i(a.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;i(a.onDragCancel({active:t,over:r}))}}),[i,a]),r=(0,j.useContext)(aH),(0,j.useEffect)(()=>{if(!r)throw Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r]),!c)return null;let g=j.default.createElement(j.default.Fragment,null,j.default.createElement(az,{id:s,value:l.draggable}),j.default.createElement(aF,{id:o,announcement:d}));return n?(0,Y.createPortal)(g,n):g}function aU(){}(r=u||(u={})).DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable";let aV=Object.freeze({x:0,y:0});function aK(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}let aX=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e,n=[];for(let e of a){let{id:a}=e,s=r.get(a);if(s){let r=function(e,t){let r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height);if(a<n&&r<s){let l=t.width*t.height,i=e.width*e.height,d=(n-a)*(s-r);return Number((d/(l+i-d)).toFixed(4))}return 0}(s,t);r>0&&n.push({id:a,data:{droppableContainer:e,value:r}})}}return n.sort(aK)};function aq(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:aV}let aG=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})};function aJ(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}let aQ={ignoreTransform:!1};function aZ(e,t){void 0===t&&(t=aQ);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:a}=ay(e).getComputedStyle(e);t&&(r=function(e,t,r){let a=aJ(t);if(!a)return e;let{scaleX:n,scaleY:s,x:l,y:i}=a,d=e.left-l-(1-n)*parseFloat(r),o=e.top-i-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),c=n?e.width/n:e.width,u=s?e.height/s:e.height;return{width:c,height:u,top:o,right:d+c,bottom:o+u,left:d}}(r,t,a))}let{top:a,left:n,width:s,height:l,bottom:i,right:d}=r;return{top:a,left:n,width:s,height:l,bottom:i,right:d}}function a0(e){return aZ(e,{ignoreTransform:!0})}function a1(e,t){let r=[];return e?function a(n){var s,l;let i;if(null!=t&&r.length>=t||!n)return r;if(ab(n)&&null!=n.scrollingElement&&!r.includes(n.scrollingElement))return r.push(n.scrollingElement),r;if(!av(n)||aw(n)||r.includes(n))return r;let d=ay(e).getComputedStyle(n);return(n!==e&&(void 0===(s=d)&&(s=ay(n).getComputedStyle(n)),i=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=s[e];return"string"==typeof t&&i.test(t)}))&&r.push(n),void 0===(l=d)&&(l=ay(n).getComputedStyle(n)),"fixed"===l.position)?r:a(n.parentNode)}(e):r}function a2(e){let[t]=a1(e,1);return null!=t?t:null}function a5(e){return ah&&e?af(e)?e:ap(e)?ab(e)||e===aj(e).scrollingElement?window:av(e)?e:null:null:null}function a4(e){return af(e)?e.scrollX:e.scrollLeft}function a3(e){return af(e)?e.scrollY:e.scrollTop}function a6(e){return{x:a4(e),y:a3(e)}}function a7(e){return!!ah&&!!e&&e===document.scrollingElement}function a8(e){let t={x:0,y:0},r=a7(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},n=e.scrollTop<=t.y,s=e.scrollLeft<=t.x;return{isTop:n,isLeft:s,isBottom:e.scrollTop>=a.y,isRight:e.scrollLeft>=a.x,maxScroll:a,minScroll:t}}(a=g||(g={}))[a.Forward=1]="Forward",a[a.Backward=-1]="Backward";let a9={x:.2,y:.2};function ne(e){return e.reduce((e,t)=>aO(e,a6(t)),aV)}function nt(e,t){if(void 0===t&&(t=aZ),!e)return;let{top:r,left:a,bottom:n,right:s}=t(e);a2(e)&&(n<=0||s<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}let nr=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+a4(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+a3(t),0)}]];class na{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=a1(t),a=ne(r);for(const[t,n,s]of(this.rect={...e},this.width=e.width,this.height=e.height,nr))for(const e of n)Object.defineProperty(this,e,{get:()=>{let n=s(r),l=a[t]-n;return this.rect[e]+l},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class nn{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var a;null==(a=this.target)||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function ns(e,t){let r=Math.abs(e.x),a=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t&&a>t.y}function nl(e){e.preventDefault()}function ni(e){e.stopPropagation()}(n=m||(m={})).Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange",(s=x||(x={})).Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab";let nd={start:[x.Space,x.Enter],cancel:[x.Esc],end:[x.Space,x.Enter,x.Tab]},no=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case x.Right:return{...r,x:r.x+25};case x.Left:return{...r,x:r.x-25};case x.Down:return{...r,y:r.y+25};case x.Up:return{...r,y:r.y-25}}};class nc{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new nn(aj(t)),this.windowListeners=new nn(ay(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(m.Resize,this.handleCancel),this.windowListeners.add(m.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(m.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&nt(r),t(aV)}handleKeyDown(e){if(a$(e)){let{active:t,context:r,options:a}=this.props,{keyboardCodes:n=nd,coordinateGetter:s=no,scrollBehavior:l="smooth"}=a,{code:i}=e;if(n.end.includes(i))return void this.handleEnd(e);if(n.cancel.includes(i))return void this.handleCancel(e);let{collisionRect:d}=r.current,o=d?{x:d.left,y:d.top}:aV;this.referenceCoordinates||(this.referenceCoordinates=o);let c=s(e,{active:t,context:r.current,currentCoordinates:o});if(c){let t=aP(c,o),a={x:0,y:0},{scrollableAncestors:n}=r.current;for(let r of n){let n=e.code,{isTop:s,isRight:i,isLeft:d,isBottom:o,maxScroll:u,minScroll:g}=a8(r),m=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:a,bottom:n}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:n,width:e.clientWidth,height:e.clientHeight}}(r),h={x:Math.min(n===x.Right?m.right-m.width/2:m.right,Math.max(n===x.Right?m.left:m.left+m.width/2,c.x)),y:Math.min(n===x.Down?m.bottom-m.height/2:m.bottom,Math.max(n===x.Down?m.top:m.top+m.height/2,c.y))},f=n===x.Right&&!i||n===x.Left&&!d,p=n===x.Down&&!o||n===x.Up&&!s;if(f&&h.x!==c.x){let e=r.scrollLeft+t.x,s=n===x.Right&&e<=u.x||n===x.Left&&e>=g.x;if(s&&!t.y)return void r.scrollTo({left:e,behavior:l});s?a.x=r.scrollLeft-e:a.x=n===x.Right?r.scrollLeft-u.x:r.scrollLeft-g.x,a.x&&r.scrollBy({left:-a.x,behavior:l});break}if(p&&h.y!==c.y){let e=r.scrollTop+t.y,s=n===x.Down&&e<=u.y||n===x.Up&&e>=g.y;if(s&&!t.x)return void r.scrollTo({top:e,behavior:l});s?a.y=r.scrollTop-e:a.y=n===x.Down?r.scrollTop-u.y:r.scrollTop-g.y,a.y&&r.scrollBy({top:-a.y,behavior:l});break}}this.handleMove(e,aO(aP(c,this.referenceCoordinates),a))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function nu(e){return!!(e&&"distance"in e)}function ng(e){return!!(e&&"delay"in e)}nc.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=nd,onActivation:n}=t,{active:s}=r,{code:l}=e.nativeEvent;if(a.start.includes(l)){let t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}return!1}}];class nm{constructor(e,t,r){var a;void 0===r&&(r=function(e){let{EventTarget:t}=ay(e);return e instanceof t?e:aj(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:n}=e,{target:s}=n;this.props=e,this.events=t,this.document=aj(s),this.documentListeners=new nn(this.document),this.listeners=new nn(r),this.windowListeners=new nn(ay(s)),this.initialCoordinates=null!=(a=aI(n))?a:aV,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(m.Resize,this.handleCancel),this.windowListeners.add(m.DragStart,nl),this.windowListeners.add(m.VisibilityChange,this.handleCancel),this.windowListeners.add(m.ContextMenu,nl),this.documentListeners.add(m.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ng(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(nu(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(m.Click,ni,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(m.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:a,props:n}=this,{onMove:s,options:{activationConstraint:l}}=n;if(!a)return;let i=null!=(t=aI(e))?t:aV,d=aP(a,i);if(!r&&l){if(nu(l)){if(null!=l.tolerance&&ns(d,l.tolerance))return this.handleCancel();if(ns(d,l.distance))return this.handleStart()}return ng(l)&&ns(d,l.tolerance)?this.handleCancel():void this.handlePending(l,d)}e.cancelable&&e.preventDefault(),s(i)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===x.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let nx={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class nh extends nm{constructor(e){const{event:t}=e;super(e,nx,aj(t.target))}}nh.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!!r.isPrimary&&0===r.button&&(null==a||a({event:r}),!0)}}];(l=h||(h={}))[l.RightClick=2]="RightClick";(i=f||(f={}))[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect",(d=p||(p={}))[d.TreeOrder=0]="TreeOrder",d[d.ReversedTreeOrder=1]="ReversedTreeOrder";let nf={x:{[g.Backward]:!1,[g.Forward]:!1},y:{[g.Backward]:!1,[g.Forward]:!1}};(o=y||(y={}))[o.Always=0]="Always",o[o.BeforeDragging=1]="BeforeDragging",o[o.WhileDragging=2]="WhileDragging",(b||(b={})).Optimized="optimized";let np=new Map;function ny(e,t){return aD(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function nb(e){let{callback:t,disabled:r}=e,a=aN(t),n=(0,j.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(a)},[r]);return(0,j.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}function nv(e){return new na(aZ(e),e)}function nw(e,t,r){void 0===t&&(t=nv);let[a,n]=(0,j.useState)(null);function s(){n(a=>{if(!e)return null;if(!1===e.isConnected){var n;return null!=(n=null!=a?a:r)?n:null}let s=t(e);return JSON.stringify(a)===JSON.stringify(s)?a:s})}let l=function(e){let{callback:t,disabled:r}=e,a=aN(t),n=(0,j.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(a)},[a,r]);return(0,j.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}({callback(t){if(e)for(let r of t){let{type:t,target:a}=r;if("childList"===t&&a instanceof HTMLElement&&a.contains(e)){s();break}}}}),i=nb({callback:s});return ak(()=>{s(),e?(null==i||i.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==l||l.disconnect())},[e]),a}let nj=[];function nk(e,t){void 0===t&&(t=[]);let r=(0,j.useRef)(null);return(0,j.useEffect)(()=>{r.current=null},t),(0,j.useEffect)(()=>{let t=e!==aV;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?aP(e,r.current):aV}function nN(e){return(0,j.useMemo)(()=>{let t,r;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:r=e.innerHeight,width:t,height:r}):null},[e])}let n_=[];function nD(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return av(t)?t:e}let nC=[{sensor:nh,options:{}},{sensor:nc,options:{}}],nS={current:{}},nM={draggable:{measure:a0},droppable:{measure:a0,strategy:y.WhileDragging,frequency:b.Optimized},dragOverlay:{measure:aZ}};class nT extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let nE={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nT,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:aU},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nM,measureDroppableContainers:aU,windowRect:null,measuringScheduled:!1},nO={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:aU,draggableNodes:new Map,over:null,measureDroppableContainers:aU},nP=(0,j.createContext)(nO),n$=(0,j.createContext)(nE);function nI(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nT}}}function nL(e,t){switch(t.type){case u.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case u.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case u.DragEnd:case u.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case u.RegisterDroppable:{let{element:r}=t,{id:a}=r,n=new nT(e.droppable.containers);return n.set(a,r),{...e,droppable:{...e.droppable,containers:n}}}case u.SetDroppableDisabled:{let{id:r,key:a,disabled:n}=t,s=e.droppable.containers.get(r);if(!s||a!==s.key)return e;let l=new nT(e.droppable.containers);return l.set(r,{...s,disabled:n}),{...e,droppable:{...e.droppable,containers:l}}}case u.UnregisterDroppable:{let{id:r,key:a}=t,n=e.droppable.containers.get(r);if(!n||a!==n.key)return e;let s=new nT(e.droppable.containers);return s.delete(r),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function nA(e){let{disabled:t}=e,{active:r,activatorEvent:a,draggableNodes:n}=(0,j.useContext)(nP),s=aS(a),l=aS(null==r?void 0:r.id);return(0,j.useEffect)(()=>{if(!t&&!a&&s&&null!=l){if(!a$(s)||document.activeElement===s.target)return;let e=n.get(l);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(aA)?e:e.querySelector(aA);if(t){t.focus();break}}})}},[a,t,n,l,s]),null}function nR(e,t){let{transform:r,...a}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...a}),r):r}let nz=(0,j.createContext)({...aV,scaleX:1,scaleY:1});(c=v||(v={}))[c.Uninitialized=0]="Uninitialized",c[c.Initializing=1]="Initializing",c[c.Initialized=2]="Initialized";let nF=(0,j.memo)(function(e){var t,r,a,n,s,l,i,d;let o,c,m,x,h,b,w,k,{id:N,accessibility:_,autoScroll:D=!0,children:C,sensors:S=nC,collisionDetection:M=aX,measuring:T,modifiers:E,...O}=e,[P,$]=(0,j.useReducer)(nL,void 0,nI),[I,L]=function(){let[e]=(0,j.useState)(()=>new Set),t=(0,j.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,j.useCallback)(t=>{let{type:r,event:a}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,a)})},[e]),t]}(),[A,R]=(0,j.useState)(v.Uninitialized),z=A===v.Initialized,{draggable:{active:F,nodes:H,translate:W},droppable:{containers:B}}=P,U=null!=F?H.get(F):null,V=(0,j.useRef)({initial:null,translated:null}),K=(0,j.useMemo)(()=>{var e;return null!=F?{id:F,data:null!=(e=null==U?void 0:U.data)?e:nS,rect:V}:null},[F,U]),X=(0,j.useRef)(null),[q,G]=(0,j.useState)(null),[J,Q]=(0,j.useState)(null),Z=a_(O,Object.values(O)),ee=aT("DndDescribedBy",N),et=(0,j.useMemo)(()=>B.getEnabled(),[B]),er=(0,j.useMemo)(()=>({draggable:{...nM.draggable,...null==T?void 0:T.draggable},droppable:{...nM.droppable,...null==T?void 0:T.droppable},dragOverlay:{...nM.dragOverlay,...null==T?void 0:T.dragOverlay}}),[null==T?void 0:T.draggable,null==T?void 0:T.droppable,null==T?void 0:T.dragOverlay]),{droppableRects:ea,measureDroppableContainers:en,measuringScheduled:es}=function(e,t){let{dragging:r,dependencies:a,config:n}=t,[s,l]=(0,j.useState)(null),{frequency:i,measure:d,strategy:o}=n,c=(0,j.useRef)(e),u=function(){switch(o){case y.Always:return!1;case y.BeforeDragging:return r;default:return!r}}(),g=a_(u),m=(0,j.useCallback)(function(e){void 0===e&&(e=[]),g.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[g]),x=(0,j.useRef)(null),h=aD(t=>{if(u&&!r)return np;if(!t||t===np||c.current!==e||null!=s){let t=new Map;for(let r of e){if(!r)continue;if(s&&s.length>0&&!s.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,a=e?new na(d(e),e):null;r.rect.current=a,a&&t.set(r.id,a)}return t}return t},[e,s,r,u,d]);return(0,j.useEffect)(()=>{c.current=e},[e]),(0,j.useEffect)(()=>{u||m()},[r,u]),(0,j.useEffect)(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),(0,j.useEffect)(()=>{u||"number"!=typeof i||null!==x.current||(x.current=setTimeout(()=>{m(),x.current=null},i))},[i,u,m,...a]),{droppableRects:h,measureDroppableContainers:m,measuringScheduled:null!=s}}(et,{dragging:z,dependencies:[W.x,W.y],config:er.droppable}),el=aD(e=>{var t;return null==F?null:null!=(t=null!=h?h:e)?t:null},[h=(x=null!=F?H.get(F):void 0)?x.node.current:null,F]),ei=(0,j.useMemo)(()=>J?aI(J):null,[J]),ed=(o=(null==q?void 0:q.autoScrollEnabled)===!1,c="object"==typeof D?!1===D.enabled:!1===D,m=z&&!o&&!c,"object"==typeof D?{...D,enabled:m}:{enabled:m}),eo=ny(el,er.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:a,config:n=!0}=e,s=(0,j.useRef)(!1),{x:l,y:i}="boolean"==typeof n?{x:n,y:n}:n;ak(()=>{if(!l&&!i||!t){s.current=!1;return}if(s.current||!a)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let n=aq(r(e),a);if(l||(n.x=0),i||(n.y=0),s.current=!0,Math.abs(n.x)>0||Math.abs(n.y)>0){let t=a2(e);t&&t.scrollBy({top:n.y,left:n.x})}},[t,l,i,a,r])}({activeNode:null!=F?H.get(F):null,config:ed.layoutShiftCompensation,initialRect:eo,measure:er.draggable.measure});let ec=nw(el,er.draggable.measure,eo),eu=nw(el?el.parentElement:null),eg=(0,j.useRef)({activatorEvent:null,active:null,activeNode:el,collisionRect:null,collisions:null,droppableRects:ea,draggableNodes:H,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),em=B.getNodeFor(null==(t=eg.current.over)?void 0:t.id),ex=function(e){let{measure:t}=e,[r,a]=(0,j.useState)(null),n=nb({callback:(0,j.useCallback)(e=>{for(let{target:r}of e)if(av(r)){a(e=>{let a=t(r);return e?{...e,width:a.width,height:a.height}:a});break}},[t])}),[s,l]=aC((0,j.useCallback)(e=>{let r=nD(e);null==n||n.disconnect(),r&&(null==n||n.observe(r)),a(r?t(r):null)},[t,n]));return(0,j.useMemo)(()=>({nodeRef:s,rect:r,setRef:l}),[r,s,l])}({measure:er.dragOverlay.measure}),eh=null!=(r=ex.nodeRef.current)?r:el,ef=z?null!=(a=ex.rect)?a:ec:null,ep=!!(ex.nodeRef.current&&ex.rect),ey=(b=ny(s=ep?null:ec),aq(s,b)),eb=nN(eh?ay(eh):null),ev=(l=z?null!=em?em:el:null,w=(0,j.useRef)(l),k=aD(e=>l?e&&e!==nj&&l&&w.current&&l.parentNode===w.current.parentNode?e:a1(l):nj,[l]),(0,j.useEffect)(()=>{w.current=l},[l]),k),ew=function(e,t){void 0===t&&(t=aZ);let[r]=e,a=nN(r?ay(r):null),[n,s]=(0,j.useState)(n_);function l(){s(()=>e.length?e.map(e=>a7(e)?a:new na(t(e),e)):n_)}let i=nb({callback:l});return ak(()=>{null==i||i.disconnect(),l(),e.forEach(e=>null==i?void 0:i.observe(e))},[e]),n}(ev),ej=nR(E,{transform:{x:W.x-ey.x,y:W.y-ey.y,scaleX:1,scaleY:1},activatorEvent:J,active:K,activeNodeRect:ec,containerNodeRect:eu,draggingNodeRect:ef,over:eg.current.over,overlayNodeRect:ex.rect,scrollableAncestors:ev,scrollableAncestorRects:ew,windowRect:eb}),ek=ei?aO(ei,W):null,eN=function(e){let[t,r]=(0,j.useState)(null),a=(0,j.useRef)(e),n=(0,j.useCallback)(e=>{let t=a5(e.target);t&&r(e=>e?(e.set(t,a6(t)),new Map(e)):null)},[]);return(0,j.useEffect)(()=>{let t=a.current;if(e!==t){s(t);let l=e.map(e=>{let t=a5(e);return t?(t.addEventListener("scroll",n,{passive:!0}),[t,a6(t)]):null}).filter(e=>null!=e);r(l.length?new Map(l):null),a.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{let t=a5(e);null==t||t.removeEventListener("scroll",n)})}},[n,e]),(0,j.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>aO(e,t),aV):ne(e):aV,[e,t])}(ev),e_=nk(eN),eD=nk(eN,[ec]),eC=aO(ej,e_),eS=ef?aG(ef,ej):null,eM=K&&eS?M({active:K,collisionRect:eS,droppableRects:ea,droppableContainers:et,pointerCoordinates:ek}):null,eT=function(e,t){if(!e||0===e.length)return null;let[r]=e;return r.id}(eM,0),[eE,eO]=(0,j.useState)(null),eP=(i=ep?ej:aO(ej,eD),d=null!=(n=null==eE?void 0:eE.rect)?n:null,{...i,scaleX:d&&ec?d.width/ec.width:1,scaleY:d&&ec?d.height/ec.height:1}),e$=(0,j.useRef)(null),eI=(0,j.useCallback)((e,t)=>{let{sensor:r,options:a}=t;if(null==X.current)return;let n=H.get(X.current);if(!n)return;let s=e.nativeEvent,l=new r({active:X.current,activeNode:n,event:s,options:a,context:eg,onAbort(e){if(!H.get(e))return;let{onDragAbort:t}=Z.current,r={id:e};null==t||t(r),I({type:"onDragAbort",event:r})},onPending(e,t,r,a){if(!H.get(e))return;let{onDragPending:n}=Z.current,s={id:e,constraint:t,initialCoordinates:r,offset:a};null==n||n(s),I({type:"onDragPending",event:s})},onStart(e){let t=X.current;if(null==t)return;let r=H.get(t);if(!r)return;let{onDragStart:a}=Z.current,n={activatorEvent:s,active:{id:t,data:r.data,rect:V}};(0,Y.unstable_batchedUpdates)(()=>{null==a||a(n),R(v.Initializing),$({type:u.DragStart,initialCoordinates:e,active:t}),I({type:"onDragStart",event:n}),G(e$.current),Q(s)})},onMove(e){$({type:u.DragMove,coordinates:e})},onEnd:i(u.DragEnd),onCancel:i(u.DragCancel)});function i(e){return async function(){let{active:t,collisions:r,over:a,scrollAdjustedTranslate:n}=eg.current,l=null;if(t&&n){let{cancelDrop:i}=Z.current;l={activatorEvent:s,active:t,collisions:r,delta:n,over:a},e===u.DragEnd&&"function"==typeof i&&await Promise.resolve(i(l))&&(e=u.DragCancel)}X.current=null,(0,Y.unstable_batchedUpdates)(()=>{$({type:e}),R(v.Uninitialized),eO(null),G(null),Q(null),e$.current=null;let t=e===u.DragEnd?"onDragEnd":"onDragCancel";if(l){let e=Z.current[t];null==e||e(l),I({type:t,event:l})}})}}e$.current=l},[H]),eL=(0,j.useCallback)((e,t)=>(r,a)=>{let n=r.nativeEvent,s=H.get(a);null!==X.current||!s||n.dndKit||n.defaultPrevented||!0===e(r,t.options,{active:s})&&(n.dndKit={capturedBy:t.sensor},X.current=a,eI(r,t))},[H,eI]),eA=(0,j.useMemo)(()=>S.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:eL(e.handler,t)}))]},[]),[S,eL]);(0,j.useEffect)(()=>{if(!ah)return;let e=S.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},S.map(e=>{let{sensor:t}=e;return t})),ak(()=>{ec&&A===v.Initializing&&R(v.Initialized)},[ec,A]),(0,j.useEffect)(()=>{let{onDragMove:e}=Z.current,{active:t,activatorEvent:r,collisions:a,over:n}=eg.current;if(!t||!r)return;let s={active:t,activatorEvent:r,collisions:a,delta:{x:eC.x,y:eC.y},over:n};(0,Y.unstable_batchedUpdates)(()=>{null==e||e(s),I({type:"onDragMove",event:s})})},[eC.x,eC.y]),(0,j.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:a,scrollAdjustedTranslate:n}=eg.current;if(!e||null==X.current||!t||!n)return;let{onDragOver:s}=Z.current,l=a.get(eT),i=l&&l.rect.current?{id:l.id,rect:l.rect.current,data:l.data,disabled:l.disabled}:null,d={active:e,activatorEvent:t,collisions:r,delta:{x:n.x,y:n.y},over:i};(0,Y.unstable_batchedUpdates)(()=>{eO(i),null==s||s(d),I({type:"onDragOver",event:d})})},[eT]),ak(()=>{eg.current={activatorEvent:J,active:K,activeNode:el,collisionRect:eS,collisions:eM,droppableRects:ea,draggableNodes:H,draggingNode:eh,draggingNodeRect:ef,droppableContainers:B,over:eE,scrollableAncestors:ev,scrollAdjustedTranslate:eC},V.current={initial:ef,translated:eS}},[K,el,eM,eS,H,eh,ef,ea,B,eE,ev,eC]),function(e){let t,{acceleration:r,activator:a=f.Pointer,canScroll:n,draggingRect:s,enabled:l,interval:i=5,order:d=p.TreeOrder,pointerCoordinates:o,scrollableAncestors:c,scrollableAncestorRects:u,delta:m,threshold:x}=e,h=function(e){let{delta:t,disabled:r}=e,a=aS(t);return aD(e=>{if(r||!a||!e)return nf;let n={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[g.Backward]:e.x[g.Backward]||-1===n.x,[g.Forward]:e.x[g.Forward]||1===n.x},y:{[g.Backward]:e.y[g.Backward]||-1===n.y,[g.Forward]:e.y[g.Forward]||1===n.y}}},[r,t,a])}({delta:m,disabled:!l}),[y,b]=(t=(0,j.useRef)(null),[(0,j.useCallback)((e,r)=>{t.current=setInterval(e,r)},[]),(0,j.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),v=(0,j.useRef)({x:0,y:0}),w=(0,j.useRef)({x:0,y:0}),k=(0,j.useMemo)(()=>{switch(a){case f.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case f.DraggableRect:return s}},[a,s,o]),N=(0,j.useRef)(null),_=(0,j.useCallback)(()=>{let e=N.current;if(!e)return;let t=v.current.x*w.current.x,r=v.current.y*w.current.y;e.scrollBy(t,r)},[]),D=(0,j.useMemo)(()=>d===p.TreeOrder?[...c].reverse():c,[d,c]);(0,j.useEffect)(()=>{if(!l||!c.length||!k)return void b();for(let e of D){if((null==n?void 0:n(e))===!1)continue;let t=u[c.indexOf(e)];if(!t)continue;let{direction:a,speed:s}=function(e,t,r,a,n){let{top:s,left:l,right:i,bottom:d}=r;void 0===a&&(a=10),void 0===n&&(n=a9);let{isTop:o,isBottom:c,isLeft:u,isRight:m}=a8(e),x={x:0,y:0},h={x:0,y:0},f={height:t.height*n.y,width:t.width*n.x};return!o&&s<=t.top+f.height?(x.y=g.Backward,h.y=a*Math.abs((t.top+f.height-s)/f.height)):!c&&d>=t.bottom-f.height&&(x.y=g.Forward,h.y=a*Math.abs((t.bottom-f.height-d)/f.height)),!m&&i>=t.right-f.width?(x.x=g.Forward,h.x=a*Math.abs((t.right-f.width-i)/f.width)):!u&&l<=t.left+f.width&&(x.x=g.Backward,h.x=a*Math.abs((t.left+f.width-l)/f.width)),{direction:x,speed:h}}(e,t,k,r,x);for(let e of["x","y"])h[e][a[e]]||(s[e]=0,a[e]=0);if(s.x>0||s.y>0){b(),N.current=e,y(_,i),v.current=s,w.current=a;return}}v.current={x:0,y:0},w.current={x:0,y:0},b()},[r,_,n,b,l,i,JSON.stringify(k),JSON.stringify(h),y,c,D,u,JSON.stringify(x)])}({...ed,delta:W,draggingRect:eS,pointerCoordinates:ek,scrollableAncestors:ev,scrollableAncestorRects:ew});let eR=(0,j.useMemo)(()=>({active:K,activeNode:el,activeNodeRect:ec,activatorEvent:J,collisions:eM,containerNodeRect:eu,dragOverlay:ex,draggableNodes:H,droppableContainers:B,droppableRects:ea,over:eE,measureDroppableContainers:en,scrollableAncestors:ev,scrollableAncestorRects:ew,measuringConfiguration:er,measuringScheduled:es,windowRect:eb}),[K,el,ec,J,eM,eu,ex,H,B,ea,eE,en,ev,ew,er,es,eb]),ez=(0,j.useMemo)(()=>({activatorEvent:J,activators:eA,active:K,activeNodeRect:ec,ariaDescribedById:{draggable:ee},dispatch:$,draggableNodes:H,over:eE,measureDroppableContainers:en}),[J,eA,K,ec,$,ee,H,eE,en]);return j.default.createElement(aH.Provider,{value:L},j.default.createElement(nP.Provider,{value:ez},j.default.createElement(n$.Provider,{value:eR},j.default.createElement(nz.Provider,{value:eP},C)),j.default.createElement(nA,{disabled:(null==_?void 0:_.restoreFocus)===!1})),j.default.createElement(aY,{..._,hiddenTextDescribedById:ee}))}),nH=(0,j.createContext)(null),nW="button";function nB(){return(0,j.useContext)(n$)}let nY={timeout:25};function nU(e){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:n}=e,s=aT("Droppable"),{active:l,dispatch:i,over:d,measureDroppableContainers:o}=(0,j.useContext)(nP),c=(0,j.useRef)({disabled:r}),g=(0,j.useRef)(!1),m=(0,j.useRef)(null),x=(0,j.useRef)(null),{disabled:h,updateMeasurementsFor:f,timeout:p}={...nY,...n},y=a_(null!=f?f:a),b=nb({callback:(0,j.useCallback)(()=>{if(!g.current){g.current=!0;return}null!=x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{o(Array.isArray(y.current)?y.current:[y.current]),x.current=null},p)},[p]),disabled:h||!l}),[v,w]=aC((0,j.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),g.current=!1),e&&b.observe(e))},[b])),k=a_(t);return(0,j.useEffect)(()=>{b&&v.current&&(b.disconnect(),g.current=!1,b.observe(v.current))},[v,b]),(0,j.useEffect)(()=>(i({type:u.RegisterDroppable,element:{id:a,key:s,disabled:r,node:v,rect:m,data:k}}),()=>i({type:u.UnregisterDroppable,key:s,id:a})),[a]),(0,j.useEffect)(()=>{r!==c.current.disabled&&(i({type:u.SetDroppableDisabled,id:a,key:s,disabled:r}),c.current.disabled=r)},[a,s,r,i]),{active:l,rect:m,isOver:(null==d?void 0:d.id)===a,node:v,over:d,setNodeRef:w}}function nV(e){let{animation:t,children:r}=e,[a,n]=(0,j.useState)(null),[s,l]=(0,j.useState)(null),i=aS(r);return r||a||!i||n(i),ak(()=>{if(!s)return;let e=null==a?void 0:a.key,r=null==a?void 0:a.props.id;null==e||null==r?n(null):Promise.resolve(t(r,s)).then(()=>{n(null)})},[t,a,s]),j.default.createElement(j.default.Fragment,null,r,a?(0,j.cloneElement)(a,{ref:l}):null)}let nK={x:0,y:0,scaleX:1,scaleY:1};function nX(e){let{children:t}=e;return j.default.createElement(nP.Provider,{value:nO},j.default.createElement(nz.Provider,{value:nK},t))}let nq={position:"fixed",touchAction:"none"},nG=e=>a$(e)?"transform 250ms ease":void 0,nJ=(0,j.forwardRef)((e,t)=>{let{as:r,activatorEvent:a,adjustScale:n,children:s,className:l,rect:i,style:d,transform:o,transition:c=nG}=e;if(!i)return null;let u=n?o:{...o,scaleX:1,scaleY:1},g={...nq,width:i.width,height:i.height,top:i.top,left:i.left,transform:aL.Transform.toString(u),transformOrigin:n&&a?function(e,t){let r=aI(e);if(!r)return"0 0";let a={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}(a,i):void 0,transition:"function"==typeof c?c(a):c,...d};return j.default.createElement(r,{className:l,style:g,ref:t},s)}),nQ={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:r}}=e;return[{transform:aL.Transform.toString(t)},{transform:aL.Transform.toString(r)}]},sideEffects:(t={styles:{active:{opacity:"0"}}},e=>{let{active:r,dragOverlay:a}=e,n={},{styles:s,className:l}=t;if(null!=s&&s.active)for(let[e,t]of Object.entries(s.active))void 0!==t&&(n[e]=r.node.style.getPropertyValue(e),r.node.style.setProperty(e,t));if(null!=s&&s.dragOverlay)for(let[e,t]of Object.entries(s.dragOverlay))void 0!==t&&a.node.style.setProperty(e,t);return null!=l&&l.active&&r.node.classList.add(l.active),null!=l&&l.dragOverlay&&a.node.classList.add(l.dragOverlay),function(){for(let[e,t]of Object.entries(n))r.node.style.setProperty(e,t);null!=l&&l.active&&r.node.classList.remove(l.active)}})},nZ=0,n0=j.default.memo(e=>{var t;let{adjustScale:r=!1,children:a,dropAnimation:n,style:s,transition:l,modifiers:i,wrapperElement:d="div",className:o,zIndex:c=999}=e,{activatorEvent:u,active:g,activeNodeRect:m,containerNodeRect:x,draggableNodes:h,droppableContainers:f,dragOverlay:p,over:y,measuringConfiguration:b,scrollableAncestors:v,scrollableAncestorRects:w,windowRect:k}=nB(),N=(0,j.useContext)(nz),_=(t=null==g?void 0:g.id,(0,j.useMemo)(()=>{if(null!=t)return++nZ},[t])),D=nR(i,{activatorEvent:u,active:g,activeNodeRect:m,containerNodeRect:x,draggingNodeRect:p.rect,over:y,overlayNodeRect:p.rect,scrollableAncestors:v,scrollableAncestorRects:w,transform:N,windowRect:k}),C=ny(m),S=function(e){let{config:t,draggableNodes:r,droppableContainers:a,measuringConfiguration:n}=e;return aN((e,s)=>{if(null===t)return;let l=r.get(e);if(!l)return;let i=l.node.current;if(!i)return;let d=nD(s);if(!d)return;let{transform:o}=ay(s).getComputedStyle(s),c=aJ(o);if(!c)return;let u="function"==typeof t?t:function(e){let{duration:t,easing:r,sideEffects:a,keyframes:n}={...nQ,...e};return e=>{let{active:s,dragOverlay:l,transform:i,...d}=e;if(!t)return;let o={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},c={scaleX:1!==i.scaleX?s.rect.width*i.scaleX/l.rect.width:1,scaleY:1!==i.scaleY?s.rect.height*i.scaleY/l.rect.height:1},u={x:i.x-o.x,y:i.y-o.y,...c},g=n({...d,active:s,dragOverlay:l,transform:{initial:i,final:u}}),[m]=g,x=g[g.length-1];if(JSON.stringify(m)===JSON.stringify(x))return;let h=null==a?void 0:a({active:s,dragOverlay:l,...d}),f=l.node.animate(g,{duration:t,easing:r,fill:"forwards"});return new Promise(e=>{f.onfinish=()=>{null==h||h(),e()}})}}(t);return nt(i,n.draggable.measure),u({active:{id:e,data:l.data,node:i,rect:n.draggable.measure(i)},draggableNodes:r,dragOverlay:{node:s,rect:n.dragOverlay.measure(d)},droppableContainers:a,measuringConfiguration:n,transform:c})})}({config:n,draggableNodes:h,droppableContainers:f,measuringConfiguration:b}),M=C?p.setRef:void 0;return j.default.createElement(nX,null,j.default.createElement(nV,{animation:S},g&&_?j.default.createElement(nJ,{key:_,id:g.id,ref:M,as:d,activatorEvent:u,adjustScale:r,className:o,transition:l,rect:C,style:{zIndex:c,...s},transform:D},a):null))}),n1=[{id:"todo",title:"할 일",status:"todo"},{id:"inprogress",title:"진행 중",status:"inprogress"},{id:"done",title:"완료",status:"done"}];function n2(e,t,r){let a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function n5(e){return null!==e&&e>=0}let n4=e=>{let{rects:t,activeIndex:r,overIndex:a,index:n}=e,s=n2(t,a,r),l=t[n],i=s[n];return i&&l?{x:i.left-l.left,y:i.top-l.top,scaleX:i.width/l.width,scaleY:i.height/l.height}:null},n3={scaleX:1,scaleY:1},n6=e=>{var t,r,a,n;let s,l,i,{activeIndex:d,activeNodeRect:o,index:c,rects:u,overIndex:g}=e,m=null!=(t=u[d])?t:o;if(!m)return null;if(c===d){let e=u[g];return e?{x:0,y:d<g?e.top+e.height-(m.top+m.height):e.top-m.top,...n3}:null}let x=(r=u,a=c,n=d,s=r[a],l=r[a-1],i=r[a+1],s?n<a?l?s.top-(l.top+l.height):i?i.top-(s.top+s.height):0:i?i.top-(s.top+s.height):l?s.top-(l.top+l.height):0:0);return c>d&&c<=g?{x:0,y:-m.height-x,...n3}:c<d&&c>=g?{x:0,y:m.height+x,...n3}:{x:0,y:0,...n3}},n7="Sortable",n8=j.default.createContext({activeIndex:-1,containerId:n7,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:n4,disabled:{draggable:!1,droppable:!1}});function n9(e){let{children:t,id:r,items:a,strategy:n=n4,disabled:s=!1}=e,{active:l,dragOverlay:i,droppableRects:d,over:o,measureDroppableContainers:c}=nB(),u=aT(n7,r),g=null!==i.rect,m=(0,j.useMemo)(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),x=null!=l,h=l?m.indexOf(l.id):-1,f=o?m.indexOf(o.id):-1,p=(0,j.useRef)(m),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(m,p.current),b=-1!==f&&-1===h||y,v="boolean"==typeof s?{draggable:s,droppable:s}:s;ak(()=>{y&&x&&c(m)},[y,m,x,c]),(0,j.useEffect)(()=>{p.current=m},[m]);let w=(0,j.useMemo)(()=>({activeIndex:h,containerId:u,disabled:v,disableTransforms:b,items:m,overIndex:f,useDragOverlay:g,sortedRects:m.reduce((e,t,r)=>{let a=d.get(t);return a&&(e[r]=a),e},Array(m.length)),strategy:n}),[h,u,v.draggable,v.droppable,b,m,f,d,g,n]);return j.default.createElement(n8.Provider,{value:w},t)}let se=e=>{let{id:t,items:r,activeIndex:a,overIndex:n}=e;return n2(r,a,n).indexOf(t)},st=e=>{let{containerId:t,isSorting:r,wasDragging:a,index:n,items:s,newIndex:l,previousItems:i,previousContainerId:d,transition:o}=e;return!!o&&!!a&&(i===s||n!==l)&&(!!r||l!==n&&t===d)},sr={duration:200,easing:"ease"},sa="transform",sn=aL.Transition.toString({property:sa,duration:0,easing:"linear"}),ss={roleDescription:"sortable"};x.Down,x.Right,x.Up,x.Left;var sl=e.i(73811),sl=sl;let si=({priority:e})=>(0,w.jsx)(A,{type:e}),sd=({userId:e,projectId:t})=>{let[r,a]=(0,j.useState)(null),[n,s]=(0,j.useState)(!0);return((0,j.useEffect)(()=>{(async()=>{if(!t||"undefined"===t||!e||"undefined"===e){a(null),s(!1);return}try{let r=await fetch(`/api/projectMembers/forAssignment?projectId=${t}`);if(!r.ok)throw Error("Failed to fetch user info");let n=await r.json(),s=n.data?.find(t=>t.user_id===e);s&&a({user_id:s.user_id,user_name:s.users.user_name,email:s.users.email,profile_image:s.users.profile_image,role:s.role})}catch{a(null)}finally{s(!1)}})()},[e,t]),n)?(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(rh,{userName:"로딩",profileImage:null,size:24,className:"animate-pulse"}),(0,w.jsx)("span",{className:"text-xs text-gray-400",children:"불러오는 중..."})]}):r?(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(rh,{userName:r.user_name,profileImage:r.profile_image,size:24}),(0,w.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:r.user_name})]}):(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(rh,{userName:"?",profileImage:null,size:24}),(0,w.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-400",children:"담당자 없음"})]})},so=({startedAt:e,endedAt:t,startTime:r,endTime:a,useTime:n,status:s})=>{if(!e&&!t)return null;let l="done"===s,i=e=>{let t,r=new Date,a=new Date(r.getFullYear(),r.getMonth(),r.getDate());if(e.includes("T")){let r=e.split("T")[0].split("-");t=new Date(parseInt(r[0]),parseInt(r[1])-1,parseInt(r[2]))}else{let r=e.split("-");t=new Date(parseInt(r[0]),parseInt(r[1])-1,parseInt(r[2]))}return Math.round((t.getTime()-a.getTime())/864e5)},d=(e,t)=>{let r=new Date;if(n&&t){let a=e.includes("T")?e.split("T")[0]:e,n=new Date(`${a}T${t}`).getTime()-r.getTime(),s=n/6e4;return{isOverdue:n<0,isUrgent:!isNaN(s)&&s>0&&s<=180}}let a=i(e);return{isOverdue:a<0,isUrgent:a>=0&&a<=1}},o=(e,t,r=!1,a=!1)=>{let s=i(e),l="";if(a){let t=new Date(e),r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");l=r===new Date().getFullYear()?`${a}.${n}`:`${r}.${a}.${n}`}else if(r&&s>=-7&&s<=3)l=0===s?n&&t&&d(e,t).isOverdue?"지연됨":"오늘 마감":1===s?"내일 마감":2===s?"모레 마감":-1===s?"어제 (지연)":s<0?`${Math.abs(s)}일 지연`:`D-${s}`;else if(0===s)l="오늘";else if(1===s)l="내일";else if(2===s)l="모레";else if(-1===s)l="어제";else{let t=new Date(e),r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");l=r===new Date().getFullYear()?`${a}.${n}`:`${r}.${a}.${n}`}return n&&t?`${l} ${t}`:l},c=t?d(t,a):null;return(0,w.jsxs)("div",{className:`flex items-center justify-between text-xs ${l?"opacity-60":""}`,children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[e&&(0,w.jsxs)("div",{className:`flex items-center gap-1 ${l?"line-through text-gray-500 dark:text-gray-400":"text-gray-600 dark:text-gray-400"}`,children:[(0,w.jsx)(C.Icon,{type:"calendar",size:14,className:"text-gray-400 dark:text-gray-500"}),(0,w.jsx)("span",{className:"text-xs",children:o(e,r,!1,l)})]}),e&&t&&(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-500 mx-1",children:"→"}),t&&(0,w.jsxs)("div",{className:`flex items-center gap-1 ${l?"line-through text-gray-500 dark:text-gray-400":c?.isOverdue?"text-red-600 dark:text-red-400 font-semibold":c?.isUrgent?"text-orange-600 dark:text-orange-400 font-semibold":"text-gray-600 dark:text-gray-400"}`,children:[(0,w.jsx)(C.Icon,{type:"calendar",size:14,className:l?"text-gray-400 dark:text-gray-500":c?.isOverdue?"text-red-500 dark:text-red-400":c?.isUrgent?"text-orange-500 dark:text-orange-400":"text-gray-400 dark:text-gray-500"}),(0,w.jsx)("span",{className:"text-xs",children:o(t,a,!0,l)})]})]}),!l&&c&&(0,w.jsxs)("div",{className:"flex gap-1 items-center shrink-0 ml-2",children:[c.isOverdue&&(0,w.jsx)(A,{type:"overDue"}),c.isUrgent&&!c.isOverdue&&(0,w.jsx)(A,{type:"dueSoon"})]})]})},sc=({task:e,projectId:t,onClick:r,isOverlay:a=!1})=>{let[n,s]=(0,j.useState)(!1),[l,i]=(0,j.useState)(0),[d,o]=(0,j.useState)(!0),c=(0,j.useRef)(null),u=(0,j.useMemo)(()=>{if(!e.ended_at||"done"===e.status)return!1;let t=new Date;if(e.use_time&&e.end_time){let r=e.ended_at.includes("T")?e.ended_at.split("T")[0]:e.ended_at;return t>new Date(`${r}T${e.end_time}`)}let r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),[a,n,s]=(e.ended_at.includes("T")?e.ended_at.split("T")[0]:e.ended_at).split("-").map(Number);return new Date(a,n-1,s)<r},[e.ended_at,e.end_time,e.use_time,e.status]),g="done"===e.status;(0,j.useEffect)(()=>{let e=setTimeout(()=>o(!1),500);return()=>clearTimeout(e)},[]);let{attributes:m,listeners:x,setNodeRef:h,transform:f,isDragging:p}=function(e){var t,r,a,n;let{animateLayoutChanges:s=st,attributes:l,disabled:i,data:d,getNewIndex:o=se,id:c,strategy:u,resizeObserverConfig:g,transition:m=sr}=e,{items:x,containerId:h,activeIndex:f,disabled:p,disableTransforms:y,sortedRects:b,overIndex:v,useDragOverlay:w,strategy:k}=(0,j.useContext)(n8),N=(t=i,r=p,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(a=null==t?void 0:t.draggable)?a:r.draggable,droppable:null!=(n=null==t?void 0:t.droppable)?n:r.droppable}),_=x.indexOf(c),D=(0,j.useMemo)(()=>({sortable:{containerId:h,index:_,items:x},...d}),[h,d,_,x]),C=(0,j.useMemo)(()=>x.slice(x.indexOf(c)),[x,c]),{rect:S,node:M,isOver:T,setNodeRef:E}=nU({id:c,data:D,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...g}}),{active:O,activatorEvent:P,activeNodeRect:$,attributes:I,setNodeRef:L,listeners:A,isDragging:R,over:z,setActivatorNodeRef:F,transform:H}=function(e){let{id:t,data:r,disabled:a=!1,attributes:n}=e,s=aT("Draggable"),{activators:l,activatorEvent:i,active:d,activeNodeRect:o,ariaDescribedById:c,draggableNodes:u,over:g}=(0,j.useContext)(nP),{role:m=nW,roleDescription:x="draggable",tabIndex:h=0}=null!=n?n:{},f=(null==d?void 0:d.id)===t,p=(0,j.useContext)(f?nz:nH),[y,b]=aC(),[v,w]=aC(),k=(0,j.useMemo)(()=>l.reduce((e,r)=>{let{eventName:a,handler:n}=r;return e[a]=e=>{n(e,t)},e},{}),[l,t]),N=a_(r);return ak(()=>(u.set(t,{id:t,key:s,node:y,activatorNode:v,data:N}),()=>{let e=u.get(t);e&&e.key===s&&u.delete(t)}),[u,t]),{active:d,activatorEvent:i,activeNodeRect:o,attributes:(0,j.useMemo)(()=>({role:m,tabIndex:h,"aria-disabled":a,"aria-pressed":!!f&&m===nW||void 0,"aria-roledescription":x,"aria-describedby":c.draggable}),[a,m,h,f,x,c.draggable]),isDragging:f,listeners:a?void 0:k,node:y,over:g,setNodeRef:b,setActivatorNodeRef:w,transform:p}}({id:c,data:D,attributes:{...ss,...l},disabled:N.draggable}),W=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,j.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(E,L),B=!!O,Y=B&&!y&&n5(f)&&n5(v),U=!w&&R,V=U&&Y?H:null,K=Y?null!=V?V:(null!=u?u:k)({rects:b,activeNodeRect:$,activeIndex:f,overIndex:v,index:_}):null,X=n5(f)&&n5(v)?o({id:c,items:x,activeIndex:f,overIndex:v}):_,q=null==O?void 0:O.id,G=(0,j.useRef)({activeId:q,items:x,newIndex:X,containerId:h}),J=x!==G.current.items,Q=s({active:O,containerId:h,isDragging:R,isSorting:B,id:c,index:_,items:x,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:m,wasDragging:null!=G.current.activeId}),Z=function(e){let{disabled:t,index:r,node:a,rect:n}=e,[s,l]=(0,j.useState)(null),i=(0,j.useRef)(r);return ak(()=>{if(!t&&r!==i.current&&a.current){let e=n.current;if(e){let t=aZ(a.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&l(r)}}r!==i.current&&(i.current=r)},[t,r,a,n]),(0,j.useEffect)(()=>{s&&l(null)},[s]),s}({disabled:!Q,index:_,node:M,rect:S});return(0,j.useEffect)(()=>{B&&G.current.newIndex!==X&&(G.current.newIndex=X),h!==G.current.containerId&&(G.current.containerId=h),x!==G.current.items&&(G.current.items=x)},[B,X,h,x]),(0,j.useEffect)(()=>{if(q===G.current.activeId)return;if(null!=q&&null==G.current.activeId){G.current.activeId=q;return}let e=setTimeout(()=>{G.current.activeId=q},50);return()=>clearTimeout(e)},[q]),{active:O,activeIndex:f,attributes:I,data:D,rect:S,index:_,newIndex:X,items:x,isOver:T,isSorting:B,isDragging:R,listeners:A,node:M,overIndex:v,over:z,setNodeRef:W,setActivatorNodeRef:F,setDroppableNodeRef:E,setDraggableNodeRef:L,transform:null!=Z?Z:K,transition:Z||J&&G.current.newIndex===_?sn:(!U||a$(P))&&m&&(B||Q)?aL.Transition.toString({...m,property:sa}):void 0}}({id:e.id,animateLayoutChanges:()=>!1}),y=(0,j.useMemo)(()=>({transform:f?aL.Transform.toString(f):void 0,transition:p?"none":void 0,opacity:+!p,zIndex:p?999:a?500:1}),[f,p,a]),b=(0,j.useCallback)(e=>{e.stopPropagation(),s(e=>!e)},[]),v=(0,j.useMemo)(()=>!!(e.description||e.assigned_user_id||e.started_at||e.ended_at||e.subtasks&&e.subtasks.length>0||e.memo),[e]);return(0,j.useEffect)(()=>{if(!c.current)return;let e=()=>i(c.current.scrollHeight);e();let t=setTimeout(e,80);return()=>clearTimeout(t)},[e,n]),(0,w.jsxs)("div",{ref:h,style:y,...!a?m:{},...!a?x:{},onClick:r,className:`
        bg-white dark:bg-gray-700
        text-gray-700 dark:text-gray-300
        p-4 rounded-lg shadow-md
        cursor-grab active:cursor-grabbing
        ${g?"border-l-4 border-l-green-500 border border-green-200 dark:border-green-800 opacity-75":u?"border-l-4 border-l-red-500 border border-red-200 dark:border-red-800":"border border-gray-200 dark:border-gray-500"}
        ${p?"":"hover:shadow-lg hover:border-main-300 dark:hover:border-main-400"}
        ${a?"shadow-2xl scale-[1.02] opacity-90":""}
        ${d&&!a?"animate-slide-in-down":""}
        transition-shadow duration-150
      `,children:[(0,w.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-3 pb-2 border-b border-gray-200 dark:border-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-start gap-2 flex-1",children:[g&&(0,w.jsx)("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-green-500 flex items-center justify-center mt-0.5",children:(0,w.jsx)(sl.default,{className:"w-3 h-3 text-white",strokeWidth:3})}),(0,w.jsx)("h3",{className:`font-bold text-lg flex-1 line-clamp-2 ${g?"text-gray-500 dark:text-gray-400 line-through":"text-gray-800 dark:text-gray-100"}`,children:e.title})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[e.priority&&(0,w.jsx)(si,{priority:e.priority}),v&&!a&&(0,w.jsx)("button",{onClick:b,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:(0,w.jsx)("svg",{className:`w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform duration-200 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),!n&&!a&&(e.started_at||e.ended_at)&&(0,w.jsx)("div",{className:"pt-1",children:(0,w.jsx)(so,{startedAt:e.started_at??void 0,endedAt:e.ended_at??void 0,startTime:e.start_time||void 0,endTime:e.end_time||void 0,useTime:e.use_time??!1,status:e.status})}),!a&&(0,w.jsx)("div",{className:"overflow-hidden transition-[max-height,opacity,transform] duration-400 ease-out",style:{maxHeight:n||!v?`${l}px`:"0px",opacity:n||!v?1:0,transform:n?"scale(1)":"scale(0.98)"},children:(0,w.jsxs)("div",{ref:c,className:"space-y-3",children:[e.description&&(0,w.jsx)("p",{className:"text-sm leading-relaxed text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/40 p-3 rounded-lg",children:e.description}),e.assigned_user_id&&(0,w.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800/40 p-3 rounded-lg",children:(0,w.jsx)(sd,{userId:e.assigned_user_id,projectId:t})}),(e.started_at||e.ended_at)&&(0,w.jsx)(so,{startedAt:e.started_at??void 0,endedAt:e.ended_at??void 0,startTime:e.start_time||void 0,endTime:e.end_time||void 0,useTime:e.use_time??!1,status:e.status}),Array.isArray(e.subtasks)&&e.subtasks.length>0&&(0,w.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800/40 p-3 rounded-lg",children:(0,w.jsx)(rg,{subtasks:e.subtasks})}),e.memo&&(0,w.jsx)("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg text-xs text-gray-700 dark:text-yellow-200",children:e.memo})]})})]})},su=({id:e,title:t,tasks:r,projectId:a,onTaskClick:n,isDragging:s=!1})=>{let{setNodeRef:l,isOver:i}=nU({id:e}),d={todo:{bg:"bg-gray-400 dark:bg-gray-600",text:"text-gray-700 dark:text-gray-200",border:"border-gray-300 dark:border-gray-500"},inprogress:{bg:"bg-blue-400 dark:bg-blue-500",text:"text-blue-700 dark:text-blue-200",border:"border-blue-300 dark:border-blue-500"},done:{bg:"bg-green-400 dark:bg-green-600",text:"text-green-700 dark:text-green-300",border:"border-green-300 dark:border-green-500"}}[e],o="done"!==e?r.filter(e=>r0(e)).length:0;return(0,w.jsxs)("div",{className:`
        flex flex-col shrink-0 h-full min-h-0
        w-[calc(100vw-3rem)] min-w-[260px] 
        sm:w-80 sm:min-w-[280px] 
        md:w-[300px] md:min-w-[300px]
        lg:w-80 lg:min-w-[320px] 
        bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-500 shadow-sm
        transition-all duration-200
        ${(()=>{if(i)switch(e){case"todo":return"ring-2 ring-gray-400 dark:ring-gray-500 bg-gray-100 dark:bg-gray-600";case"inprogress":return"ring-2 ring-blue-400 dark:ring-blue-500 bg-blue-50 dark:bg-blue-900/30";case"done":return"ring-2 ring-green-400 dark:ring-green-500 bg-green-50 dark:bg-green-900/30";default:return""}return s?"border-dashed":""})()}
      `,children:[(0,w.jsxs)("div",{className:"flex items-center justify-between px-3 sm:px-4 py-2 sm:py-3 border-b border-gray-200 dark:border-gray-500 rounded-t-lg bg-white dark:bg-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:`w-2.5 sm:w-3 h-2.5 sm:h-3 rounded-full ${d.bg}`}),(0,w.jsx)("h3",{className:`font-semibold text-sm sm:text-base ${d.text}`,children:t})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[o>0&&(0,w.jsx)("span",{className:"flex items-center justify-center w-5 h-5 bg-red-500 text-white rounded-full text-xs font-bold",title:`지연된 작업 ${o}개`,children:o}),(0,w.jsx)("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full text-xs font-medium text-gray-700 dark:text-gray-200",children:r.length})]})]}),i&&(0,w.jsx)("div",{className:`
          mx-3 mt-3 px-3 py-2 rounded-lg text-center text-sm font-medium
          ${"todo"===e?"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200":""}
          ${"inprogress"===e?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":""}
          ${"done"===e?"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300":""}
        `,children:"여기에 놓기"}),(0,w.jsx)(n9,{items:r.map(e=>e.id),strategy:n6,children:(0,w.jsx)("div",{ref:l,className:`
            p-2 sm:p-3 flex flex-col gap-2 sm:gap-3 overflow-y-auto flex-1 transition-all duration-200
            ${i?"min-h-[100px]":""}
          `,children:r.length>0?r.map(e=>(0,w.jsx)(sc,{task:e,projectId:a,onClick:()=>n(e)},e.id)):!i&&(0,w.jsx)(rf,{icon:"clipboard",title:"작업이 없어요",variant:"minimal",className:"py-10"})})})]})},sg=({projectId:e})=>(0,w.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400 p-8",children:[(0,w.jsx)(C.Icon,{type:"document",size:48,className:"mb-4 opacity-50"}),(0,w.jsx)("p",{className:"text-lg font-medium mb-2",children:"메모 기능"}),(0,w.jsx)("p",{className:"text-sm text-center",children:"메모 기능은 추후 업데이트 예정입니다."})]}),sm=(0,j.createContext)(void 0);function sx({children:e,projectId:t,initialShowMemoPanel:r=!1}){let[a,n]=(0,j.useState)(r);return(0,w.jsx)(sm.Provider,{value:{showMemoPanel:a,toggleMemoPanel:e=>{n(t=>void 0!==e?e:!t)}},children:(0,w.jsxs)("div",{className:"flex h-full w-full overflow-hidden gap-2 md:gap-4",children:[(0,w.jsx)("main",{className:`
            h-full flex flex-col transition-all duration-300 min-w-0
            ${a?"flex-1 lg:flex-[0.65] xl:flex-[0.7]":"flex-1"}
          `,children:e}),(0,w.jsx)("aside",{className:`
            h-full transition-all duration-300 overflow-hidden
            ${a?"w-[280px] sm:w-[320px] md:w-[360px] lg:flex-[0.35] xl:flex-[0.3] min-w-[280px] max-w-[400px] lg:max-w-none opacity-100":"w-0 opacity-0"}
          `,children:a&&(0,w.jsx)(sg,{projectId:t})})]})})}function sh({projectName:e,onAddClick:t,onToggleFilter:r,onToggleHelp:a,showHelp:n,tasksCount:s,project:l,onProjectInfoClick:i}){let d=(()=>{let e,t,r;if(!l?.started_at||!l?.ended_at)return null;let a=new Date(l.started_at),n=new Date(l.ended_at),s=new Date;s.setHours(0,0,0,0);let i=a.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),d=n.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),o=Math.ceil((n.getTime()-s.getTime())/864e5),c=Math.ceil((a.getTime()-s.getTime())/864e5);return s<a?(e="before",t=`시작 D-${c}`,r="bg-blue-500 text-white"):s>n?(e="ended",t="종료",r="bg-red-500 text-white"):o<=3?(e="warning",t=`D-${o} ⚠️`,r="bg-orange-500 text-white"):(e="active",t=`D-${o}`,r="bg-white/20 text-white"),{startStr:i,endStr:d,remainingDays:o,status:e,badgeText:t,badgeColor:r}})();return(0,w.jsx)("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-b border-gray-200 dark:border-gray-500 bg-main-200 dark:bg-main-600 shadow-sm",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-white dark:text-gray-100",children:e}),(0,w.jsx)("button",{onClick:i,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",title:"프로젝트 정보",children:(0,w.jsx)("svg",{className:"w-5 h-5 text-white/80 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),d&&(0,w.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/80 dark:text-gray-200",children:[(0,w.jsx)("span",{children:"|"}),(0,w.jsxs)("span",{children:[d.startStr," ~ ",d.endStr]}),(0,w.jsx)("span",{className:`px-2 py-0.5 rounded-full font-medium ${d.badgeColor}`,children:d.badgeText})]}),d?.status==="ended"&&(0,w.jsxs)("div",{className:"flex items-center gap-1.5 text-xs bg-sky-100 dark:bg-sky-900/50 text-sky-700 dark:text-sky-200 px-2.5 py-1 rounded-md border border-sky-300 dark:border-sky-700",children:[(0,w.jsx)("svg",{className:"w-4 h-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,w.jsx)("span",{className:"font-medium",children:"이 프로젝트는 종료되었습니다. 일정 추가/수정이 제한됩니다."})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,w.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:(0,w.jsx)("div",{className:"px-2 py-1 bg-white/20 rounded-full text-xs text-white font-medium",children:"칸반보드"})}),(0,w.jsxs)("div",{className:"text-sm font-medium text-white/90 dark:text-gray-200 text-right",children:[(0,w.jsxs)("div",{children:[s,"개 작업"]}),(0,w.jsx)("div",{className:"text-xs text-white/70 dark:text-gray-300",children:(0,N.format)(new Date,"M월 d일 (E)",{locale:rA})})]}),(0,w.jsxs)("button",{onClick:()=>{if(l?.ended_at){let e=new Date().toISOString().split("T")[0];if(e<l.started_at)return void(0,rj.showToast)("아직 프로젝트가 시작되지 않았습니다.","warning");if(e>l.ended_at)return void(0,rj.showToast)("종료된 프로젝트입니다.","warning")}t()},className:"px-3 sm:px-4 py-2 bg-main-400 dark:bg-main-500 text-white rounded-lg hover:bg-main-500 dark:hover:bg-main-400 active:bg-main-600 dark:active:bg-main-600 transition-all text-xs sm:text-sm font-medium shadow-sm",children:[(0,w.jsx)("span",{className:"hidden sm:inline",children:"+ 새 작업"}),(0,w.jsx)("span",{className:"sm:hidden",children:"+"})]}),(0,w.jsx)("button",{onClick:r,className:"p-1.5 sm:p-2 hover:bg-white/20 rounded-lg transition-colors",title:"필터",children:(0,w.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})})}),(0,w.jsx)("button",{onClick:a,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:n?"도움말 닫기":"도움말 열기",children:(0,w.jsx)("svg",{className:`w-4 h-4 text-white transition-transform duration-300 ${n?"scale-110":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})})}function sf(){return(0,w.jsx)("div",{className:"mx-2 sm:mx-4 mt-2 sm:mt-4 mb-2 sm:mb-4 px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,w.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,w.jsx)("svg",{className:"w-4 h-4 text-main-500 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,w.jsx)("span",{className:"font-medium text-xs",children:"드래그로 상태 변경"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[(0,w.jsx)("span",{children:"•"}),(0,w.jsx)("span",{children:"필터로 작업 검색"})]}),(0,w.jsx)("div",{className:"hidden sm:block h-4 w-px bg-gray-300 dark:bg-gray-600"}),(0,w.jsx)("div",{className:"hidden sm:flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:(0,w.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-[10px] font-mono",children:"ESC"}),(0,w.jsx)("span",{children:"닫기"})]})}),(0,w.jsxs)("div",{className:"ml-auto flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded"}),(0,w.jsx)("span",{children:"할일"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,w.jsx)("span",{children:"진행중"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,w.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,w.jsx)("span",{children:"완료"})]})]})]})})}function sp({tasks:e=[],compact:t=!1}){let r=(0,j.useMemo)(()=>{let t=new Date,r=(0,N.format)(t,"yyyy-MM-dd"),a=(0,N.format)((0,rH.addDays)(t,3),"yyyy-MM-dd");return{todo:e.filter(e=>"todo"===e.status).length,inprogress:e.filter(e=>"inprogress"===e.status).length,done:e.filter(e=>"done"===e.status).length,overdue:e.filter(e=>{if("done"===e.status||!e.ended_at)return!1;let a=e.ended_at.split("T")[0];if(a<r)return!0;if(a===r&&e.use_time&&e.end_time){let[r,a]=e.end_time.split(":").map(Number),n=new Date;return n.setHours(r,a,0,0),t>n}return!1}).length,urgent:e.filter(e=>{if("done"===e.status||!e.ended_at||e.ended_at.split("T")[0]!==r)return!1;if(e.use_time&&e.end_time){let[r,a]=e.end_time.split(":").map(Number),n=new Date;return n.setHours(r,a,0,0),t<=n}return!0}).length,upcoming:e.filter(e=>{if("done"===e.status||!e.ended_at)return!1;let t=e.ended_at.split("T")[0];return t>r&&t<=a}).length}},[e]),a=r.todo+r.inprogress+r.done,n=a>0?Math.round(r.done/a*100):0;return t?(0,w.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:r.todo})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:r.inprogress})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:r.done})]}),r.overdue>0&&(0,w.jsxs)("span",{className:"flex items-center gap-1 text-red-500",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,w.jsx)("span",{children:r.overdue})]}),r.urgent>0&&(0,w.jsxs)("span",{className:"flex items-center gap-1 text-orange-500",children:[(0,w.jsx)(rW,{size:10}),(0,w.jsx)("span",{children:r.urgent})]}),(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,w.jsx)("span",{className:"w-1 h-3 bg-red-500 rounded-sm",title:"지연"}),(0,w.jsx)("span",{className:"w-1 h-3 bg-green-500 rounded-sm",title:"완료"}),(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,w.jsx)("span",{className:"text-red-500",children:"▲"}),(0,w.jsx)("span",{className:"text-yellow-500",children:"▲"}),(0,w.jsx)("span",{className:"text-green-500",children:"▲"})]}),(0,w.jsxs)("div",{className:"ml-auto text-xs font-medium text-gray-700 dark:text-gray-300",children:[n,"%"]})]}):(0,w.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[(0,w.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6 text-sm flex-wrap",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"w-3 h-3 rounded-full bg-gray-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"할일"}),(0,w.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:r.todo})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"w-3 h-3 rounded-full bg-blue-400"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"진행중"}),(0,w.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:r.inprogress})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"}),(0,w.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:r.done})]}),(r.urgent>0||r.upcoming>0||r.overdue>0)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),r.urgent>0&&(0,w.jsxs)("div",{className:"flex items-center gap-1 text-orange-500",children:[(0,w.jsx)(rW,{size:14}),(0,w.jsxs)("span",{className:"text-xs font-medium",children:["오늘 ",r.urgent]})]}),r.upcoming>0&&(0,w.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-500",children:[(0,w.jsx)(B,{size:14}),(0,w.jsxs)("span",{className:"text-xs font-medium",children:["D-3 이내 ",r.upcoming]})]}),r.overdue>0&&(0,w.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,w.jsx)("span",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,w.jsx)("span",{children:"지연"}),(0,w.jsx)("span",{className:"font-semibold",children:r.overdue})]})]}),(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1",title:"지연된 태스크",children:[(0,w.jsx)("span",{className:"w-1 h-4 bg-red-500 rounded-sm"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"지연"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",title:"완료된 태스크",children:[(0,w.jsx)("span",{className:"w-1 h-4 bg-green-500 rounded-sm"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"})]})]}),(0,w.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-red-500",children:"▲"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"높음"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-yellow-500",children:"▲"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"보통"})]}),(0,w.jsxs)("span",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"text-green-500",children:"▲"}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"낮음"})]})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsx)("div",{className:"hidden sm:block w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,w.jsx)("div",{className:"h-full bg-main-500 transition-all duration-300",style:{width:`${n}%`}})}),(0,w.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n,"% 완료"]})]})]})}function sy({filter:e,onFilterChange:t,showFilter:r,taskCount:a,totalCount:n}){return r?(0,w.jsx)("div",{className:"mt-4 mb-4 px-5 py-4 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,w.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"우선순위"}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{onClick:()=>t("priority","all"),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===e.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,w.jsx)("button",{onClick:()=>t("priority","high"),className:`text-sm px-3 py-1.5 rounded transition-all ${"high"===e.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"높음"}),(0,w.jsx)("button",{onClick:()=>t("priority","normal"),className:`text-sm px-3 py-1.5 rounded transition-all ${"normal"===e.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"보통"}),(0,w.jsx)("button",{onClick:()=>t("priority","low"),className:`text-sm px-3 py-1.5 rounded transition-all ${"low"===e.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"낮음"})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"담당자"}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{onClick:()=>t("assignee","all"),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===e.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,w.jsx)("button",{onClick:()=>t("assignee","me"),className:`text-sm px-3 py-1.5 rounded transition-all ${"me"===e.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"내 작업"}),(0,w.jsx)("button",{onClick:()=>t("assignee","assigned"),className:`text-sm px-3 py-1.5 rounded transition-all ${"assigned"===e.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"할당됨"}),(0,w.jsx)("button",{onClick:()=>t("assignee","unassigned"),className:`text-sm px-3 py-1.5 rounded transition-all ${"unassigned"===e.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"미할당"})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"기간"}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{onClick:()=>t("date","all"),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===e.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,w.jsx)("button",{onClick:()=>t("date","today"),className:`text-sm px-3 py-1.5 rounded transition-all ${"today"===e.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"오늘"}),(0,w.jsx)("button",{onClick:()=>t("date","thisWeek"),className:`text-sm px-3 py-1.5 rounded transition-all ${"thisWeek"===e.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"이번주"}),(0,w.jsx)("button",{onClick:()=>t("date","overdue"),className:`text-sm px-3 py-1.5 rounded transition-all ${"overdue"===e.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"지연"})]})]}),(0,w.jsx)("div",{className:"pt-3 mt-1 border-t border-gray-200 dark:border-gray-600",children:(0,w.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a,"개 / 전체 ",n,"개"]})})]})}):null}function sb({groupedTasks:e,projectId:t,onTaskClick:r,isDragging:a}){return(0,w.jsx)("div",{className:"flex-1 min-h-0 flex flex-col px-2 sm:px-4 py-2 sm:py-3",children:(0,w.jsx)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:(0,w.jsx)("div",{className:"flex-1 min-h-0 overflow-x-auto overflow-y-auto",children:(0,w.jsx)("div",{className:"flex gap-2 sm:gap-3 md:gap-4 h-full justify-start sm:justify-center min-w-fit p-2 sm:p-3 md:p-4",children:n1.map(n=>(0,w.jsx)(su,{id:n.id,title:n.title,tasks:e[n.id]||[],projectId:t,onTaskClick:r,isDragging:a},n.id))})})})})}let sv=({tasks:e=[],boardId:t,project:r,onCreateTask:a,onUpdateTask:n,onDeleteTask:s,onSelectTask:l,onTaskCreated:i,onProjectInfoClick:d})=>{var o;let c=r?.project_id||"",u=r?.project_name||"이름 없는 프로젝트",g=r?.started_at,m=r?.ended_at;console.log("KanbanBoard - Project Info:",{project:r,projectName:u,projectStartedAt:g,projectEndedAt:m,boardId:t,projectId:c});let[x,h]=(0,j.useState)(null),[f,p]=(0,j.useState)(!1),[y,b]=(0,j.useState)(null),[v,k]=(0,j.useState)(!1),[_,D]=(0,j.useState)(!1),[C,S]=(0,j.useState)({priority:"all",assignee:"all",date:"all"});!function({showTaskAddModal:e,showTaskDetailModal:t,setShowTaskAddModal:r,setShowTaskDetailModal:a,setSelectedTask:n}){(0,j.useEffect)(()=>{let s=s=>{if("Escape"===s.key){e&&r(!1),t&&(a(!1),n(null));return}if(!e&&!t&&document.activeElement?.tagName!=="INPUT"&&document.activeElement?.tagName!=="TEXTAREA"&&"KeyN"===s.code&&(s.ctrlKey||s.metaKey)&&!s.shiftKey&&!s.altKey){s.preventDefault(),r(!0);return}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,t,r,a,n])}({showTaskAddModal:f,showTaskDetailModal:!!x,setShowTaskAddModal:p,setShowTaskDetailModal:e=>{e||h(null)},setSelectedTask:()=>h(null)});let M=(0,j.useCallback)(e=>{if(!g||!m)return!1;let t=(0,N.format)(e,"yyyy-MM-dd");return t<g||t>m},[g,m]),T=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,j.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}((o={activationConstraint:{distance:8}},(0,j.useMemo)(()=>({sensor:nh,options:null!=o?o:{}}),[nh,o]))),E=(0,j.useMemo)(()=>e.filter(e=>{if("all"!==C.priority&&e.priority!==C.priority||"all"!==C.assignee&&("assigned"===C.assignee&&!e.assigned_user_id||"unassigned"===C.assignee&&e.assigned_user_id))return!1;if("all"!==C.date){let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());if("today"===C.date){if(!e.ended_at)return!1;let t=new Date(e.ended_at.includes("T")?e.ended_at:e.ended_at+"T00:00:00");if(new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()!==r.getTime())return!1}else if("thisWeek"===C.date){if(!e.ended_at)return!1;let t=new Date(r);t.setDate(r.getDate()-r.getDay());let a=new Date(t);a.setDate(t.getDate()+6);let n=new Date(e.ended_at.includes("T")?e.ended_at:e.ended_at+"T00:00:00"),s=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(s<t||s>a)return!1}else if("overdue"===C.date){if(!e.ended_at||"done"===e.status)return!1;let t=new Date(e.ended_at.includes("T")?e.ended_at:e.ended_at+"T00:00:00");if(new Date(t.getFullYear(),t.getMonth(),t.getDate())>=r)return!1}}return!0}),[e,C]),P=n1.reduce((e,t)=>{let r=E.filter(e=>e.status===t.id);return e[t.id]=r,e},{}),$=(0,j.useCallback)(t=>{let r=t.active.id;b(e.find(e=>e.id===r)||null)},[e]),I=(0,j.useCallback)(t=>{let r,{active:a,over:s}=t;if(!s)return void b(null);if(M(new Date)){(0,rj.showToast)(m&&new Date().toISOString().split("T")[0]>m?"종료된 프로젝트입니다.":"아직 시작되지 않은 프로젝트입니다.","warning"),b(null);return}let l=a.id;if(n1.some(e=>e.id===s.id))r=s.id;else{let t=e.find(e=>e.id===s.id);if(!t)return void b(null);r=t.status}let i=e.find(e=>e.id===l);i&&i.status!==r&&n?.(i.id,{status:r}),b(null)},[e,n,m,M]),L=(0,j.useCallback)(()=>{b(null)},[]),A=(0,j.useCallback)(e=>{a?.(e),i?.(),p(!1)},[a,i,p]);return(0,w.jsxs)(sx,{projectId:c,children:[(0,w.jsxs)("div",{className:"h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[(0,w.jsx)(sh,{projectName:u,onAddClick:()=>p(!0),onToggleFilter:()=>k(!v),onToggleHelp:()=>D(!_),showHelp:_,tasksCount:e.length,project:r,onProjectInfoClick:d}),_&&(0,w.jsx)(sf,{}),v&&(0,w.jsx)("div",{className:"px-2 sm:px-4",children:(0,w.jsx)(sy,{filter:C,onFilterChange:(e,t)=>{S(r=>({...r,[e]:t}))},showFilter:v,taskCount:E.length,totalCount:e.length})}),(0,w.jsxs)(nF,{sensors:T,onDragStart:$,onDragEnd:I,onDragCancel:L,modifiers:[],children:[(0,w.jsx)(sb,{groupedTasks:P,projectId:c,onTaskClick:e=>{h(e),l?.(e)},isDragging:!!y}),(0,w.jsx)(n0,{dropAnimation:null,children:y&&(0,w.jsx)("div",{className:"transform-none opacity-90",children:(0,w.jsx)(sc,{task:y,projectId:c,onClick:()=>{},isOverlay:!0})})})]}),(0,w.jsx)("div",{className:"sm:hidden",children:(0,w.jsx)(sp,{tasks:e,compact:!0})}),(0,w.jsx)("div",{className:"hidden sm:block",children:(0,w.jsx)(sp,{tasks:e})})]}),x&&(0,w.jsx)(O,{isOpen:!0,onClose:()=>h(null),children:(0,w.jsx)(rN,{task:{...x,project_id:x.project_id||c},projectStartedAt:g,projectEndedAt:m,onUpdate:(e,t)=>{n?.(e,t),x?.id===e&&h({...x,...t})},onDelete:e=>{s?.(e),x?.id===e&&h(null)},onClose:()=>h(null)})}),f&&(0,w.jsx)(O,{isOpen:!0,onClose:()=>p(!1),children:(0,w.jsx)(rw,{boardId:t,projectId:c,projectStartedAt:g,projectEndedAt:m,onSuccess:A,onCancel:()=>p(!1)})})]})},sw=({activeView:e,onViewChange:t})=>{let r=[{id:"calendar",label:"캘린더",icon:(0,w.jsx)("svg",{className:"w-5 h-5 rounded",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{id:"kanban",label:"칸반보드",icon:(0,w.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})})},{id:"memo",label:"메모",icon:(0,w.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}];return(0,w.jsx)("div",{className:"border-t bg-white dark:bg-gray-900 shadow-lg h-16",children:(0,w.jsx)("div",{className:"flex justify-center h-full items-center",children:r.map(r=>{let a=e===r.id;return(0,w.jsxs)("button",{onClick:()=>t(r.id),className:`
                relative flex flex-col items-center gap-1 px-8 py-2
                transition-colors duration-200
                ${a?"text-main-200 hover:text-main-200/50 dark:text-main-400 dark:hover:text-main-300":"text-main-400 hover:text-main-400/50 dark:text-gray-400 dark:hover:text-gray-200"}
              `,children:[r.icon,(0,w.jsx)("span",{className:`text-xs ${a?"font-semibold":"font-medium"}`,children:r.label}),a&&(0,w.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-main-200 dark:bg-main-400"})]},r.id)})})})};e.i(18235);var sj=e.i(13771),sk=e.i(20298),sN=e.i(80905),s_=e.i(22899),sD=e.i(90697);function sC(e,t,r){let[a,n]=(0,s_.normalizeDates)(r?.in,e,t),s=sS(a,n),l=Math.abs((0,sD.differenceInCalendarDays)(a,n));a.setDate(a.getDate()-s*l);let i=Number(sS(a,n)===-s),d=s*(l-i);return 0===d?0:d}function sS(e,t){let r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}var sM=e.i(18837),sM=sM;let sT=(0,W.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),sE=(0,W.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),sO=(0,W.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),sP=(0,W.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),s$=(0,W.default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),sI=(0,W.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),sL=(0,W.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);function sA({projectId:e,projectName:t,projectDescription:r,projectStartDate:a,projectEndDate:n,tasks:s,onClose:l}){let[i,d]=(0,j.useState)([]),[o,c]=(0,j.useState)(!0);(0,j.useEffect)(()=>{(async()=>{if(e){c(!0);try{let t=await fetch(`/api/projectMembers/forAssignment?projectId=${e}`);if(t.ok){let e=await t.json();d(e.data||[])}}catch(e){console.error("팀원 조회 실패:",e)}finally{c(!1)}}})()},[e]);let u=(0,j.useMemo)(()=>{let e;if(!a||!n)return null;let t=new Date(a),r=new Date(n),s=new Date;s.setHours(0,0,0,0);let l=sC(r,t)+1,i=sC(s,t)+1,d=sC(r,s),o=Math.round(i/l*100);return o=Math.max(0,Math.min(100,o)),e=s<t?"before":s>r?"ended":d<=3?"warning":"active",{totalDays:l,elapsedDays:Math.max(0,i),remainingDays:d,progressPercent:o,status:e,startStr:(0,N.format)(t,"M월 d일",{locale:rA}),endStr:(0,N.format)(r,"M월 d일",{locale:rA})}},[a,n]),g=(0,j.useMemo)(()=>{let e=new Date,t=(0,N.format)(e,"yyyy-MM-dd"),r=(0,N.format)((0,rH.addDays)(e,3),"yyyy-MM-dd"),a=s.filter(e=>"todo"===e.status).length,n=s.filter(e=>"inprogress"===e.status).length,l=s.filter(e=>"done"===e.status).length,i=s.length,d=s.filter(r=>{if("done"===r.status||!r.ended_at)return!1;let a=r.ended_at.split("T")[0];if(a<t)return!0;if(a===t&&r.use_time&&r.end_time){let[t,a]=r.end_time.split(":").map(Number),n=new Date;return n.setHours(t,a,0,0),e>n}return!1}).length,o=s.filter(e=>"done"!==e.status&&!!e.ended_at&&e.ended_at.split("T")[0]===t).length,c=s.filter(e=>{if("done"===e.status||!e.ended_at)return!1;let a=e.ended_at.split("T")[0];return a>t&&a<=r}).length,u=i>0?Math.round(l/i*100):0;return{todo:a,inprogress:n,done:l,total:i,overdue:d,todayDue:o,upcoming:c,completionRate:u}},[s]);return(0,w.jsxs)("div",{className:"h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[(0,w.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-500 bg-main-200 dark:bg-main-600 flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(sI,{size:18,className:"text-white"}),(0,w.jsx)("h3",{className:"font-semibold text-white",children:"프로젝트 정보"})]}),(0,w.jsx)("button",{onClick:l,className:"p-1 hover:bg-white/20 rounded transition-colors",children:(0,w.jsx)(sM.default,{size:18,className:"text-white"})})]}),(0,w.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-5",children:[(0,w.jsxs)("section",{children:[(0,w.jsx)("h4",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-1",children:t}),r&&(0,w.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r})]}),u&&(0,w.jsxs)("section",{className:"space-y-3",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,w.jsx)(sT,{size:16}),(0,w.jsx)("span",{children:"프로젝트 기간"})]}),(0,w.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-3 space-y-3",children:[(0,w.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:u.startStr}),(0,w.jsxs)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:["before"===u.status&&(0,w.jsxs)("span",{className:"text-blue-500",children:["시작까지 D-",Math.abs(u.elapsedDays)]}),"active"===u.status&&(0,w.jsxs)("span",{className:"text-main-500",children:["D-",u.remainingDays]}),"warning"===u.status&&(0,w.jsxs)("span",{className:"text-orange-500",children:["⚠️ D-",u.remainingDays]}),"ended"===u.status&&(0,w.jsx)("span",{className:"text-red-500",children:"종료됨"})]}),(0,w.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:u.endStr})]}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,w.jsx)("div",{className:`h-full transition-all duration-300 ${"ended"===u.status?"bg-red-500":"warning"===u.status?"bg-orange-500":"bg-main-500"}`,style:{width:`${u.progressPercent}%`}})}),"before"!==u.status&&"ended"!==u.status&&(0,w.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white border-2 border-main-500 rounded-full shadow",style:{left:`${u.progressPercent}%`,marginLeft:"-6px"}})]}),(0,w.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,w.jsxs)("span",{children:["총 ",u.totalDays,"일"]}),(0,w.jsxs)("span",{children:[u.progressPercent,"% 경과"]})]})]})]}),(0,w.jsxs)("section",{className:"space-y-3",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,w.jsx)(sO,{size:16}),(0,w.jsx)("span",{children:"작업 현황"})]}),(0,w.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-3 space-y-3",children:[(0,w.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,w.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2",children:[(0,w.jsxs)("div",{className:"flex items-center justify-center gap-1 text-gray-500 dark:text-gray-400 text-xs mb-1",children:[(0,w.jsx)(sP,{size:10}),"할일"]}),(0,w.jsx)("div",{className:"text-lg font-bold text-gray-700 dark:text-gray-200",children:g.todo})]}),(0,w.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2",children:[(0,w.jsxs)("div",{className:"flex items-center justify-center gap-1 text-blue-500 text-xs mb-1",children:[(0,w.jsx)(s$,{size:10}),"진행중"]}),(0,w.jsx)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:g.inprogress})]}),(0,w.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2",children:[(0,w.jsxs)("div",{className:"flex items-center justify-center gap-1 text-green-500 text-xs mb-1",children:[(0,w.jsx)(sO,{size:10}),"완료"]}),(0,w.jsx)("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:g.done})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1",children:[(0,w.jsx)("span",{children:"완료율"}),(0,w.jsxs)("span",{className:"font-medium",children:[g.completionRate,"%"]})]}),(0,w.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,w.jsx)("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${g.completionRate}%`}})})]})]})]}),(g.overdue>0||g.todayDue>0||g.upcoming>0)&&(0,w.jsxs)("section",{className:"space-y-3",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,w.jsx)(rW,{size:16}),(0,w.jsx)("span",{children:"주의 사항"})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[g.overdue>0&&(0,w.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:[(0,w.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,w.jsx)("span",{children:"지연된 작업"}),(0,w.jsxs)("span",{className:"ml-auto font-bold",children:[g.overdue,"개"]})]}),g.todayDue>0&&(0,w.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded-lg text-sm",children:[(0,w.jsx)(rW,{size:14}),(0,w.jsx)("span",{children:"오늘 마감"}),(0,w.jsxs)("span",{className:"ml-auto font-bold",children:[g.todayDue,"개"]})]}),g.upcoming>0&&(0,w.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-500 rounded-lg text-sm",children:[(0,w.jsx)(B,{size:14}),(0,w.jsx)("span",{children:"D-3 이내"}),(0,w.jsxs)("span",{className:"ml-auto font-bold",children:[g.upcoming,"개"]})]})]})]}),(0,w.jsxs)("section",{className:"space-y-3",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,w.jsx)(sE,{size:16}),(0,w.jsx)("span",{children:"팀원"}),(0,w.jsxs)("span",{className:"text-gray-400 dark:text-gray-500",children:["(",i.length,"명)"]})]}),(0,w.jsx)("div",{className:"space-y-2",children:o?(0,w.jsx)("div",{className:"text-sm text-gray-400 dark:text-gray-500 py-2",children:"로딩 중..."}):i.length>0?i.map(e=>(0,w.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,w.jsx)("div",{className:"w-8 h-8 rounded-full bg-main-100 dark:bg-main-900/50 flex items-center justify-center text-main-600 dark:text-main-400 font-medium text-sm",children:e.users.user_name?.charAt(0)||"?"}),(0,w.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,w.jsxs)("div",{className:"flex items-center gap-1",children:[(0,w.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:e.users.user_name}),"leader"===e.role&&(0,w.jsx)(sL,{size:12,className:"text-yellow-500"})]}),(0,w.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.users.email})]})]},e.user_id)):(0,w.jsx)("div",{className:"text-sm text-gray-400 dark:text-gray-500 py-2",children:"팀원이 없습니다"})})]})]})]})}function sR(){let e=(0,k.useRouter)(),[t,r]=(0,j.useState)(""),[a,n]=(0,j.useState)(""),[s,l]=(0,j.useState)(""),[i,d]=(0,j.useState)(""),[o,c]=(0,j.useState)(""),[u,g]=(0,j.useState)([]),[m,x]=(0,j.useState)("kanban"),[h,f]=(0,j.useState)(!1),[p,y]=(0,j.useState)(!1),[b,v]=(0,j.useState)(!0);(0,j.useEffect)(()=>{let t=sessionStorage.getItem("current_Project_Id");if(!t){(0,rj.showToast)("프로젝트를 먼저 선택해주세요","error"),e.push("/");return}r(t)},[e]),(0,j.useEffect)(()=>{t&&(()=>{try{if(!t||"undefined"===t||"null"===t){console.warn("⚠️ Invalid projectId:",t),v(!1);return}let e=(0,sj.getProjectById)(t);e?(n(e.project_name||"이름 없는 프로젝트"),l(e.started_at||""),d(e.ended_at||"")):(n("알 수 없는 프로젝트"),l(""),d(""));let r=(0,sk.getBoardsByProjectId)(t),a=r[0]?.id;a||(console.log("⚠️ 칸반보드가 없어서 새로 생성합니다."),a=(0,sk.createBoard)({name:"기본 보드",project_id:t,columns:"todo,inprogress,done"}).id),c(a);let s=(0,sN.getTasksByBoardId)(a);g(s)}catch(e){console.error("데이터 로딩 중 오류:",e)}finally{v(!1)}})()},[t]);let N=e=>{let t=(0,sN.createTask)(e);g(e=>[...e,t]),(0,rj.showToast)("작업이 생성되었습니다.","success")},_=(e,t)=>{(0,sN.updateTask)(e,t)&&g(r=>r.map(r=>r.id===e?{...r,...t}:r))},D=e=>{(0,sN.deleteTask)(e)&&(g(t=>t.filter(t=>t.id!==e)),(0,rj.showToast)("작업이 삭제되었습니다.","success"))};return b?(0,w.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,w.jsx)("p",{className:"text-gray-400 dark:text-gray-500 text-lg",children:"불러오는 중..."})}):(0,w.jsxs)("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 pt-14",children:[(0,w.jsxs)("div",{className:"flex-1 flex overflow-hidden gap-2 lg:gap-3 min-h-0 p-3 sm:p-4 lg:p-5 max-w-[1600px] mx-auto w-full",children:[(0,w.jsx)("aside",{className:`flex flex-col transition-all duration-300 overflow-hidden min-h-0 shrink-0 ${p?`w-[240px] lg:w-[280px] ${h?"xl:w-[260px]":"xl:w-[300px]"} opacity-100`:"w-0 opacity-0"}`,children:(0,w.jsx)(sA,{projectId:t,projectName:a,projectStartDate:s,projectEndDate:i,tasks:u,onClose:()=>y(!1)})}),(0,w.jsx)("main",{className:"flex flex-col overflow-hidden transition-all duration-300 min-h-0 flex-1 min-w-0",children:(0,w.jsxs)("div",{className:"flex-1 overflow-hidden min-h-0",children:["kanban"===m&&(0,w.jsx)(sv,{boardId:o,tasks:u,onCreateTask:N,onUpdateTask:_,onDeleteTask:D,onProjectInfoClick:()=>y(e=>!e),project:{project_id:t,project_name:a,started_at:s,ended_at:i}}),"calendar"===m&&(0,w.jsx)(ax,{tasks:u,boardId:o,project:{project_id:t,project_name:a,started_at:s,ended_at:i},onCreateTask:N,onUpdateTask:_,onDeleteTask:D,onSelectTask:()=>{},onTaskCreated:()=>{o&&g((0,sN.getTasksByBoardId)(o))},onProjectInfoClick:()=>y(e=>!e)})]})}),(0,w.jsx)("aside",{className:`flex flex-col transition-all duration-300 overflow-hidden min-h-0 shrink-0 ${h?`w-[240px] lg:w-[280px] ${p?"xl:w-[260px]":"xl:w-[300px]"} opacity-100`:"w-0 opacity-0"}`,children:(0,w.jsx)(sg,{projectId:t})})]}),(0,w.jsx)("div",{className:"shrink-0",children:(0,w.jsx)(sw,{activeView:h?"memo":m,onViewChange:e=>{"memo"===e?f(e=>!e):"project"===e?(sessionStorage.removeItem("current_Project_Id"),window.location.href="/"):(x(e),f(!1))}})})]})}e.s(["default",()=>sR],3233)}]);