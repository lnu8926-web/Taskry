module.exports=[51101,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},4897,(a,b,c)=>{"use strict";function d({widthInt:a,heightInt:b,blurWidth:c,blurHeight:d,blurDataURL:e,objectFit:f}){let g=c?40*c:a,h=d?40*d:b,i=g&&h?`viewBox='0 0 ${g} ${h}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${i}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${i?"none":"contain"===f?"xMidYMid":"cover"===f?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${e}'/%3E%3C/svg%3E`}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getImageBlurSvg",{enumerable:!0,get:function(){return d}})},75976,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={VALID_LOADERS:function(){return f},imageConfigDefault:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=["default","imgix","cloudinary","akamai","custom"],g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},10974,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getImgProps",{enumerable:!0,get:function(){return i}}),a.r(89980);let d=a.r(4897),e=a.r(75976),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i({src:a,sizes:b,unoptimized:c=!1,priority:i=!1,preload:j=!1,loading:k,className:l,quality:m,width:n,height:o,fill:p=!1,style:q,overrideSrc:r,onLoad:s,onLoadingComplete:t,placeholder:u="empty",blurDataURL:v,fetchPriority:w,decoding:x="async",layout:y,objectFit:z,objectPosition:A,lazyBoundary:B,lazyRoot:C,...D},E){var F;let G,H,I,{imgConf:J,showAltText:K,blurComplete:L,defaultLoader:M}=E,N=J||e.imageConfigDefault;if("allSizes"in N)G=N;else{let a=[...N.deviceSizes,...N.imageSizes].sort((a,b)=>a-b),b=N.deviceSizes.sort((a,b)=>a-b),c=N.qualities?.sort((a,b)=>a-b);G={...N,allSizes:a,deviceSizes:b,qualities:c}}if(void 0===M)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let O=D.loader||M;delete D.loader,delete D.srcSet;let P="__next_img_default"in O;if(P){if("custom"===G.loader)throw Object.defineProperty(Error(`Image with src "${a}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=O;O=b=>{let{config:c,...d}=b;return a(d)}}if(y){"fill"===y&&(p=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[y];a&&(q={...q,...a});let c={responsive:"100vw",fill:"100vw"}[y];c&&!b&&(b=c)}let Q="",R=h(n),S=h(o);if((F=a)&&"object"==typeof F&&(g(F)||void 0!==F.src)){let b=g(a)?a.default:a;if(!b.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(b)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!b.height||!b.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(b)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(H=b.blurWidth,I=b.blurHeight,v=v||b.blurDataURL,Q=b.src,!p)if(R||S){if(R&&!S){let a=R/b.width;S=Math.round(b.height*a)}else if(!R&&S){let a=S/b.height;R=Math.round(b.width*a)}}else R=b.width,S=b.height}let T=!i&&!j&&("lazy"===k||void 0===k);(!(a="string"==typeof a?a:Q)||a.startsWith("data:")||a.startsWith("blob:"))&&(c=!0,T=!1),G.unoptimized&&(c=!0),P&&!G.dangerouslyAllowSVG&&a.split("?",1)[0].endsWith(".svg")&&(c=!0);let U=h(m),V=Object.assign(p?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:z,objectPosition:A}:{},K?{}:{color:"transparent"},q),W=L||"empty"===u?null:"blur"===u?`url("data:image/svg+xml;charset=utf-8,${(0,d.getImageBlurSvg)({widthInt:R,heightInt:S,blurWidth:H,blurHeight:I,blurDataURL:v||"",objectFit:V.objectFit})}")`:`url("${u}")`,X=f.includes(V.objectFit)?"fill"===V.objectFit?"100% 100%":"cover":V.objectFit,Y=W?{backgroundSize:X,backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:W}:{},Z=function({config:a,src:b,unoptimized:c,width:d,quality:e,sizes:f,loader:g}){if(c)return{src:b,srcSet:void 0,sizes:void 0};let{widths:h,kind:i}=function({deviceSizes:a,allSizes:b},c,d){if(d){let c=/(^|\s)(1?\d?\d)vw/g,e=[];for(let a;a=c.exec(d);)e.push(parseInt(a[2]));if(e.length){let c=.01*Math.min(...e);return{widths:b.filter(b=>b>=a[0]*c),kind:"w"}}return{widths:b,kind:"w"}}return"number"!=typeof c?{widths:a,kind:"w"}:{widths:[...new Set([c,2*c].map(a=>b.find(b=>b>=a)||b[b.length-1]))],kind:"x"}}(a,d,f),j=h.length-1;return{sizes:f||"w"!==i?f:"100vw",srcSet:h.map((c,d)=>`${g({config:a,src:b,quality:e,width:c})} ${"w"===i?c:d+1}${i}`).join(", "),src:g({config:a,src:b,quality:e,width:h[j]})}}({config:G,src:a,unoptimized:c,width:R,quality:U,sizes:b,loader:O}),$=T?"lazy":k;return{props:{...D,loading:$,fetchPriority:w,width:R,height:S,decoding:x,className:l,style:{...V,...Y},sizes:Z.sizes,srcSet:Z.srcSet,src:r||Z.src},meta:{unoptimized:c,preload:j||i,placeholder:u,fill:p}}}},78201,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(57202),e=()=>{};function f(a){let{headManager:b,reduceComponentsToState:c}=a;function f(){if(b&&b.mountedInstances){let a=d.Children.toArray(Array.from(b.mountedInstances).filter(Boolean));b.updateHead(c(a))}}return b?.mountedInstances?.add(a.children),f(),e(()=>(b?.mountedInstances?.add(a.children),()=>{b?.mountedInstances?.delete(a.children)})),e(()=>(b&&(b._pendingUpdate=f),()=>{b&&(b._pendingUpdate=f)})),null}},54781,(a,b,c)=>{"use strict";b.exports=a.r(14650).vendored.contexts.HeadManagerContext},15134,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return p},defaultHead:function(){return l}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(51101),g=a.r(35098),h=a.r(912),i=g._(a.r(57202)),j=f._(a.r(78201)),k=a.r(54781);function l(){return[(0,h.jsx)("meta",{charSet:"utf-8"},"charset"),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===i.default.Fragment?a.concat(i.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}a.r(89980);let n=["name","httpEquiv","charSet","itemProp"];function o(a){let b,c,d,e;return a.reduce(m,[]).reverse().concat(l().reverse()).filter((b=new Set,c=new Set,d=new Set,e={},a=>{let f=!0,g=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){g=!0;let c=a.key.slice(a.key.indexOf("$")+1);b.has(c)?f=!1:b.add(c)}switch(a.type){case"title":case"base":c.has(a.type)?f=!1:c.add(a.type);break;case"meta":for(let b=0,c=n.length;b<c;b++){let c=n[b];if(a.props.hasOwnProperty(c))if("charSet"===c)d.has(c)?f=!1:d.add(c);else{let b=a.props[c],d=e[c]||new Set;("name"!==c||!g)&&d.has(b)?f=!1:(d.add(b),e[c]=d)}}}return f})).reverse().map((a,b)=>{let c=a.key||b;return i.default.cloneElement(a,{key:c})})}let p=function({children:a}){let b=(0,i.useContext)(k.HeadManagerContext);return(0,h.jsx)(j.default,{reduceComponentsToState:o,headManager:b,children:a})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},73905,(a,b,c)=>{"use strict";b.exports=a.r(14650).vendored.contexts.ImageConfigContext},34423,(a,b,c)=>{"use strict";b.exports=a.r(14650).vendored.contexts.RouterContext},81092,(a,b,c)=>{"use strict";function d(a,b){let c=a||75;return b?.qualities?.length?b.qualities.reduce((a,b)=>Math.abs(b-c)<Math.abs(a-c)?b:a,0):c}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findClosestQuality",{enumerable:!0,get:function(){return d}})},29368,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(81092);function e({config:a,src:b,width:c,quality:e}){if(b.startsWith("/")&&b.includes("?")&&a.localPatterns?.length===1&&"**"===a.localPatterns[0].pathname&&""===a.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${b}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let f=(0,d.findClosestQuality)(e,a);return`${a.path}?url=${encodeURIComponent(b)}&w=${c}&q=${f}${b.startsWith("/_next/static/media/"),""}`}e.__next_img_default=!0;let f=e},62447,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"Image",{enumerable:!0,get:function(){return u}});let d=a.r(51101),e=a.r(35098),f=a.r(912),g=e._(a.r(57202)),h=d._(a.r(15904)),i=d._(a.r(15134)),j=a.r(10974),k=a.r(75976),l=a.r(73905);a.r(89980);let m=a.r(34423),n=d._(a.r(29368)),o=a.r(87125),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function q(a,b,c,d,e,f,g){let h=a?.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),c?.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}d?.current&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)(({src:a,srcSet:b,sizes:c,height:d,width:e,decoding:h,className:i,style:j,fetchPriority:k,placeholder:l,loading:m,unoptimized:n,fill:p,onLoadRef:s,onLoadingCompleteRef:t,setBlurComplete:u,setShowAltText:v,sizesInput:w,onLoad:x,onError:y,...z},A)=>{let B=(0,g.useCallback)(a=>{a&&(y&&(a.src=a.src),a.complete&&q(a,l,s,t,u,n,w))},[a,l,s,t,u,y,n,w]),C=(0,o.useMergedRef)(A,B);return(0,f.jsx)("img",{...z,...r(k),loading:m,width:e,height:d,decoding:h,"data-nimg":p?"fill":"1",className:i,style:j,sizes:c,srcSet:b,src:a,ref:C,onLoad:a=>{q(a.currentTarget,l,s,t,u,n,w)},onError:a=>{v(!0),"empty"!==l&&u(!0),y&&y(a)}})});function t({isAppRouter:a,imgAttributes:b}){let c={as:"image",imageSrcSet:b.srcSet,imageSizes:b.sizes,crossOrigin:b.crossOrigin,referrerPolicy:b.referrerPolicy,...r(b.fetchPriority)};return a&&h.default.preload?(h.default.preload(b.src,c),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:b.srcSet?void 0:b.src,...c},"__nimg-"+b.src+b.srcSet+b.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{let a=p||d||k.imageConfigDefault,b=[...a.deviceSizes,...a.imageSizes].sort((a,b)=>a-b),c=a.deviceSizes.sort((a,b)=>a-b),e=a.qualities?.sort((a,b)=>a-b);return{...a,allSizes:b,deviceSizes:c,qualities:e,localPatterns:d?.localPatterns}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.preload?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},58090,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(51101),g=a.r(10974),h=a.r(62447),i=f._(a.r(29368));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},19538,(a,b,c)=>{b.exports=a.r(58090)},38643,a=>{"use strict";let b;var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a.i(912),w=a.i(57202),x=a.i(39036),y=a.i(30442),z=a.i(62069),A=a.i(3585),B=a.i(67717);let C={small:{width:"max-w-md"},medium:{width:"max-w-lg"},large:{width:"max-w-2xl"},delete:{title:"삭제 확인",description:"정말로 삭제하시겠습니까?",warning:null,icon:"trash",iconColor:"text-red-500",iconSize:32,buttonCancelText:"취소",buttonConfirmText:"삭제",buttonDisabled:!1,info:null},success:{title:"성공",description:"작업이 완료되었습니다.",icon:"circleCheck",iconColor:"text-green-500",iconSize:32,buttonConfirmText:"확인",buttonDisabled:!1,info:null},deleteSuccess:{title:"삭제 완료",description:"선택한 항목이 삭제되었습니다.",icon:"circleCheck",iconColor:"text-green-500",iconSize:32,buttonConfirmText:"확인",buttonDisabled:!1,info:"복원이 필요한 경우 관리자에게 문의해주세요.",infoColor:"text-blue-600 dark:text-blue-400"},error:{title:"오류 발생",description:"문제가 발생했습니다.",icon:"exclamationTriangle",iconColor:"text-red-500",iconSize:32,buttonConfirmText:"확인",buttonDisabled:!1,info:null},progress:{title:"처리 중...",description:"잠시만 기다려주세요.",icon:"loading",iconColor:"text-blue-500",iconSize:32,buttonDisabled:!0,info:null}},D=(0,z.default)("fixed left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-40","w-full h-full","flex items-center"),E=(0,z.default)("relative m-auto w-xl min-h-68 py-9 px-7","flex flex-col items-center justify-center","border border-gray-100 dark:border-gray-700 rounded-2xl shadow-sm bg-white dark:bg-gray-800"),F=(0,z.default)("size-15 flex items-center justify-center","absolute -top-8 left-1/2 transform -translate-x-1/2","shadow-lg rounded-full bg-white dark:bg-gray-800");function G({type:a,isOpen:b,onClose:c,onConfirm:d,title:e,description:f,warning:g,buttonDisabled:h,children:i}){let j=a?C[a]:{},k=e??j.title,l=f??j.description,m=g??j.warning;return((0,w.useEffect)(()=>{if("success"===a||"deleteSuccess"===a){let a=setTimeout(()=>{c()},5e3);return()=>clearTimeout(a)}},[a,c]),(0,w.useEffect)(()=>(b&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="unset"}),[b]),(0,w.useEffect)(()=>{let a=a=>{"Escape"===a.key&&b&&c()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[b,c]),b)?(0,v.jsxs)("div",{className:D,children:[(0,v.jsx)("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70",onClick:c}),(0,v.jsxs)("div",{className:E,children:[j?.icon&&(0,v.jsx)("div",{className:F,children:(0,v.jsx)(B.Icon,{type:j.icon,className:`${j.iconColor}`,size:j.iconSize})}),(0,v.jsx)("button",{onClick:c,className:"absolute top-3 right-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:(0,v.jsx)(B.Icon,{type:"x"})}),(0,v.jsx)("div",{className:"text-center w-full",children:i||(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:k}),(0,v.jsx)("p",{className:"text-base font-medium mt-2 text-gray-700 dark:text-gray-300",children:l}),m&&(0,v.jsx)("p",{className:"text-sm font-semibold mt-5 text-red-500 dark:text-red-400",children:m}),j?.info&&(0,v.jsx)("p",{className:`text-sm font-medium mt-5 ${j.infoColor||"text-gray-600 dark:text-gray-400"}`,children:j.info})]})}),(j?.buttonCancelText||j?.buttonConfirmText)&&(0,v.jsxs)("div",{className:"flex gap-3 justify-center mt-6",children:[j?.buttonCancelText&&(0,v.jsx)(A.default,{btnType:"basic",variant:"basic",onClick:c,children:j.buttonCancelText}),j?.buttonConfirmText&&(0,v.jsx)(A.default,{btnType:"basic",variant:"warning",onClick:d,disabled:h??j.buttonDisabled,children:j.buttonConfirmText})]})]})]}):null}function H({icon:a,title:b}){return(0,v.jsxs)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-2",children:[(0,v.jsx)(B.Icon,{type:a,size:16,className:"text-gray-600 dark:text-gray-400"}),b]})}function I({icon:a,title:b,children:c,className:d=""}){return(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)(H,{icon:a,title:b}),c]})}let J={dueSoon:{title:"계획 진행중",className:"bg-blue-500 text-white dark:text-white/80",category:"status"},overDue:{title:"계획에서 벗어남",className:"bg-red-500 text-white dark:text-white/80",category:"status"},todo:{title:"TODO",className:"bg-[#9CA3AF] text-gray-800 dark:text-gray-200",category:"status"},inProgress:{title:"진행중",className:"bg-amber-500 text-white dark:text-white/80",category:"status"},done:{title:"완료",className:"bg-green-500 text-white dark:text-white/80",category:"status"},high:{title:"높음",className:"bg-red-100 text-red-700 dark:text-red-300",category:"priority",dotColor:"bg-red-500"},normal:{title:"보통",className:"bg-yellow-100 text-yellow-700 dark:text-yellow-300",category:"priority",dotColor:"bg-yellow-500"},low:{title:"낮음",className:"bg-green-100 text-green-700 dark:text-green-300",category:"priority",dotColor:"bg-green-500"}},K=({color:a})=>(0,v.jsx)("span",{className:`w-2 h-2 inline-block mr-1 rounded-full ${a}`,"aria-hidden":"true"});function L({type:a}){let b=J[a];return b?(0,v.jsxs)("span",{"data-type":a,className:`py-1.5 px-2 rounded-sm text-xs font-medium ${b.className}`,children:[("priority"===b.category||b.dotColor)&&(0,v.jsx)(K,{color:b.dotColor}),b.title]}):null}function M({value:a,options:b,onChange:c}){let[d,e]=(0,w.useState)(!1),f=(0,w.useRef)(null);(0,w.useEffect)(()=>{if(!d)return;let a=a=>{f.current&&!f.current.contains(a.target)&&e(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[d]);let g=b.find(b=>b.value===a);return(0,v.jsxs)("div",{ref:f,className:"flex items-center gap-2 flex-nowrap",children:[(0,v.jsx)("button",{type:"button",onClick:()=>e(a=>!a),className:`
          relative transition-all duration-200 cursor-pointer
          hover:scale-105 active:scale-95 
          ${d?"ring-2 ring-main-300 dark:ring-main-500 ring-offset-1 rounded-sm":""}
        `,children:g&&(0,v.jsx)(L,{type:g.badgeType})}),d&&(0,v.jsx)("div",{className:"flex items-center gap-1.5 animate-fadeIn flex-nowrap bg-white dark:bg-gray-800 rounded-lg p-1.5 shadow-sm",children:b.filter(b=>b.value!==a).map(a=>(0,v.jsx)("button",{type:"button",onClick:()=>{c(a.value),e(!1)},className:"hover:scale-105 active:scale-95 transition-all duration-200 opacity-70 hover:opacity-100",children:(0,v.jsx)(L,{type:a.badgeType})},a.value))})]})}let N=[{value:"todo",badgeType:"todo"},{value:"inprogress",badgeType:"inProgress"},{value:"done",badgeType:"done"}],O=[{value:"low",badgeType:"low"},{value:"normal",badgeType:"normal"},{value:"high",badgeType:"high"}];function P({status:a,priority:b,onStatusChange:c,onPriorityChange:d}){return(0,v.jsxs)("div",{className:"flex flex-wrap items-center gap-x-8 gap-y-4",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 min-w-fit",children:[(0,v.jsx)(B.Icon,{type:"progressAlert",size:16,className:"text-gray-600 dark:text-gray-400"}),(0,v.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 whitespace-nowrap",children:"상태"}),(0,v.jsx)(M,{value:a,options:N,onChange:c})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2 min-w-fit",children:[(0,v.jsx)(B.Icon,{type:"alertTriangle",size:16,className:"text-gray-600 dark:text-gray-400"}),(0,v.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 whitespace-nowrap",children:"우선순위"}),(0,v.jsx)(M,{value:b,options:O,onChange:d})]})]})}var Q=a.i(51612);let R=(0,Q.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var S=a.i(15904);let T=(a,b,c,d)=>{if("length"===c||"prototype"===c||"arguments"===c||"caller"===c)return;let e=Object.getOwnPropertyDescriptor(a,c),f=Object.getOwnPropertyDescriptor(b,c);(U(e,f)||!d)&&Object.defineProperty(a,c,f)},U=function(a,b){return void 0===a||a.configurable||a.writable===b.writable&&a.enumerable===b.enumerable&&a.configurable===b.configurable&&(a.writable||a.value===b.value)},V=(a,b)=>`/* Wrapped ${a}*/
${b}`,W=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),X=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Y=new WeakMap,Z=new WeakMap,$=new WeakMap;function _(a,{cacheKey:b,cache:c=new Map,maxAge:d}={}){if(0===d)return a;if("number"==typeof d&&Number.isFinite(d)){if(d>0x7fffffff)throw TypeError("The `maxAge` option cannot exceed 2147483647.");if(d<0)throw TypeError("The `maxAge` option should not be a negative number.")}let e=function(...f){let g=b?b(f):f[0],h=function(a,b){let c=a.get(b);if(c)return c.maxAge<=Date.now()?void a.delete(b):c}(c,g);if(h)return h.data;let i=a.apply(this,f),j="function"==typeof d?d(...f):d;if(void 0!==j&&j!==1/0){if(!Number.isFinite(j))throw TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(j<=0)return i;if(j>0x7fffffff)throw TypeError("The `maxAge` function result cannot exceed 2147483647.")}if(c.set(g,{data:i,maxAge:void 0===j||j===1/0?1/0:Date.now()+j}),void 0!==j&&j!==1/0){let a=setTimeout(()=>{c.delete(g),Z.get(e)?.delete(a)},j);a.unref?.();let b=Z.get(e)??new Set;b.add(a),Z.set(e,b)}return i};return!function(a,b,{ignoreNonConfigurable:c=!1}={}){let d,{name:e}=a;for(let d of Reflect.ownKeys(b))T(a,b,d,c);(d=Object.getPrototypeOf(b))!==Object.getPrototypeOf(a)&&Object.setPrototypeOf(a,d),((a,b,c)=>{let d=""===c?"":`with ${c.trim()}() `,e=V.bind(null,d,b.toString());Object.defineProperty(e,"name",X);let{writable:f,enumerable:g,configurable:h}=W;Object.defineProperty(a,"toString",{value:e,writable:f,enumerable:g,configurable:h})})(a,b,e)}(e,a,{ignoreNonConfigurable:!0}),Y.set(e,c),$.set(e,b??(a=>a[0])),e}function aa(a){return"string"==typeof a}function ab(a,b,c){return c.indexOf(a)===b}function ac(a){return -1===a.indexOf(",")?a:a.split(",")}var ad=_(function(a){var b=void 0===a?{}:a,c=b.useFallbackLocale,d=b.fallbackLocale,e=[];if("undefined"!=typeof navigator){for(var f=navigator.languages||[],g=[],h=0;h<f.length;h++){var i=f[h];g=g.concat(ac(i))}var j=navigator.language,k=j?ac(j):j;e=e.concat(g,k)}return(void 0===c||c)&&e.push(void 0===d?"en-US":d),e.filter(aa).map(function a(b){if(!b)return b;if("C"===b||"posix"===b||"POSIX"===b)return"en-US";if(-1!==b.indexOf(".")){var c=b.split(".")[0],d=void 0===c?"":c;return a(d)}if(-1!==b.indexOf("@")){var e=b.split("@")[0],d=void 0===e?"":e;return a(d)}if(-1===b.indexOf("-")||b.toLowerCase()!==b)return b;var f=b.split("-"),g=f[0],h=f[1];return"".concat(g,"-").concat((void 0===h?"":h).toUpperCase())}).filter(ab)},{cacheKey:JSON.stringify}),ae=_(function(a){return ad(a)[0]||null},{cacheKey:JSON.stringify});function af(a,b,c){return function(d,e=c){return b(a(d)+e)}}function ag(a){return function(b){return new Date(a(b).getTime()-1)}}function ah(a,b){return function(c){return[a(c),b(c)]}}function ai(a){if(a instanceof Date)return a.getFullYear();if("number"==typeof a)return a;let b=Number.parseInt(a,10);if("string"==typeof a&&!Number.isNaN(b))return b;throw Error(`Failed to get year from date: ${a}.`)}function aj(a){if(a instanceof Date)return a.getMonth();throw Error(`Failed to get month from date: ${a}.`)}function ak(a){if(a instanceof Date)return a.getDate();throw Error(`Failed to get year from date: ${a}.`)}function al(a){let b=ai(a),c=new Date;return c.setFullYear(b+(-b+1)%100,0,1),c.setHours(0,0,0,0),c}let am=af(ai,al,-100),an=af(ai,al,100),ao=ag(an),ap=af(ai,ao,-100);af(ai,ao,100);let aq=ah(al,ao);function ar(a){let b=ai(a),c=new Date;return c.setFullYear(b+(-b+1)%10,0,1),c.setHours(0,0,0,0),c}let as=af(ai,ar,-10),at=af(ai,ar,10),au=ag(at),av=af(ai,au,-10);af(ai,au,10);let aw=ah(ar,au);function ax(a){let b=ai(a),c=new Date;return c.setFullYear(b,0,1),c.setHours(0,0,0,0),c}let ay=af(ai,ax,-1),az=af(ai,ax,1),aA=ag(az),aB=af(ai,aA,-1);af(ai,aA,1);let aC=ah(ax,aA);function aD(a,b){return function(c,d=b){let e=ai(c),f=aj(c)+d,g=new Date;return g.setFullYear(e,f,1),g.setHours(0,0,0,0),a(g)}}function aE(a){let b=ai(a),c=aj(a),d=new Date;return d.setFullYear(b,c,1),d.setHours(0,0,0,0),d}let aF=aD(aE,-1),aG=aD(aE,1),aH=ag(aG),aI=aD(aH,-1);aD(aH,1);let aJ=ah(aE,aH);function aK(a,b){return function(c,d=b){let e=ai(c),f=aj(c),g=ak(c)+d,h=new Date;return h.setFullYear(e,f,g),h.setHours(0,0,0,0),a(h)}}function aL(a){let b=ai(a),c=aj(a),d=ak(a),e=new Date;return e.setFullYear(b,c,d),e.setHours(0,0,0,0),e}aK(aL,-1);let aM=ag(aK(aL,1));aK(aM,-1),aK(aM,1);let aN=ah(aL,aM);var aO="gregory",aP="hebrew",aQ="islamic",aR="iso8601",aS={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},aT=new Map;function aU(a){return function(b,c){return function(b,c){var d=b||ae();aT.has(d)||aT.set(d,new Map);var e=aT.get(d);return e.has(a)||e.set(a,new Intl.DateTimeFormat(d||void 0,a).format),e.get(a)(c)}(b,new Date(new Date(c).setHours(12)))}}aU({day:"numeric",month:"numeric",year:"numeric"});var aV=aU({day:"numeric"}),aW=aU({day:"numeric",month:"long",year:"numeric"}),aX=aU({month:"long"}),aY=aU({month:"long",year:"numeric"}),aZ=aU({weekday:"short"}),a$=aU({weekday:"long"}),a_=aU({year:"numeric"});function a0(a,b){void 0===b&&(b=aR);var c=a.getDay();switch(b){case aR:return(c+6)%7;case aQ:return(c+1)%7;case aP:case aO:return c;default:throw Error("Unsupported calendar type.")}}function a1(a,b){return void 0===b&&(b=aR),new Date(ai(a),aj(a),a.getDate()-a0(a,b))}function a2(a,b){switch(a){case"century":return al(b);case"decade":return ar(b);case"year":return ax(b);case"month":return aE(b);case"day":return aL(b);default:throw Error("Invalid rangeType: ".concat(a))}}function a3(a,b){switch(a){case"century":return an(b);case"decade":return at(b);case"year":return az(b);case"month":return aG(b);default:throw Error("Invalid rangeType: ".concat(a))}}function a4(a,b){switch(a){case"century":return ao(b);case"decade":return au(b);case"year":return aA(b);case"month":return aH(b);case"day":return aM(b);default:throw Error("Invalid rangeType: ".concat(a))}}function a5(a,b){switch(a){case"century":return aq(b);case"decade":return aw(b);case"year":return aC(b);case"month":return aJ(b);case"day":return aN(b);default:throw Error("Invalid rangeType: ".concat(a))}}function a6(a,b,c){return c.map(function(c){return(b||a_)(a,c)}).join(" – ")}function a7(a,b){void 0===b&&(b=aR);var c=a.getDay();switch(b){case aQ:case aP:return 5===c||6===c;case aR:case aO:return 6===c||0===c;default:throw Error("Unsupported calendar type.")}}var a8="react-calendar__navigation";function a9(a){var b,c=a.activeStartDate,d=a.drillUp,e=a.formatMonthYear,f=void 0===e?aY:e,g=a.formatYear,h=void 0===g?a_:g,i=a.locale,j=a.maxDate,k=a.minDate,l=a.navigationAriaLabel,m=a.navigationAriaLive,n=a.navigationLabel,o=a.next2AriaLabel,p=a.next2Label,q=void 0===p?"»":p,r=a.nextAriaLabel,s=a.nextLabel,t=void 0===s?"›":s,u=a.prev2AriaLabel,w=a.prev2Label,x=void 0===w?"«":w,y=a.prevAriaLabel,z=a.prevLabel,A=void 0===z?"‹":z,B=a.setActiveStartDate,C=a.showDoubleView,D=a.view,E=a.views.indexOf(D)>0,F="century"!==D,G=function(a,b){switch(a){case"century":return am(b);case"decade":return as(b);case"year":return ay(b);case"month":return aF(b);default:throw Error("Invalid rangeType: ".concat(a))}}(D,c),H=F?function(a,b){switch(a){case"decade":return as(b,-100);case"year":return ay(b,-10);case"month":return aF(b,-12);default:throw Error("Invalid rangeType: ".concat(a))}}(D,c):void 0,I=a3(D,c),J=F?function(a,b){switch(a){case"decade":return at(b,100);case"year":return az(b,10);case"month":return aG(b,12);default:throw Error("Invalid rangeType: ".concat(a))}}(D,c):void 0,K=function(){if(0>G.getFullYear())return!0;var a=function(a,b){switch(a){case"century":return ap(b);case"decade":return av(b);case"year":return aB(b);case"month":return aI(b);default:throw Error("Invalid rangeType: ".concat(a))}}(D,c);return k&&k>=a}(),L=F&&function(){if(0>H.getFullYear())return!0;var a=function(a,b){switch(a){case"decade":return av(b,-100);case"year":return aB(b,-10);case"month":return aI(b,-12);default:throw Error("Invalid rangeType: ".concat(a))}}(D,c);return k&&k>=a}(),M=j&&j<I,N=F&&j&&j<J;function O(a){var b=function(){switch(D){case"century":return a6(i,h,aq(a));case"decade":return a6(i,h,aw(a));case"year":return h(i,a);case"month":return f(i,a);default:throw Error("Invalid view: ".concat(D,"."))}}();return n?n({date:a,label:b,locale:i||ae()||void 0,view:D}):b}return(0,v.jsxs)("div",{className:a8,children:[null!==x&&F?(0,v.jsx)("button",{"aria-label":void 0===u?"":u,className:"".concat(a8,"__arrow ").concat(a8,"__prev2-button"),disabled:L,onClick:function(){B(H,"prev2")},type:"button",children:x}):null,null!==A&&(0,v.jsx)("button",{"aria-label":void 0===y?"":y,className:"".concat(a8,"__arrow ").concat(a8,"__prev-button"),disabled:K,onClick:function(){B(G,"prev")},type:"button",children:A}),(b="".concat(a8,"__label"),(0,v.jsxs)("button",{"aria-label":void 0===l?"":l,"aria-live":m,className:b,disabled:!E,onClick:d,style:{flexGrow:1},type:"button",children:[(0,v.jsx)("span",{className:"".concat(b,"__labelText ").concat(b,"__labelText--from"),children:O(c)}),C?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"".concat(b,"__divider"),children:" – "}),(0,v.jsx)("span",{className:"".concat(b,"__labelText ").concat(b,"__labelText--to"),children:O(I)})]}):null]})),null!==t&&(0,v.jsx)("button",{"aria-label":void 0===r?"":r,className:"".concat(a8,"__arrow ").concat(a8,"__next-button"),disabled:M,onClick:function(){B(I,"next")},type:"button",children:t}),null!==q&&F?(0,v.jsx)("button",{"aria-label":void 0===o?"":o,className:"".concat(a8,"__arrow ").concat(a8,"__next2-button"),disabled:N,onClick:function(){B(J,"next2")},type:"button",children:q}):null]})}var ba=function(){return(ba=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bb=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function bc(a){return"".concat(a,"%")}function bd(a){var b=a.children,c=a.className,d=a.count,e=a.direction,f=a.offset,g=a.style,h=a.wrap,i=bb(a,["children","className","count","direction","offset","style","wrap"]);return(0,v.jsx)("div",ba({className:c,style:ba({display:"flex",flexDirection:e,flexWrap:h?"wrap":"nowrap"},g)},i,{children:w.Children.map(b,function(a,b){var c=f&&0===b?bc(100*f/d):null;return(0,w.cloneElement)(a,ba(ba({},a.props),{style:{flexBasis:bc(100/d),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:c,marginInlineStart:c,marginInlineEnd:0}}))})}))}function be(a,b){return b[0]<=a&&b[1]>=a}function bf(a,b){return be(a[0],b)||be(a[1],b)}function bg(a,b,c){var d=bf(b,a),e=[];if(d){e.push(c);var f=be(a[0],b),g=be(a[1],b);f&&e.push("".concat(c,"Start")),g&&e.push("".concat(c,"End")),f&&g&&e.push("".concat(c,"BothEnds"))}return e}function bh(a){for(var b=a.className,c=a.count,d=a.dateTransform,e=a.dateType,f=a.end,g=a.hover,h=a.offset,i=a.renderTile,j=a.start,k=a.step,l=void 0===k?1:k,m=a.value,n=a.valueType,o=[],p=j;p<=f;p+=l){var q=d(p);o.push(i({classes:function(a){if(!a)throw Error("args is required");var b=a.value,c=a.date,d=a.hover,e="react-calendar__tile",f=[e];if(!c)return f;var g=new Date,h=function(){if(Array.isArray(c))return c;var b=a.dateType;if(!b)throw Error("dateType is required when date is not an array of two dates");return a5(b,c)}();if(be(g,h)&&f.push("".concat(e,"--now")),!b||!(Array.isArray(b)?null!==b[0]&&null!==b[1]:null!==b))return f;var i=function(){if(Array.isArray(b))return b;var c=a.valueType;if(!c)throw Error("valueType is required when value is not an array of two dates");return a5(c,b)}();i[0]<=h[0]&&i[1]>=h[1]?f.push("".concat(e,"--active")):bf(i,h)&&f.push("".concat(e,"--hasActive"));var j=bg(i,h,"".concat(e,"--range"));f.push.apply(f,j);var k=Array.isArray(b)?b:[b];if(d&&1===k.length){var l=bg(d>i[0]?[i[0],d]:[d,i[0]],h,"".concat(e,"--hover"));f.push.apply(f,l)}return f}({date:q,dateType:e,hover:g,value:m,valueType:n}),date:q}))}return(0,v.jsx)(bd,{className:b,count:void 0===c?3:c,offset:h,wrap:!0,children:o})}function bi(a){var b=a.activeStartDate,c=a.children,d=a.classes,e=a.date,f=a.formatAbbr,g=a.locale,h=a.maxDate,i=a.maxDateTransform,j=a.minDate,k=a.minDateTransform,l=a.onClick,m=a.onMouseOver,n=a.style,o=a.tileClassName,p=a.tileContent,q=a.tileDisabled,r=a.view,s=(0,w.useMemo)(function(){return"function"==typeof o?o({activeStartDate:b,date:e,view:r}):o},[b,e,o,r]),t=(0,w.useMemo)(function(){return"function"==typeof p?p({activeStartDate:b,date:e,view:r}):p},[b,e,p,r]);return(0,v.jsxs)("button",{className:(0,z.default)(d,s),disabled:j&&k(j)>e||h&&i(h)<e||(null==q?void 0:q({activeStartDate:b,date:e,view:r})),onClick:l?function(a){return l(e,a)}:void 0,onFocus:m?function(){return m(e)}:void 0,onMouseOver:m?function(){return m(e)}:void 0,style:n,type:"button",children:[f?(0,v.jsx)("abbr",{"aria-label":f(g,e),children:c}):c,t]})}var bj=function(){return(bj=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bk=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},bl="react-calendar__century-view__decades__decade";function bm(a){var b=a.classes,c=void 0===b?[]:b,d=a.currentCentury,e=a.formatYear,f=bk(a,["classes","currentCentury","formatYear"]),g=f.date,h=f.locale,i=[];return c&&i.push.apply(i,c),i.push(bl),al(g).getFullYear()!==d&&i.push("".concat(bl,"--neighboringCentury")),(0,v.jsx)(bi,bj({},f,{classes:i,maxDateTransform:au,minDateTransform:ar,view:"century",children:a6(h,void 0===e?a_:e,aw(g))}))}var bn=function(){return(bn=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bo=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function bp(a){var b=a.activeStartDate,c=a.hover,d=a.showNeighboringCentury,e=a.value,f=a.valueType,g=bo(a,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),h=ai(al(b)),i=h+(d?119:99);return(0,v.jsx)(bh,{className:"react-calendar__century-view__decades",dateTransform:ar,dateType:"decade",end:i,hover:c,renderTile:function(a){var c=a.date,d=bo(a,["date"]);return(0,v.jsx)(bm,bn({},g,d,{activeStartDate:b,currentCentury:h,date:c}),c.getTime())},start:h,step:10,value:e,valueType:f})}var bq=function(){return(bq=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function br(a){return(0,v.jsx)("div",{className:"react-calendar__century-view",children:(0,v.jsx)(bp,bq({},a))})}var bs=function(){return(bs=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bt=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},bu="react-calendar__decade-view__years__year";function bv(a){var b=a.classes,c=void 0===b?[]:b,d=a.currentDecade,e=a.formatYear,f=void 0===e?a_:e,g=bt(a,["classes","currentDecade","formatYear"]),h=g.date,i=g.locale,j=[];return c&&j.push.apply(j,c),j.push(bu),ar(h).getFullYear()!==d&&j.push("".concat(bu,"--neighboringDecade")),(0,v.jsx)(bi,bs({},g,{classes:j,maxDateTransform:aA,minDateTransform:ax,view:"decade",children:f(i,h)}))}var bw=function(){return(bw=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bx=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function by(a){var b=a.activeStartDate,c=a.hover,d=a.showNeighboringDecade,e=a.value,f=a.valueType,g=bx(a,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),h=ai(ar(b)),i=h+(d?11:9);return(0,v.jsx)(bh,{className:"react-calendar__decade-view__years",dateTransform:ax,dateType:"year",end:i,hover:c,renderTile:function(a){var c=a.date,d=bx(a,["date"]);return(0,v.jsx)(bv,bw({},g,d,{activeStartDate:b,currentDecade:h,date:c}),c.getTime())},start:h,value:e,valueType:f})}var bz=function(){return(bz=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function bA(a){return(0,v.jsx)("div",{className:"react-calendar__decade-view",children:(0,v.jsx)(by,bz({},a))})}var bB=function(){return(bB=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bC=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},bD=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))};function bE(a){var b=a.classes,c=a.formatMonth,d=a.formatMonthYear,e=bC(a,["classes","formatMonth","formatMonthYear"]),f=e.date,g=e.locale;return(0,v.jsx)(bi,bB({},e,{classes:bD(bD([],void 0===b?[]:b,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:void 0===d?aY:d,maxDateTransform:aH,minDateTransform:aE,view:"year",children:(void 0===c?aX:c)(g,f)}))}var bF=function(){return(bF=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bG=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function bH(a){var b=a.activeStartDate,c=a.hover,d=a.value,e=a.valueType,f=bG(a,["activeStartDate","hover","value","valueType"]),g=ai(b);return(0,v.jsx)(bh,{className:"react-calendar__year-view__months",dateTransform:function(a){var b=new Date;return b.setFullYear(g,a,1),aE(b)},dateType:"month",end:11,hover:c,renderTile:function(a){var c=a.date,d=bG(a,["date"]);return(0,v.jsx)(bE,bF({},f,d,{activeStartDate:b,date:c}),c.getTime())},start:0,value:d,valueType:e})}var bI=function(){return(bI=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function bJ(a){return(0,v.jsx)("div",{className:"react-calendar__year-view",children:(0,v.jsx)(bH,bI({},a))})}var bK=function(){return(bK=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bL=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},bM="react-calendar__month-view__days__day";function bN(a){var b=a.calendarType,c=a.classes,d=void 0===c?[]:c,e=a.currentMonthIndex,f=a.formatDay,g=a.formatLongDate,h=bL(a,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),i=h.date,j=h.locale,k=[];return d&&k.push.apply(k,d),k.push(bM),a7(i,b)&&k.push("".concat(bM,"--weekend")),i.getMonth()!==e&&k.push("".concat(bM,"--neighboringMonth")),(0,v.jsx)(bi,bK({},h,{classes:k,formatAbbr:void 0===g?aW:g,maxDateTransform:aM,minDateTransform:aL,view:"month",children:(void 0===f?aV:f)(j,i)}))}var bO=function(){return(bO=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bP=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function bQ(a){var b=a.activeStartDate,c=a.calendarType,d=a.hover,e=a.showFixedNumberOfWeeks,f=a.showNeighboringMonth,g=a.value,h=a.valueType,i=bP(a,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),j=ai(b),k=aj(b),l=e||f,m=a0(b,c),n=(l?-m:0)+1,o=function(){if(e)return n+42-1;var a=ak(aH(b));if(f){var d=new Date;return d.setFullYear(j,k,a),d.setHours(0,0,0,0),a+(7-a0(d,c)-1)}return a}();return(0,v.jsx)(bh,{className:"react-calendar__month-view__days",count:7,dateTransform:function(a){var b=new Date;return b.setFullYear(j,k,a),aL(b)},dateType:"day",hover:d,end:o,renderTile:function(a){var d=a.date,e=bP(a,["date"]);return(0,v.jsx)(bN,bO({},i,e,{activeStartDate:b,calendarType:c,currentMonthIndex:k,date:d}),d.getTime())},offset:l?0:m,start:n,value:g,valueType:h})}var bR="react-calendar__month-view__weekdays",bS="".concat(bR,"__weekday");function bT(a){for(var b=a.calendarType,c=a.formatShortWeekday,d=void 0===c?aZ:c,e=a.formatWeekday,f=void 0===e?a$:e,g=a.locale,h=a.onMouseLeave,i=aE(new Date),j=ai(i),k=aj(i),l=[],m=1;m<=7;m+=1){var n=new Date(j,k,m-a0(i,b)),o=f(g,n);l.push((0,v.jsx)("div",{className:(0,z.default)(bS,n.getDay()===new Date().getDay()&&"".concat(bS,"--current"),a7(n,b)&&"".concat(bS,"--weekend")),children:(0,v.jsx)("abbr",{"aria-label":o,title:o,children:d(g,n).replace(".","")})},m))}return(0,v.jsx)(bd,{className:bR,count:7,onFocus:h,onMouseOver:h,children:l})}var bU=function(){return(bU=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},bV=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},bW="react-calendar__tile";function bX(a){var b=a.onClickWeekNumber,c=a.weekNumber,d=(0,v.jsx)("span",{children:c});if(b){var e=a.date,f=a.onClickWeekNumber,g=a.weekNumber,h=bV(a,["date","onClickWeekNumber","weekNumber"]);return(0,v.jsx)("button",bU({},h,{className:bW,onClick:function(a){return f(g,e,a)},type:"button",children:d}))}a.date,a.onClickWeekNumber,a.weekNumber;var h=bV(a,["date","onClickWeekNumber","weekNumber"]);return(0,v.jsx)("div",bU({},h,{className:bW,children:d}))}function bY(a){var b=a.activeStartDate,c=a.calendarType,d=a.onClickWeekNumber,e=a.onMouseLeave,f=a.showFixedNumberOfWeeks,g=f?6:1+Math.ceil((ak(aH(b))-(7-a0(b,c)))/7),h=function(){for(var a=ai(b),d=aj(b),e=ak(b),f=[],h=0;h<g;h+=1)f.push(a1(new Date(a,d,e+7*h),c));return f}(),i=h.map(function(a){var b=c;void 0===b&&(b=aR);var d,e=b===aO?aO:aR,f=a1(a,b),g=ai(a)+1;do d=a1(new Date(g,0,e===aR?4:1),b),g-=1;while(a<d)return Math.round((f.getTime()-d.getTime())/(864e5*7))+1});return(0,v.jsx)(bd,{className:"react-calendar__month-view__weekNumbers",count:g,direction:"column",onFocus:e,onMouseOver:e,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:i.map(function(a,b){var c=h[b];if(!c)throw Error("date is not defined");return(0,v.jsx)(bX,{date:c,onClickWeekNumber:d,weekNumber:a},a)})})}var bZ=function(){return(bZ=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},b$=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function b_(a){var b=a.activeStartDate,c=a.locale,d=a.onMouseLeave,e=a.showFixedNumberOfWeeks,f=a.calendarType,g=void 0===f?function(a){if(a)for(var b=0,c=Object.entries(aS);b<c.length;b++){var d=c[b],e=d[0];if(d[1].includes(a))return e}return aR}(c):f,h=a.formatShortWeekday,i=a.formatWeekday,j=a.onClickWeekNumber,k=a.showWeekNumbers,l=b$(a,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]),m="react-calendar__month-view";return(0,v.jsx)("div",{className:(0,z.default)(m,k?"".concat(m,"--weekNumbers"):""),children:(0,v.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[k?(0,v.jsx)(bY,{activeStartDate:b,calendarType:g,onClickWeekNumber:j,onMouseLeave:d,showFixedNumberOfWeeks:e}):null,(0,v.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,v.jsx)(bT,{calendarType:g,formatShortWeekday:h,formatWeekday:i,locale:c,onMouseLeave:d}),(0,v.jsx)(bQ,bZ({calendarType:g},l))]})]})})}var b0=function(){return(b0=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},b1="react-calendar",b2=["century","decade","year","month"],b3=["decade","year","month","day"],b4=new Date;b4.setFullYear(1,0,1),b4.setHours(0,0,0,0);var b5=new Date(864e13);function b6(a){return a instanceof Date?a:new Date(a)}function b7(a,b){return b2.slice(b2.indexOf(a),b2.indexOf(b)+1)}function b8(a,b,c){return a?-1!==b7(b,c).indexOf(a)?a:c:c}function b9(a){return b3[b2.indexOf(a)]}function ca(a,b){var c,d=a.value,e=a.minDate,f=a.maxDate,g=a.maxDetail,h=function(a,b){var c=Array.isArray(a)?a[b]:a;if(!c)return null;var d=b6(c);if(Number.isNaN(d.getTime()))throw Error("Invalid date: ".concat(a));return d}(d,b);if(!h)return null;var i=b9(g);return c=function(){switch(b){case 0:return a2(i,h);case 1:return a4(i,h);default:throw Error("Invalid index value: ".concat(b))}}(),e&&e>c?e:f&&f<c?f:c}var cb=function(a){return ca(a,0)},cc=function(a){return ca(a,1)},cd=function(a){return[cb,cc].map(function(b){return b(a)})};function ce(a){var b=a.maxDate,c=a.maxDetail,d=a.minDate,e=a.minDetail,f=a.value;return a2(b8(a.view,e,c),cb({value:f,minDate:d,maxDate:b,maxDetail:c})||new Date)}function cf(a){return a&&(!Array.isArray(a)||1===a.length)}function cg(a,b){return a instanceof Date&&b instanceof Date&&a.getTime()===b.getTime()}var ch=(0,w.forwardRef)(function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=a.activeStartDate,r=a.allowPartialRange,s=a.calendarType,t=a.className,u=a.defaultActiveStartDate,x=a.defaultValue,y=a.defaultView,A=a.formatDay,B=a.formatLongDate,C=a.formatMonth,D=a.formatMonthYear,E=a.formatShortWeekday,F=a.formatWeekday,G=a.formatYear,H=a.goToRangeStartOnSelect,I=void 0===H||H,J=a.inputRef,K=a.locale,L=a.maxDate,M=void 0===L?b5:L,N=a.maxDetail,O=void 0===N?"month":N,P=a.minDate,Q=void 0===P?b4:P,R=a.minDetail,S=void 0===R?"century":R,T=a.navigationAriaLabel,U=a.navigationAriaLive,V=a.navigationLabel,W=a.next2AriaLabel,X=a.next2Label,Y=a.nextAriaLabel,Z=a.nextLabel,$=a.onActiveStartDateChange,_=a.onChange,aa=a.onClickDay,ab=a.onClickDecade,ac=a.onClickMonth,ad=a.onClickWeekNumber,ae=a.onClickYear,af=a.onDrillDown,ag=a.onDrillUp,ah=a.onViewChange,ai=a.prev2AriaLabel,aj=a.prev2Label,ak=a.prevAriaLabel,al=a.prevLabel,am=a.returnValue,an=void 0===am?"start":am,ao=a.selectRange,ap=a.showDoubleView,aq=a.showFixedNumberOfWeeks,ar=a.showNavigation,as=a.showNeighboringCentury,at=a.showNeighboringDecade,au=a.showNeighboringMonth,av=void 0===au||au,aw=a.showWeekNumbers,ax=a.tileClassName,ay=a.tileContent,az=a.tileDisabled,aA=a.value,aB=a.view,aC=(0,w.useState)(u),aD=aC[0],aE=aC[1],aF=(0,w.useState)(null),aG=aF[0],aH=aF[1],aI=(0,w.useState)(Array.isArray(x)?x.map(function(a){return null!==a?b6(a):null}):null!=x?b6(x):null),aJ=aI[0],aK=aI[1],aL=(0,w.useState)(y),aM=aL[0],aN=aL[1],aO=q||aD||(d=(c={activeStartDate:q,defaultActiveStartDate:u,defaultValue:x,defaultView:y,maxDate:M,maxDetail:O,minDate:Q,minDetail:S,value:aA,view:aB}).activeStartDate,e=c.defaultActiveStartDate,f=c.defaultValue,g=c.defaultView,h=c.maxDate,i=c.maxDetail,j=c.minDate,k=c.minDetail,l=c.value,n=b8(m=c.view,k,i),(o=d||e)?a2(n,o):ce({maxDate:h,maxDetail:i,minDate:j,minDetail:k,value:l||f,view:m||g})),aP=(p=ao&&cf(aJ)?aJ:void 0!==aA?aA:aJ)?Array.isArray(p)?p.map(function(a){return null!==a?b6(a):null}):null!==p?b6(p):null:null,aQ=b9(O),aR=b8(aB||aM,S,O),aS=b7(S,O),aT=ao?aG:null,aU=aS.indexOf(aR)<aS.length-1,aV=aS.indexOf(aR)>0,aW=(0,w.useCallback)(function(a){return(function(){switch(an){case"start":return cb;case"end":return cc;case"range":return cd;default:throw Error("Invalid returnValue.")}})()({maxDate:M,maxDetail:O,minDate:Q,value:a})},[M,O,Q,an]),aX=(0,w.useCallback)(function(a,b){aE(a),$&&!cg(aO,a)&&$({action:b,activeStartDate:a,value:aP,view:aR})},[aO,$,aP,aR]),aY=(0,w.useCallback)(function(a,b){var c=function(){switch(aR){case"century":return ab;case"decade":return ae;case"year":return ac;case"month":return aa;default:throw Error("Invalid view: ".concat(aR,"."))}}();c&&c(a,b)},[aa,ab,ac,ae,aR]),aZ=(0,w.useCallback)(function(a,b){if(aU){aY(a,b);var c=aS[aS.indexOf(aR)+1];if(!c)throw Error("Attempted to drill down from the lowest view.");aE(a),aN(c);var d={action:"drillDown",activeStartDate:a,value:aP,view:c};$&&!cg(aO,a)&&$(d),ah&&aR!==c&&ah(d),af&&af(d)}},[aO,aU,$,aY,af,ah,aP,aR,aS]),a$=(0,w.useCallback)(function(){if(aV){var a=aS[aS.indexOf(aR)-1];if(!a)throw Error("Attempted to drill up from the highest view.");var b=a2(a,aO);aE(b),aN(a);var c={action:"drillUp",activeStartDate:b,value:aP,view:a};$&&!cg(aO,b)&&$(c),ah&&aR!==a&&ah(c),ag&&ag(c)}},[aO,aV,$,ag,ah,aP,aR,aS]),a_=(0,w.useCallback)(function(a,b){aY(a,b);var c,d,e=ao&&!cf(aP);if(ao)if(e)c=a2(aQ,a);else{if(!aP)throw Error("previousValue is required");if(Array.isArray(aP))throw Error("previousValue must not be an array");c=[a2(aQ,(d=[aP,a].sort(function(a,b){return a.getTime()-b.getTime()}))[0]),a4(aQ,d[1])]}else c=aW(a);var f=!ao||e||I?ce({maxDate:M,maxDetail:O,minDate:Q,minDetail:S,value:c,view:aR}):null;b.persist(),aE(f),aK(c);var g={action:"onChange",activeStartDate:f,value:c,view:aR};if($&&!cg(aO,f)&&$(g),_)if(ao)if(cf(c)){if(r){if(Array.isArray(c))throw Error("value must not be an array");_([c||null,null],b)}}else _(c||null,b);else _(c||null,b)},[aO,r,aW,I,M,O,Q,S,$,_,aY,ao,aP,aQ,aR]);function a0(a){aH(a)}function a1(){aH(null)}function a5(a){var b={activeStartDate:a?a3(aR,aO):a2(aR,aO),hover:aT,locale:K,maxDate:M,minDate:Q,onClick:aU?aZ:a_,onMouseOver:ao?a0:void 0,tileClassName:ax,tileContent:ay,tileDisabled:az,value:aP,valueType:aQ};switch(aR){case"century":return(0,v.jsx)(br,b0({formatYear:G,showNeighboringCentury:as},b));case"decade":return(0,v.jsx)(bA,b0({formatYear:G,showNeighboringDecade:at},b));case"year":return(0,v.jsx)(bJ,b0({formatMonth:C,formatMonthYear:D},b));case"month":return(0,v.jsx)(b_,b0({calendarType:s,formatDay:A,formatLongDate:B,formatShortWeekday:E,formatWeekday:F,onClickWeekNumber:ad,onMouseLeave:ao?a1:void 0,showFixedNumberOfWeeks:void 0!==aq?aq:ap,showNeighboringMonth:av,showWeekNumbers:aw},b));default:throw Error("Invalid view: ".concat(aR,"."))}}(0,w.useImperativeHandle)(b,function(){return{activeStartDate:aO,drillDown:aZ,drillUp:a$,onChange:a_,setActiveStartDate:aX,value:aP,view:aR}},[aO,aZ,a$,a_,aX,aP,aR]);var a6=Array.isArray(aP)?aP:[aP];return(0,v.jsxs)("div",{className:(0,z.default)(b1,ao&&1===a6.length&&"".concat(b1,"--selectRange"),ap&&"".concat(b1,"--doubleView"),t),ref:J,children:[void 0===ar||ar?(0,v.jsx)(a9,{activeStartDate:aO,drillUp:a$,formatMonthYear:D,formatYear:G,locale:K,maxDate:M,minDate:Q,navigationAriaLabel:T,navigationAriaLive:U,navigationLabel:V,next2AriaLabel:W,next2Label:X,nextAriaLabel:Y,nextLabel:Z,prev2AriaLabel:ai,prev2Label:aj,prevAriaLabel:ak,prevLabel:al,setActiveStartDate:aX,showDoubleView:ap,view:aR,views:aS}):null,(0,v.jsxs)("div",{className:"".concat(b1,"__viewContainer"),onBlur:ao?a1:void 0,onMouseLeave:ao?a1:void 0,children:[a5(),ap?a5(!0):null]})]})});function ci({value:a,onChange:b,minDate:c,maxDate:d,placeholder:e="날짜를 선택하세요",label:f,icon:g="calendar",error:h,disabled:i=!1}){let j=a=>{if(!a)return new Date;let[b,c,d]=a.split("-").map(Number);return new Date(b,c-1,d)},[k,l]=(0,w.useState)(!1),[m,n]=(0,w.useState)({top:0,left:0}),[o,p]=(0,w.useState)(()=>a?j(a):new Date),[q,r]=(0,w.useState)(null),s=(0,w.useRef)(null),t=(0,w.useRef)(null),u=(0,w.useCallback)(()=>{if(!t.current)return;let a=t.current.getBoundingClientRect(),b=a.bottom+14,c=a.left;b+340>window.innerHeight&&(b=a.top-340-14),c+330>window.innerWidth&&(c=window.innerWidth-330-14),c<8&&(c=8),n({top:b,left:c})},[]);return(0,w.useEffect)(()=>{let a=a=>{s.current&&!s.current.contains(a.target)&&l(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,w.useEffect)(()=>{if(!k)return;let a=()=>l(!1);return window.addEventListener("scroll",a,!0),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a,!0),window.removeEventListener("resize",a)}},[k]),(0,v.jsxs)("div",{className:"relative",ref:s,children:[f&&(0,v.jsx)("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-200",children:f}),(0,v.jsxs)("div",{className:"relative",ref:t,children:[(0,v.jsx)("div",{onClick:()=>{if(i)return;k||u();let b=a?j(a):new Date;if(c){let a=j(c);b<a&&(b=a)}if(d){let a=j(d);b>a&&(b=a)}p(b),r(null),l(a=>!a)},className:`
            w-full h-10 px-3 pr-10 border rounded-lg flex items-center text-sm cursor-pointer
            bg-white dark:bg-gray-700 input-focus-style
            ${h?"border-red-500":k?"border-main-400 ring-2 ring-main-400/20":"border-gray-300 dark:border-gray-600"}
            hover:border-gray-400 dark:hover:border-gray-500
          `,children:(0,v.jsx)("span",{className:a?"text-gray-900 dark:text-gray-100":"text-gray-400 dark:text-gray-500",children:a?a?j(a).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"":e})}),(0,v.jsx)(B.Icon,{type:g,size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),h&&(0,v.jsxs)("p",{className:"text-xs text-red-500 mt-1 pl-1",children:["* ",h]}),k&&"undefined"!=typeof document&&(0,S.createPortal)((0,v.jsxs)("div",{className:"calendar-portal",style:{top:m.top,left:m.left},onMouseDown:a=>a.stopPropagation(),children:[(0,v.jsx)(ch,{value:a?j(a):new Date,onChange:a=>{if(!(a instanceof Date))return;let e=a.getFullYear(),f=String(a.getMonth()+1).padStart(2,"0"),g=String(a.getDate()).padStart(2,"0"),h=`${e}-${f}-${g}`;if(c&&h<c){r("프로젝트 시작일 이전의 날짜는 선택할 수 없습니다"),setTimeout(()=>r(null),2500);return}if(d&&h>d){r("프로젝트 종료일 이후의 날짜는 선택할 수 없습니다"),setTimeout(()=>r(null),2500);return}r(null),b(h),l(!1)},activeStartDate:o,onActiveStartDateChange:({activeStartDate:a})=>{a&&p(a)},tileDisabled:({date:a})=>!!(c&&a<j(c)||d&&a>j(d)),locale:"ko-KR",calendarType:"gregory",className:"react-calendar-custom"}),q&&(0,v.jsx)("div",{className:"mt-2 px-3 py-2 bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700 rounded-lg",children:(0,v.jsxs)("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium text-center",children:["⚠️ ",q]})})]}),document.body)]})}function cj({startDate:a,endDate:b,startTime:c,endTime:d,projectStartedAt:e,projectEndedAt:f,useTime:g=!1,error:h,disabled:i,onStartDateChange:j,onEndDateChange:k,onStartTimeChange:l,onEndTimeChange:m,onUseTimeChange:n}){let o=!!f&&new Date().toISOString().split("T")[0]>f,p=i||o;return(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,v.jsx)(ci,{label:"시작일",icon:"calendarPlus",value:a,onChange:j,minDate:e,maxDate:b||f,disabled:p}),(0,v.jsx)(ci,{label:"마감일",icon:"calendarCheck",value:b,onChange:k,minDate:a||e,maxDate:f,error:h,disabled:p})]}),o&&(0,v.jsx)("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:(0,v.jsx)("p",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium",children:"⚠️ 프로젝트가 종료되어 일정을 추가할 수 없습니다 (읽기 전용)"})}),(0,v.jsxs)("label",{className:`flex items-center gap-2 text-sm select-none ${p?"cursor-not-allowed opacity-60":"cursor-pointer"}`,children:[(0,v.jsx)("input",{type:"checkbox",checked:g,onChange:a=>n(a.target.checked),disabled:p,className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600  text-main-600 focus:ring-main-500 dark:bg-gray-700 disabled:cursor-not-allowed"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"시간 지정"})]}),g&&(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,v.jsx)(ck,{label:"시작 시간",value:c,onChange:l,disabled:p}),(0,v.jsx)(ck,{label:"종료 시간",value:d,onChange:m,disabled:p})]})]})}function ck({label:a,value:b,onChange:c,disabled:d}){let[e,f]=(0,w.useState)(!1),[g,h]=(0,w.useState)(b),i=(0,w.useRef)(null),j=Array.from({length:15},(a,b)=>(b+9).toString().padStart(2,"0")),[k,l]=b?b.split(":"):["09","00"];(0,w.useEffect)(()=>{h(b)},[b]),(0,w.useEffect)(()=>{let a=a=>{i.current&&!i.current.contains(a.target)&&f(!1)};return e&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e]);let m=(a,b)=>{let d=`${a}:${b}`;h(d),c(d)};return(0,v.jsxs)("div",{ref:i,className:"relative",children:[(0,v.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:a}),(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)("input",{type:"text",value:g,onChange:a=>{let b=a.target.value.replace(/[^0-9:]/g,"");4!==b.length||b.includes(":")||(b=b.slice(0,2)+":"+b.slice(2)),h(b),/^([0-1][0-9]|2[0-3]):([0-5][0-9])$/.test(b)&&c(b)},onKeyDown:a=>{"ArrowDown"===a.key||"Enter"===a.key?(a.preventDefault(),f(!0)):"Escape"===a.key&&f(!1)},onFocus:()=>f(!0),onBlur:()=>{g&&!g.match(/^([0-1][0-9]|2[0-3]):([0-5][0-9])$/)&&h(b)},placeholder:"09:00",disabled:d,className:`
            w-full h-10 pl-3 pr-10
            border border-gray-300 dark:border-gray-600 rounded-lg 
            input-focus-style
            bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
            placeholder:text-gray-400 dark:placeholder:text-gray-500
            disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed disabled:opacity-60
            text-sm transition-all
          `}),(0,v.jsx)(R,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4  text-gray-400 dark:text-gray-500 pointer-events-none"})]}),e&&!d&&(0,v.jsxs)("div",{className:"absolute z-50 mt-1 w-full bg-white dark:bg-gray-800  border border-gray-200 dark:border-gray-700  rounded-lg shadow-lg p-3",onMouseDown:a=>a.preventDefault(),children:[(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 font-medium",children:"시간 선택"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"시"}),(0,v.jsx)("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded",children:j.map(a=>(0,v.jsx)("div",{onClick:()=>m(a,l),className:`px-2 py-1.5 text-sm cursor-pointer text-center
                      ${k===a?"bg-main-50 dark:bg-main-900/30 text-main-600 dark:text-main-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:a},a))})]}),(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"분"}),(0,v.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded",children:["00","15","30","45"].map(a=>(0,v.jsx)("div",{onClick:()=>m(k,a),className:`px-2 py-1.5 text-sm cursor-pointer text-center
                      ${l===a?"bg-main-50 dark:bg-main-900/30 text-main-600 dark:text-main-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:a},a))})]})]})]})]})}let cl=()=>{let[a,b]=(0,w.useState)(!1),[c,d]=(0,w.useState)(void 0),[e,f]=(0,w.useState)(void 0),[g,h]=(0,w.useState)(void 0),[i,j]=(0,w.useState)(void 0),k=(0,w.useCallback)((a,c,e,g)=>{d(a),f(c),h(e),b(!0),j(g)},[]),l=(0,w.useCallback)(()=>{b(!1),d(void 0),f(void 0),h(void 0),j(void 0)},[]);return{openModal:k,closeModal:l,modalProps:{type:c,isOpen:a,onClose:l,title:e,description:g,warning:i}}},cm=({subtasks:a,editable:b=!1,onUpdate:c,disabled:d=!1})=>{let[e,f]=(0,w.useState)(null),[g,h]=(0,w.useState)(""),[i,j]=(0,w.useState)(""),[k,l]=(0,w.useState)(!1),[m,n]=(0,w.useState)(null),{modalProps:o,openModal:p,closeModal:q}=cl(),r=a.filter(a=>a.completed).length,s=d=>{b&&c&&g.trim()&&(c(a.map(a=>a.id===d?{...a,title:g}:a)),f(null),h(""))},t=()=>{f(null),h("")},u=()=>{b&&c&&i.trim()&&!d&&(c([...a,{id:`subtask-${Date.now()}`,title:i,completed:!1}]),j(""),l(!1))};if(!b){let b=a.length>0?Math.round(r/a.length*100):0;return(0,v.jsxs)("div",{className:"mb-3 p-2 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,v.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"하위 작업"}),(0,v.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r,"/",a.length]})]}),(0,v.jsx)("div",{className:"mb-2 h-1.5 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,v.jsx)("div",{className:"h-full bg-main-500 dark:bg-main-400 transition-all duration-300",style:{width:`${b}%`}})}),(0,v.jsxs)("div",{className:"space-y-1.5",children:[a.slice(0,2).map(a=>(0,v.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,v.jsx)(B.Icon,{type:a.completed?"circleCheck":"circle",size:16,className:a.completed?"text-main-500":"text-gray-300 dark:text-gray-600"}),(0,v.jsx)("span",{className:a.completed?"line-through text-gray-400 dark:text-gray-500":"text-gray-700 dark:text-gray-300",children:a.title})]},a.id)),a.length>2&&(0,v.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500 pl-6",children:["+",a.length-2,"개 더"]})]})]})}let x=[...a].sort((a,b)=>a.completed===b.completed?0:a.completed?1:-1);return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,v.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["완료 ",r,"/",a.length]}),(0,v.jsx)("div",{className:"flex-1 mx-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,v.jsx)("div",{className:"h-full bg-main-400 dark:bg-main-500 transition-all duration-300",style:{width:`${a.length>0?r/a.length*100:0}%`}})}),(0,v.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.length>0?Math.round(r/a.length*100):0,"%"]})]}),(0,v.jsx)("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:x.map(i=>(0,v.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors group",children:[(0,v.jsx)("input",{type:"checkbox",checked:i.completed,onChange:()=>{var e;return e=i.id,void(!b||!c||d||c(a.map(a=>a.id===e?{...a,completed:!a.completed}:a)))},disabled:d,className:`w-4 h-4 accent-main-500 ${d?"cursor-not-allowed opacity-50":"cursor-pointer"}`}),e===i.id?(0,v.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,v.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),onKeyDown:a=>{"Enter"===a.key&&s(i.id),"Escape"===a.key&&t()},autoFocus:!0,className:"flex-1 px-2 py-1 text-sm border border-main-300 dark:border-main-600 rounded input-focus-style dark:bg-gray-800 dark:text-gray-200"}),(0,v.jsx)("button",{onClick:()=>s(i.id),className:"text-green-600 hover:text-green-700 dark:text-green-500 dark:hover:text-green-400",children:(0,v.jsx)(B.Icon,{type:"circleCheck",size:18})}),(0,v.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,v.jsx)(B.Icon,{type:"x",size:18})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:`flex-1 text-sm ${i.completed?"line-through text-gray-400 dark:text-gray-500":"text-gray-700 dark:text-gray-300"}`,children:i.title}),!d&&(0,v.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 flex items-center gap-1 transition-opacity",children:[(0,v.jsx)("button",{onClick:()=>{!d&&(f(i.id),h(i.title))},className:"text-gray-400 hover:text-main-500 dark:text-gray-500 dark:hover:text-main-400",children:(0,v.jsx)(B.Icon,{type:"edit",size:16})}),(0,v.jsx)("button",{onClick:()=>{var a;return a=i.id,void(b&&c&&!d&&(n(a),p("delete","하위 작업 삭제","이 하위 작업을 삭제하시겠습니까?")))},className:"text-gray-400 hover:text-red-500 dark:text-gray-500 dark:hover:text-red-400",children:(0,v.jsx)(B.Icon,{type:"trash",size:16})})]})]})]},i.id))}),k?(0,v.jsxs)("div",{className:"flex items-center gap-2 mt-3 p-2 border border-main-300 dark:border-main-600 rounded dark:bg-gray-800",children:[(0,v.jsx)(B.Icon,{type:"plus",size:16,className:"text-gray-400 dark:text-gray-500"}),(0,v.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),onKeyDown:a=>{"Enter"===a.key&&u(),"Escape"===a.key&&(l(!1),j(""))},placeholder:"하위 작업 제목",autoFocus:!0,className:"flex-1 text-sm focus:outline-none dark:bg-gray-800 dark:text-gray-200 dark:placeholder-gray-500"}),(0,v.jsx)("button",{onClick:u,className:"text-green-600 hover:text-green-700 dark:text-green-500 dark:hover:text-green-400",children:(0,v.jsx)(B.Icon,{type:"circleCheck",size:18})}),(0,v.jsx)("button",{onClick:()=>{l(!1),j("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,v.jsx)(B.Icon,{type:"x",size:18})})]}):!d&&(0,v.jsx)(A.default,{variant:"basic",icon:"plus",onClick:()=>l(!0),className:"mt-3 w-full",children:"하위 작업 추가"}),(0,v.jsx)(G,{...o,onConfirm:()=>{m&&c&&(c(a.filter(a=>a.id!==m)),n(null),q())}})]})};function cn({subtasks:a,onUpdate:b,disabled:c=!1}){return(0,v.jsxs)("div",{children:[(0,v.jsx)(H,{icon:"checkList",title:"하위 할 일"}),(0,v.jsx)(cm,{subtasks:a,editable:!c,onUpdate:b,disabled:c})]})}var co=a.i(19538);function cp({userName:a,profileImage:b,size:c=32,className:d="",onImageError:e}){let[f,g]=(0,w.useState)(!1),h=[`w-${Math.ceil(c/4)} h-${Math.ceil(c/4)}`,"rounded-full","bg-main-200 dark:bg-main-700","flex items-center justify-center","overflow-hidden",d].filter(Boolean).join(" ");return(0,v.jsx)("div",{className:h,style:{width:c,height:c},children:!b||b.includes("default-user")||b.includes("placeholder")||f?(0,v.jsx)("span",{className:`font-medium text-main-600 dark:text-main-300 ${c<=24?"text-xs":c<=32?"text-sm":c<=48?"text-base":"text-lg"}`,children:a?.charAt(0)?.toUpperCase()||"?"}):(0,v.jsx)(co.default,{src:b,alt:a,width:c,height:c,className:"w-full h-full object-cover",onError:()=>{g(!0),e?.()}})})}function cq({icon:a="inbox",iconSize:b=24,title:c,description:d,info:e,action:f,variant:g="default",className:h=""}){return(0,v.jsxs)("div",{className:`text-center ${(()=>{switch(g){case"dashed":return"p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800";case"minimal":return"p-2";default:return"p-4 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800"}})()} ${h}`,children:[(0,v.jsx)(B.Icon,{type:a,size:b,className:"mx-auto mb-2 text-gray-400 dark:text-gray-500"}),(0,v.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:c}),d&&(0,v.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:d}),e&&(0,v.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:e}),f&&(0,v.jsx)("div",{className:"mt-3",children:f})]})}function cr(a){return(0,v.jsx)(cq,{icon:"userPlus",title:"아직 팀원이 없어요",info:"관리자에게 팀원 초대를 요청해보세요",variant:"dashed",...a})}function cs({value:a,disabled:b=!1,onChange:c,placeholder:d="담당자 이름을 입력하세요",isEditing:e=!1,isLoading:f=!1,members:g,onEdit:h,onBlur:i,onCancel:j}){let[k,l]=(0,w.useState)(!1),[m,n]=(0,w.useState)(""),o=g?.find(b=>b.user_id===a),p=(g||[]).filter(a=>{if(!m)return!0;let b=m.toLowerCase(),c=a.users?.user_name?.toLowerCase()||"",d=a.users?.email?.toLowerCase()||"",e=a.user_id?.toLowerCase()||"";return c.includes(b)||d.includes(b)||e.includes(b)}),q=(a,b)=>{c(a),n(b),l(!1),i?.()};return void 0!==e&&!0!==e&&h?(0,v.jsxs)("div",{children:[(0,v.jsxs)("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,v.jsx)(B.Icon,{type:"userCircle",size:16,className:"text-gray-500 dark:text-gray-400"}),"담당자"]}),f?(0,v.jsxs)("div",{className:"p-2 flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[(0,v.jsx)(B.Icon,{type:"loading",size:16,className:"animate-spin"}),(0,v.jsx)("span",{className:"text-sm",children:"담당자 정보를 불러오는 중..."})]}):a?(0,v.jsx)("div",{onClick:h,className:"cursor-pointer rounded transition-colors hover:bg-gray-50 dark:hover:bg-gray-600",children:(0,v.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,v.jsx)(cp,{userName:o?.users?.user_name||"",profileImage:o?.users?.profile_image,size:32}),(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[o?.users?.user_name,(0,v.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",o?.role,")"]})]}),(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:o?.users?.email})]})]})}):(0,v.jsx)("div",{children:0===(g||[]).length?(0,v.jsx)(cr,{iconSize:16}):(0,v.jsx)("p",{onClick:h,className:"p-2 rounded transition-colors cursor-pointer text-gray-400 dark:text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700",children:"클릭하여 담당자 추가"})})]}):(0,v.jsxs)("div",{children:[(0,v.jsxs)("h3",{className:"text-sm font-semibold  mb-2 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,v.jsx)(B.Icon,{type:"userCircle",size:16,className:"text-gray-500 dark:text-gray-400"}),"담당자"]}),(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(B.Icon,{type:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400 dark:text-gray-500"}),(0,v.jsx)("input",{type:"text",value:m||"",onChange:a=>{n(a.target.value),l(!0)},onFocus:()=>{l(!0),o&&n(o.users.user_name)},onBlur:()=>{setTimeout(()=>l(!1),200),i?.()},onKeyDown:a=>{"Enter"===a.key&&p.length>0&&q(p[0].user_id,p[0].users.user_name),"Escape"===a.key&&(j?.(),l(!1),n(""))},autoFocus:e,className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg input-focus-style bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:f?"불러오는 중...":d,disabled:b||f})]}),k&&(0,v.jsxs)("div",{className:"absolute left-0 right-0 top-full mt-1 z-50",children:[f&&(0,v.jsx)("div",{className:"p-2 text-center text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:"불러오는 중..."}),!f&&0===(g||[]).length&&(0,v.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg p-3",children:(0,v.jsx)(cr,{iconSize:16})}),!f&&p.length>0&&(0,v.jsx)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg max-h-[120px] overflow-y-auto bg-white dark:bg-gray-800 shadow-lg",children:p.map(a=>(0,v.jsxs)("div",{onMouseDown:b=>{b.preventDefault(),q(a.user_id,a.users.user_name)},className:"flex items-center gap-3 px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[(0,v.jsx)(cp,{userName:a.users.user_name,profileImage:a.users.profile_image,size:32}),(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[a.users.user_name,(0,v.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",a.role,")"]})]}),(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.users.email})]})]},a.user_id))}),!f&&0===p.length&&m&&(0,v.jsxs)("div",{className:"p-2 text-center text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:['"',m,'"와 일치하는 팀원이 없어요']})]}),o&&!k&&(0,v.jsx)("div",{className:"mt-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800",children:(0,v.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2",children:[(0,v.jsx)(cp,{userName:o?.users?.user_name||"",profileImage:o?.users?.profile_image,size:32,onImageError:()=>{o?.user_id}}),(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[o.users.user_name,(0,v.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",o.role,")"]})]}),(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:o.users.email})]}),(0,v.jsx)("button",{type:"button",onClick:()=>{c(""),n("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,v.jsx)(B.Icon,{type:"x",size:16})})]})})]})]})}let ct={title:"",description:"",status:"todo",priority:"normal",assigned_user_id:"",started_at:"",ended_at:"",start_time:"",end_time:"",use_time:!1,memo:"",subtasks:[]},cu=a=>a.trim()||void 0;function cv({boardId:a,projectId:b,projectStartedAt:c,projectEndedAt:d,onSuccess:e,onCancel:f,initialStartDate:g,initialEndDate:h,initialStartTime:i,initialEndTime:j,initialUseTime:k}){let[l,m]=(0,w.useState)({...ct,started_at:g||"",ended_at:h||"",start_time:i||"",end_time:j||"",use_time:k||!1}),[n,o]=(0,w.useState)({}),[p,q]=(0,w.useState)(!1),[r,s]=(0,w.useState)(!1),[t,u]=(0,w.useState)(null),x=!!d&&new Date().toISOString().split("T")[0]>d;(0,w.useEffect)(()=>{(async()=>{s(!0);try{let a=await fetch(`/api/projectMembers/forAssignment?projectId=${b}`);if(!a.ok)throw Error("프로젝트 멤버를 불러오는 데 실패했습니다.");let c=await a.json();u(c.data||[])}catch(a){console.error(a),o(a=>({...a,submit:"프로젝트 멤버를 불러오는 데 실패했습니다."}))}finally{s(!1)}})()},[b]);let y=(a,b)=>{m(c=>{let d={...c,[a]:b};if("use_time"===a&&!0===b&&(d.start_time||(d.start_time="09:00"),d.end_time||(d.end_time="18:00")),"use_time"===a&&!1===b&&(d.start_time="",d.end_time=""),("start_time"===a||"end_time"===a)&&(!b||!b.trim())){let b="start_time"===a?d.end_time:d.start_time;b&&b.trim()||(d.use_time=!1)}return d}),n[a]&&o(b=>({...b,[a]:""}))},z=async()=>{let c;if(!p&&(c={},l.title.trim()||(c.title="제목은 필수입니다."),l.started_at&&l.ended_at&&new Date(l.use_time&&l.start_time?`${l.started_at}T${l.start_time}:00`:l.started_at)>new Date(l.use_time&&l.end_time?`${l.ended_at}T${l.end_time}:00`:l.ended_at)&&(c.ended_at="종료 시간은 시작 시간보다 이전일 수 없습니다."),l.use_time&&(l.started_at&&!l.start_time&&(c.start_time="시작 시간을 입력하세요."),l.ended_at&&!l.end_time&&(c.end_time="종료 시간을 입력하세요.")),o(c),0===Object.keys(c).length)){q(!0);try{let c=l.started_at?`${l.started_at}T00:00:00`:void 0,d=l.ended_at?`${l.ended_at}T00:00:00`:void 0,f={kanban_board_id:a,project_id:b,title:l.title.trim(),description:cu(l.description),status:l.status,priority:l.priority,assigned_user_id:cu(l.assigned_user_id),started_at:c,ended_at:d,start_time:l.use_time?l.start_time:null,end_time:l.use_time?l.end_time:null,use_time:l.use_time,memo:cu(l.memo),subtasks:l.subtasks.length>0?l.subtasks:void 0};e?.(f)}catch(a){console.error("작업 생성 실패:",a),o({submit:"작업 생성에 실패했습니다. 다시 시도해주세요."})}finally{q(!1)}}};return(0,v.jsxs)("div",{className:"task-form-layout",children:[(0,v.jsx)("div",{className:"pb-4 mb-4 border-b border-gray-200 dark:border-gray-700 shrink-0",children:(0,v.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"새 작업 추가"})}),(0,v.jsxs)("div",{className:"task-form-content space-y-5",children:[n.submit&&(0,v.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,v.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:n.submit})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("input",{type:"text",value:l.title,onChange:a=>y("title",a.target.value),className:`w-full px-3 py-2.5 border rounded-lg input-focus-style bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${n.title?"border-red-500 dark:border-red-600":"border-gray-300 dark:border-gray-600"}`,placeholder:"작업 제목을 입력하세요",autoFocus:!0,disabled:p}),n.title&&(0,v.jsxs)("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1 pl-1",children:["* ",n.title]})]}),(0,v.jsx)(P,{status:l.status,priority:l.priority,onStatusChange:a=>y("status",a),onPriorityChange:a=>y("priority",a)}),(0,v.jsx)(I,{icon:"description",title:"설명",children:(0,v.jsx)("textarea",{value:l.description,onChange:a=>y("description",a.target.value),className:"w-full px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg input-focus-style min-h-[100px] bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"설명을 입력하세요",disabled:p})}),(0,v.jsx)(cs,{value:l.assigned_user_id,disabled:p,onChange:a=>y("assigned_user_id",a),isLoading:r,members:t}),(0,v.jsx)(I,{icon:"calendar",title:"기간",children:(0,v.jsx)(cj,{startDate:l.started_at,endDate:l.ended_at,startTime:l.start_time,endTime:l.end_time,useTime:l.use_time,projectStartedAt:c,projectEndedAt:d,disabled:p,onStartDateChange:a=>y("started_at",a),onEndDateChange:a=>y("ended_at",a),onStartTimeChange:a=>y("start_time",a),onEndTimeChange:a=>y("end_time",a),onUseTimeChange:a=>y("use_time",a)})}),(0,v.jsx)(cn,{subtasks:l.subtasks,onUpdate:a=>y("subtasks",a)}),(0,v.jsx)(I,{icon:"notes",title:"메모",children:(0,v.jsx)("textarea",{value:l.memo,onChange:a=>y("memo",a.target.value),className:"w-full px-3 py-2.5 border border-yellow-300 dark:border-yellow-700/50 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg input-focus-style min-h-20 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"메모를 입력하세요",disabled:p})})]}),(0,v.jsxs)("div",{className:"task-form-footer flex justify-end gap-3 pt-4 bg-white dark:bg-gray-800",children:[(0,v.jsx)(A.default,{btnType:"basic",variant:"basic",onClick:f,disabled:p,children:"취소"}),(0,v.jsx)(A.default,{btnType:"form",variant:"primary",onClick:z,disabled:p||x,children:p?"생성 중...":x?"프로젝트 종료됨":"작업 추가"})]})]})}var cw=a.i(33653);let cx=a=>{if(!a)return{date:"",time:"",hasTime:!1};let[b,c]=a.split("T"),[d,e]=c.split(":");return{date:b,time:`${d}:${e}`,hasTime:"00"!==d||"00"!==e}};function cy({task:a,projectStartedAt:b,projectEndedAt:c,onUpdate:d,onDelete:e,onClose:f}){let g=cx(a.started_at),h=cx(a.ended_at),i={...a,started_at:g.date,ended_at:h.date,start_time:g.time,end_time:h.time,use_time:g.hasTime||h.hasTime},[j,k]=(0,w.useState)(i),[l,m]=(0,w.useState)(null),[n,o]=(0,w.useState)(!1),[p,q]=(0,w.useState)(!1),[r,s]=(0,w.useState)(null),{openModal:t,modalProps:u}=cl(),x=!!c&&new Date().toISOString().split("T")[0]>c;(0,w.useEffect)(()=>{(async()=>{if(!a.project_id)return console.warn("프로젝트 ID가 없습니다.");o(!0);try{let b=await fetch(`/api/projectMembers/forAssignment?projectId=${a.project_id}`);if(!b.ok){let a=await b.json().catch(()=>({}));throw Error(a.error||`HTTP ${b.status}: 프로젝트 멤버를 불러오는 데 실패했습니다.`)}let c=await b.json();c.data?s(c.data):(console.warn("프로젝트 멤버 데이터가 없습니다:",c),s([]))}catch(a){console.error("프로젝트 멤버 조회 에러:",a),s([])}finally{o(!1)}})()},[a.project_id,a.id,a.assigned_user_id,a.title,a.kanban_board_id]);let y=()=>{let b=cx(a.started_at),c=cx(a.ended_at);return j.title!==a.title||(j.description||"")!==(a.description||"")||j.status!==a.status||(j.priority||"normal")!==(a.priority||"normal")||(j.assigned_user_id||null)!==(a.assigned_user_id||null)||j.started_at!==b.date||j.ended_at!==c.date||(j.use_time||!1)!==(b.hasTime||c.hasTime)||!!j.use_time&&j.start_time!==b.time||!!j.use_time&&j.end_time!==c.time||(j.memo||"")!==(a.memo||"")||JSON.stringify(j.subtasks||[])!==JSON.stringify(a.subtasks||[])},z=(a,b)=>{k(c=>{let d={...c,[a]:b};if("use_time"===a&&!0===b&&(d.start_time||(d.start_time="09:00"),d.end_time||(d.end_time="18:00")),"use_time"===a&&!1===b&&(d.start_time="",d.end_time=""),("start_time"===a||"end_time"===a)&&(!b||!b.trim())){let b="start_time"===a?d.end_time:d.start_time;b&&b.trim()||(console.log(`⏰ TaskDetail 시간 모두 삭제됨, use_time을 false로 설정`),d.use_time=!1)}return d})},A=async()=>{if(y())try{let b=j.started_at?`${j.started_at}T00:00:00`:null,c=j.ended_at?`${j.ended_at}T00:00:00`:null,e={...{title:j.title,description:j.description,status:j.status,priority:j.priority,assigned_user_id:j.assigned_user_id,started_at:b,ended_at:c,start_time:j.use_time?j.start_time:null,end_time:j.use_time?j.end_time:null,use_time:j.use_time||!1,memo:j.memo,subtasks:j.subtasks,updated_at:new Date().toISOString()}};delete e.id,delete e.created_at,delete e.kanban_boards,await d?.(a.id,e),(0,cw.showToast)("작업이 저장되었습니다.","success"),setTimeout(()=>{f?.()},500)}catch(a){console.error("작업 저장 중 오류:",a),(0,cw.showToast)("작업 저장에 실패했습니다.","error")}},B=async()=>{try{await e?.(a.id),t("deleteSuccess","작업 삭제 완료","선택한 작업이 삭제되었습니다."),setTimeout(()=>{f?.()},5e3)}catch(a){console.error("작업 삭제 중 오류:",a),t("error","삭제 실패","작업 삭제 중 오류가 발생했습니다.")}};return(0,v.jsxs)("div",{className:"task-form-layout",children:[(0,v.jsx)("div",{className:"shrink-0",children:(0,v.jsx)(cz,{createdAt:a.created_at,updatedAt:a.updated_at})}),(0,v.jsxs)("div",{className:"task-form-content space-y-5 mt-4",children:[(0,v.jsx)(cA,{value:j.title,isEditing:"title"===l,isProjectEnded:x,onEdit:()=>!x&&m("title"),onChange:a=>z("title",a),onBlur:()=>m(null),onCancel:()=>{k(a),m(null)}}),(0,v.jsx)(P,{status:j.status,priority:j.priority||"normal",disabled:x,onStatusChange:a=>!x&&z("status",a),onPriorityChange:a=>!x&&z("priority",a)}),(0,v.jsx)(I,{icon:"description",title:"설명",children:(0,v.jsx)(cB,{value:j.description,isEditing:"description"===l,isProjectEnded:x,onEdit:()=>!x&&m("description"),onChange:a=>z("description",a),onBlur:()=>m(null),onCancel:()=>{k(a),m(null)}})}),(0,v.jsx)(cs,{value:j.assigned_user_id,isEditing:"assigned_user_id"===l,isLoading:n||p,members:r,disabled:x,onEdit:()=>!x&&m("assigned_user_id"),onChange:a=>z("assigned_user_id",a),onBlur:()=>m(null),onCancel:()=>{k(a),m(null)}}),(0,v.jsx)(I,{icon:"calendar",title:"기간",children:(0,v.jsx)(cj,{startDate:j.started_at||"",endDate:j.ended_at||"",startTime:j.start_time||"",endTime:j.end_time||"",useTime:j.use_time||!1,projectStartedAt:b,projectEndedAt:c,onStartDateChange:a=>z("started_at",a),onEndDateChange:a=>z("ended_at",a),onStartTimeChange:a=>z("start_time",a),onEndTimeChange:a=>z("end_time",a),onUseTimeChange:a=>z("use_time",a)})}),(0,v.jsx)(cn,{subtasks:j.subtasks||[],onUpdate:x?void 0:a=>z("subtasks",a),disabled:x}),(0,v.jsx)(I,{icon:"notes",title:"메모",children:(0,v.jsx)(cC,{value:j.memo,isEditing:"memo"===l,isProjectEnded:x,onEdit:()=>!x&&m("memo"),onChange:a=>z("memo",a),onBlur:()=>m(null),onCancel:()=>{k(a),m(null)}})})]}),(0,v.jsx)("div",{className:"task-form-footer bg-white dark:bg-gray-800",children:(0,v.jsx)(cD,{hasChanges:y(),isProjectEnded:x,onCancel:()=>k(a),onSave:A,onDelete:()=>{t("delete","작업 삭제","정말 삭제하시겠습니까?")}})}),(0,v.jsx)(G,{...u,onConfirm:B})]})}function cz({createdAt:a,updatedAt:b}){let c=a=>new Date(a).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,v.jsx)("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700",children:(0,v.jsxs)("div",{className:"flex flex-col gap-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(B.Icon,{type:"clock",size:16,className:"text-gray-400 dark:text-gray-500"}),(0,v.jsx)("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"생성:"}),(0,v.jsx)("span",{children:c(a)})," "]}),a!==b&&(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(B.Icon,{type:"edit",size:16,className:"text-gray-400 dark:text-gray-500"}),(0,v.jsx)("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"수정:"}),(0,v.jsx)("span",{children:c(b)})," "]})]})})}function cA({value:a,isEditing:b,onEdit:c,onChange:d,onBlur:e,onCancel:f}){return b?(0,v.jsx)("input",{type:"text",value:a,onChange:a=>d(a.target.value),onBlur:e,onKeyDown:a=>{"Enter"===a.key&&e(),"Escape"===a.key&&f()},autoFocus:!0,className:"text-2xl font-bold text-gray-800 dark:text-gray-200 w-full border-b-2 border-main-300 dark:border-main-600 focus:outline-none pb-2 bg-transparent"}):(0,v.jsxs)("h2",{onClick:c,className:"text-2xl font-bold text-gray-800 dark:text-gray-200 cursor-pointer hover:text-main-500 dark:hover:text-main-400 transition-colors flex items-center gap-2",children:[(0,v.jsx)(B.Icon,{type:"edit",size:20,className:"text-gray-600 dark:text-gray-400"}),a]})}function cB({value:a,isEditing:b,onEdit:c,onChange:d,onBlur:e,onCancel:f}){return b?(0,v.jsx)("textarea",{value:a||"",onChange:a=>d(a.target.value),onBlur:e,onKeyDown:a=>{"Escape"===a.key&&f()},autoFocus:!0,className:"w-full px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg input-focus-style min-h-[100px] bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}):(0,v.jsx)("p",{onClick:c,className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 p-3 rounded-lg min-h-[60px] transition-colors border border-transparent hover:border-gray-200 dark:hover:border-gray-600",children:a||(0,v.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"클릭하여 설명 추가"})})}function cC({value:a,isEditing:b,onEdit:c,onChange:d,onBlur:e,onCancel:f}){return b?(0,v.jsx)("textarea",{value:a||"",onChange:a=>d(a.target.value),onBlur:e,onKeyDown:a=>{"Escape"===a.key&&f()},autoFocus:!0,className:"w-full px-3 py-2.5 border border-yellow-300 dark:border-yellow-700/50 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg input-focus-style min-h-20 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}):a?(0,v.jsx)("div",{onClick:c,className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700/50 rounded-lg p-4 cursor-pointer hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors",children:(0,v.jsx)("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:a})}):(0,v.jsx)("p",{onClick:c,className:"text-gray-400 dark:text-gray-500 cursor-pointer hover:bg-yellow-50 dark:hover:bg-yellow-900/20 p-4 border border-dashed border-yellow-300 dark:border-yellow-700/50 rounded-lg transition-colors",children:"클릭하여 메모 추가"})}function cD({hasChanges:a,isProjectEnded:b,onCancel:c,onSave:d,onDelete:e}){return(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)(A.default,{btnType:"form_s",variant:"warning",onClick:e,disabled:b,children:b?"프로젝트 종료됨":"삭제"}),a&&(0,v.jsxs)("div",{className:"flex gap-3",children:[(0,v.jsx)(A.default,{btnType:"basic",variant:"basic",onClick:c,children:"취소"}),(0,v.jsx)(A.default,{btnType:"form",variant:"primary",onClick:d,disabled:b,children:b?"프로젝트 종료됨":"저장"})]})]})}let cE={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}};var cF=a.i(89786);let cG={date:(0,cF.buildFormatLongFn)({formats:{full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},defaultWidth:"full"}),time:(0,cF.buildFormatLongFn)({formats:{full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,cF.buildFormatLongFn)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},cH={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"};var cI=a.i(68170);let cJ={ordinalNumber:(a,b)=>{let c=Number(a);switch(String(b?.unit)){case"minute":case"second":return String(c);case"date":return c+"일";default:return c+"번째"}},era:(0,cI.buildLocalizeFn)({values:{narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},defaultWidth:"wide"}),quarter:(0,cI.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:(0,cI.buildLocalizeFn)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},defaultWidth:"wide"}),day:(0,cI.buildLocalizeFn)({values:{narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},defaultWidth:"wide"}),dayPeriod:(0,cI.buildLocalizeFn)({values:{narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},defaultWidth:"wide",formattingValues:{narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},defaultFormattingWidth:"wide"})};var cK=a.i(35256);let cL={code:"ko",formatDistance:(a,b,c)=>{let d,e=cE[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",b.toString()),c?.addSuffix)if(c.comparison&&c.comparison>0)return d+" 후";else return d+" 전";return d},formatLong:cG,formatRelative:(a,b,c,d)=>cH[a],localize:cJ,match:{ordinalNumber:(0,a.i(46646).buildMatchPatternFn)({matchPattern:/^(\d+)(일|번째)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)}),era:(0,cK.buildMatchFn)({matchPatterns:{narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(bc|기원전)/i,/^(ad|서기)/i]},defaultParseWidth:"any"}),quarter:(0,cK.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:(0,cK.buildMatchFn)({matchPatterns:{narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:(0,cK.buildMatchFn)({matchPatterns:{narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},defaultMatchWidth:"wide",parsePatterns:{any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},defaultParseWidth:"any"}),dayPeriod:(0,cK.buildMatchFn)({matchPatterns:{any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},cM={month:"월간뷰",week:"주간뷰",day:"일간뷰",agenda:"일정뷰"};function cN({projectName:a,projectStartedAt:b,projectEndedAt:c,currentView:d,currentDate:e,eventsCount:f,showHelp:g,showFilter:h,onToggleHelp:i,onToggleFilter:j,onAddTask:k,onProjectInfoClick:l}){console.log(a);let m=(()=>{let a,d,e;if(!b||!c)return null;let f=new Date(b),g=new Date(c),h=new Date;h.setHours(0,0,0,0);let i=f.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),j=g.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),k=Math.ceil((g.getTime()-h.getTime())/864e5),l=Math.ceil((f.getTime()-h.getTime())/864e5);return h<f?(a="before",d=`시작 D-${l}`,e="bg-blue-500 text-white"):h>g?(a="ended",d="종료",e="bg-red-500 text-white"):k<=3?(a="warning",d=`D-${k} ⚠️`,e="bg-orange-500 text-white"):(a="active",d=`D-${k}`,e="bg-white/20 text-white"),{startStr:i,endStr:j,remainingDays:k,status:a,badgeText:d,badgeColor:e}})();return(0,v.jsx)("div",{className:"px-3 sm:px-6 py-3 sm:py-4 mb-2 sm:mb-4 border-b border-gray-200 dark:border-gray-500 bg-main-200 dark:bg-main-600 shadow-sm",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-white dark:text-gray-100",children:a||"캘린더"}),l&&(0,v.jsx)("button",{onClick:l,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",title:"프로젝트 정보",children:(0,v.jsx)("svg",{className:"w-5 h-5 text-white/80 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),m&&(0,v.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/80 dark:text-gray-200",children:[(0,v.jsx)("span",{children:"|"}),(0,v.jsxs)("span",{children:[m.startStr," ~ ",m.endStr]}),(0,v.jsx)("span",{className:`px-2 py-0.5 rounded-full font-medium ${m.badgeColor}`,children:m.badgeText})]}),m?.status==="ended"&&(0,v.jsxs)("div",{className:"flex items-center gap-1.5 text-xs bg-sky-100 dark:bg-sky-900/50 text-sky-700 dark:text-sky-200 px-2.5 py-1 rounded-md border border-sky-300 dark:border-sky-700",children:[(0,v.jsx)("svg",{className:"w-4 h-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,v.jsx)("span",{className:"font-medium",children:"이 프로젝트는 종료되었습니다. 일정 추가/수정이 제한됩니다."})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,v.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:(0,v.jsx)("div",{className:"px-2 py-1 bg-white/20 rounded-full text-xs text-white font-medium",children:d in cM?cM[d]:d})}),(0,v.jsxs)("div",{className:"text-sm font-medium text-white/90 dark:text-gray-200 text-right",children:[(0,v.jsxs)("div",{children:[f,"개 일정"]}),(0,v.jsx)("div",{className:"text-xs text-white/70 dark:text-gray-300",children:(()=>{switch(d){case"month":return(0,y.format)(e,"yyyy년 M월",{locale:cL});case"week":return(0,y.format)(e,"M월 d일 주",{locale:cL});case"day":return(0,y.format)(e,"M월 d일 (E)",{locale:cL});case"agenda":return"전체 일정";default:return""}})()})]}),k&&(0,v.jsxs)("button",{onClick:()=>{if(b&&c){let a=new Date().toISOString().split("T")[0];if(a<b)return void(0,cw.showToast)("아직 프로젝트가 시작되지 않았습니다.","warning");if(a>c)return void(0,cw.showToast)("종료된 프로젝트입니다.","warning")}k?.()},className:"px-3 sm:px-4 py-2 bg-main-400 dark:bg-main-500 text-white rounded-lg hover:bg-main-500 dark:hover:bg-main-400 active:bg-main-600 dark:active:bg-main-600 transition-all text-xs sm:text-sm font-medium shadow-sm",children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"+ 새 작업"}),(0,v.jsx)("span",{className:"sm:hidden",children:"+"})]}),j&&(0,v.jsx)("button",{onClick:j,className:`p-1.5 sm:p-2 hover:bg-white/20 rounded-lg transition-colors ${h?"bg-white/20":""}`,title:"필터",children:(0,v.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})})}),(0,v.jsx)("button",{onClick:i,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:g?"도움말 닫기":"도움말 열기",children:(0,v.jsx)("svg",{className:`w-4 h-4 text-white transition-transform duration-300 ${g?"scale-110":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})})}function cO(){return(0,v.jsx)("div",{className:"mx-2 sm:mx-4 mb-2 sm:mb-4 px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-2 sm:gap-x-4 sm:gap-y-2",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between sm:justify-start sm:gap-4",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:[(0,v.jsx)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-main-500 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,v.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,v.jsx)("span",{className:"font-medium",children:"사용법"})]}),(0,v.jsxs)("div",{className:"flex sm:hidden items-center gap-2 text-[10px] text-gray-500 dark:text-gray-400",children:[(0,v.jsxs)("div",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded"}),(0,v.jsx)("span",{children:"할일"})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 bg-blue-400 rounded"}),(0,v.jsx)("span",{children:"진행"})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded"}),(0,v.jsx)("span",{children:"완료"})]})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 text-[10px] sm:text-xs text-gray-600 dark:text-gray-400",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-gray-400",children:"•"}),(0,v.jsx)("span",{children:"더블클릭: 추가"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-gray-400",children:"•"}),(0,v.jsx)("span",{children:"드래그: 기간선택"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-gray-400",children:"•"}),(0,v.jsx)("span",{children:"클릭: 상세보기"})]})]}),(0,v.jsx)("div",{className:"hidden sm:block h-4 w-px bg-gray-300 dark:bg-gray-600"}),(0,v.jsxs)("div",{className:"hidden sm:flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-[10px] font-mono",children:"←→"}),(0,v.jsx)("span",{children:"날짜 이동"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-[10px] font-mono",children:"ESC"}),(0,v.jsx)("span",{children:"닫기"})]})]}),(0,v.jsxs)("div",{className:"hidden sm:flex ml-auto items-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded"}),(0,v.jsx)("span",{children:"할일"})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-blue-400 rounded"}),(0,v.jsx)("span",{children:"진행중"})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,v.jsx)("span",{children:"완료"})]})]})]})})}var cP=a.i(36960);let cQ=(0,Q.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function cR({tasks:a,compact:b=!1}){let c=(0,w.useMemo)(()=>{let b=new Date,c=(0,y.format)(b,"yyyy-MM-dd"),d=(0,y.format)((0,cP.addDays)(b,3),"yyyy-MM-dd");return{todo:a.filter(a=>"todo"===a.status).length,inprogress:a.filter(a=>"inprogress"===a.status).length,done:a.filter(a=>"done"===a.status).length,overdue:a.filter(a=>{if("done"===a.status||!a.ended_at)return!1;let d=a.ended_at.split("T")[0];if(d<c)return!0;if(d===c&&a.use_time&&a.end_time){let[c,d]=a.end_time.split(":").map(Number),e=new Date;return e.setHours(c,d,0,0),b>e}return!1}).length,urgent:a.filter(a=>{if("done"===a.status||!a.ended_at||a.ended_at.split("T")[0]!==c)return!1;if(a.use_time&&a.end_time){let[c,d]=a.end_time.split(":").map(Number),e=new Date;return e.setHours(c,d,0,0),b<=e}return!0}).length,upcoming:a.filter(a=>{if("done"===a.status||!a.ended_at)return!1;let b=a.ended_at.split("T")[0];return b>c&&b<=d}).length}},[a]),d=c.todo+c.inprogress+c.done,e=d>0?Math.round(c.done/d*100):0;return b?(0,v.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:c.todo})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:c.inprogress})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:c.done})]}),c.overdue>0&&(0,v.jsxs)("span",{className:"flex items-center gap-1 text-red-500",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,v.jsx)("span",{children:c.overdue})]}),c.urgent>0&&(0,v.jsxs)("span",{className:"flex items-center gap-1 text-orange-500",children:[(0,v.jsx)(cQ,{size:10}),(0,v.jsx)("span",{children:c.urgent})]}),(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,v.jsx)("span",{className:"w-1 h-3 bg-red-500 rounded-sm",title:"지연"}),(0,v.jsx)("span",{className:"w-1 h-3 bg-green-500 rounded-sm",title:"완료"}),(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,v.jsx)("span",{className:"text-red-500",children:"▲"}),(0,v.jsx)("span",{className:"text-yellow-500",children:"▲"}),(0,v.jsx)("span",{className:"text-green-500",children:"▲"})]}),(0,v.jsxs)("div",{className:"ml-auto text-xs font-medium text-gray-700 dark:text-gray-300",children:[e,"% 완료"]})]}):(0,v.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6 text-sm flex-wrap",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"w-3 h-3 rounded-full bg-gray-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"할일"}),(0,v.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:c.todo})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"w-3 h-3 rounded-full bg-blue-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"진행중"}),(0,v.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:c.inprogress})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"}),(0,v.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:c.done})]}),(c.urgent>0||c.upcoming>0||c.overdue>0)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),c.urgent>0&&(0,v.jsxs)("div",{className:"flex items-center gap-1 text-orange-500",children:[(0,v.jsx)(cQ,{size:14}),(0,v.jsxs)("span",{className:"text-xs font-medium",children:["오늘 ",c.urgent]})]}),c.upcoming>0&&(0,v.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-500",children:[(0,v.jsx)(R,{size:14}),(0,v.jsxs)("span",{className:"text-xs font-medium",children:["D-3 이내 ",c.upcoming]})]}),c.overdue>0&&(0,v.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,v.jsx)("span",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,v.jsx)("span",{children:"지연"}),(0,v.jsx)("span",{className:"font-semibold",children:c.overdue})]})]}),(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1",title:"지연된 태스크",children:[(0,v.jsx)("span",{className:"w-1 h-4 bg-red-500 rounded-sm"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"지연"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",title:"완료된 태스크",children:[(0,v.jsx)("span",{className:"w-1 h-4 bg-green-500 rounded-sm"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"})]})]}),(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-red-500",children:"▲"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"높음"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-yellow-500",children:"▲"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"보통"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-green-500",children:"▲"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"낮음"})]})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsx)("div",{className:"hidden sm:block w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,v.jsx)("div",{className:"h-full bg-main-500 transition-all duration-300",style:{width:`${e}%`}})}),(0,v.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[e,"% 완료"]})]})]})}function cS({filter:a,onFilterChange:b,taskCount:c,totalCount:d}){return(0,v.jsx)("div",{className:"mb-4 px-5 py-4 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,v.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4",children:[(0,v.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"우선순위"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)("button",{onClick:()=>b({priority:"all"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===a.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,v.jsx)("button",{onClick:()=>b({priority:"high"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"high"===a.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"높음"}),(0,v.jsx)("button",{onClick:()=>b({priority:"normal"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"normal"===a.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"보통"}),(0,v.jsx)("button",{onClick:()=>b({priority:"low"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"low"===a.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"낮음"})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-4",children:[(0,v.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"담당자"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)("button",{onClick:()=>b({assignee:"all"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===a.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,v.jsx)("button",{onClick:()=>b({assignee:"me"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"me"===a.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"내 작업"}),(0,v.jsx)("button",{onClick:()=>b({assignee:"assigned"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"assigned"===a.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"할당됨"}),(0,v.jsx)("button",{onClick:()=>b({assignee:"unassigned"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"unassigned"===a.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"미할당"})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-4",children:[(0,v.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"기간"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)("button",{onClick:()=>b({date:"all"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===a.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,v.jsx)("button",{onClick:()=>b({date:"today"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"today"===a.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"오늘"}),(0,v.jsx)("button",{onClick:()=>b({date:"thisWeek"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"thisWeek"===a.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"이번주"}),(0,v.jsx)("button",{onClick:()=>b({date:"overdue"}),className:`text-sm px-3 py-1.5 rounded transition-all ${"overdue"===a.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"지연"})]})]}),(0,v.jsx)("div",{className:"pt-3 mt-1 border-t border-gray-200 dark:border-gray-600",children:(0,v.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c,"개 / 전체 ",d,"개"]})})]})})}var cT=a.i(99007),cU=a.i(16462);let cV={month:"월",week:"주",day:"일",agenda:"일정",work_week:"근무주"};function cW({currentDate:a,currentView:b,onNavigate:c,onViewChange:d}){return(0,v.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between px-2 sm:px-4 py-2 gap-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between sm:justify-start gap-2",children:[(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)("button",{onClick:()=>{switch(b){case"month":c((0,cU.addMonths)(a,-1,void 0));break;case"week":default:c((0,cT.addWeeks)(a,-1,void 0));break;case"day":c((0,cP.addDays)(a,-1,void 0))}},className:"p-1.5 sm:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",title:"이전",children:(0,v.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,v.jsx)("button",{onClick:()=>{c(new Date)},className:"px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border-y border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"오늘"}),(0,v.jsx)("button",{onClick:()=>{switch(b){case"month":c((0,cU.addMonths)(a,1));break;case"week":default:c((0,cT.addWeeks)(a,1));break;case"day":c((0,cP.addDays)(a,1))}},className:"p-1.5 sm:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",title:"다음",children:(0,v.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,v.jsx)("span",{className:"text-sm sm:text-lg font-semibold text-gray-800 dark:text-gray-100 sm:ml-2",children:(()=>{switch(b){case"month":default:return(0,y.format)(a,"yyyy년 M월",{locale:cL});case"week":return(0,y.format)(a,"yyyy년 M월 d일 주",{locale:cL});case"day":return(0,y.format)(a,"yyyy년 M월 d일 (E)",{locale:cL});case"agenda":return"전체 일정"}})()})]}),(0,v.jsx)("div",{className:"flex items-center gap-0.5 sm:gap-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md p-0.5 self-center sm:self-auto",children:["month","week","day","agenda"].map(a=>(0,v.jsx)("button",{onClick:()=>d(a),className:`px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium rounded transition-colors ${b===a?"bg-main-500 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:cV[a]},a))})]})}var cX=a.i(65359),cY=a.i(65870);let cZ=a=>{let b={todo:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-l-2 border-gray-400 dark:border-gray-500",inprogress:"bg-blue-100/50 dark:bg-blue-700/40 text-blue-700 dark:text-blue-200 border-l-2 border-blue-400 dark:border-blue-500",done:"bg-green-50 dark:bg-green-900/40 text-green-700 dark:text-green-200 border-l-2 border-green-400 dark:border-green-500"};return b[a]||b.todo},c$=a=>{let b={todo:"bg-gray-400 dark:bg-gray-500",inprogress:"bg-blue-400 dark:bg-blue-500",done:"bg-green-400 dark:bg-green-500"};return b[a]||b.todo},c_=a=>{let b={todo:"bg-gray-50/80 dark:bg-gray-700/50",inprogress:"bg-blue-50/50 dark:bg-blue-900/20",done:"bg-green-50/50 dark:bg-green-900/20"};return b[a]||b.todo},c0=a=>{if(!a.ended_at||"done"===a.status)return!1;let b=new Date().toISOString().split("T")[0];return a.ended_at.split("T")[0]<b};function c1({tasks:a,onSelectEvent:b}){let[c,d]=(0,w.useState)(!1),[e,f]=(0,w.useState)({}),g=(0,w.useRef)(null),h=(0,w.useCallback)(()=>{if(g.current){let a=g.current.getBoundingClientRect(),b=window.innerHeight,c=window.innerWidth,d={};a.left+220+8>c?d.right=c-a.right:d.left=a.left,a.bottom+280+8>b?d.bottom=b-a.top+8:d.top=a.bottom+8,f(d)}d(!0)},[]),i=(0,w.useCallback)(()=>{d(!1)},[]);return 0===a.length?null:(0,v.jsxs)("div",{ref:g,className:"absolute left-1 right-1 top-1 bottom-1",style:{zIndex:c?50:10},onMouseEnter:h,onMouseLeave:i,children:[(0,v.jsxs)("div",{className:"flex flex-col gap-0.5 p-1 overflow-hidden",children:[a.slice(0,2).map(a=>{let c=c0(a);return(0,v.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 rounded px-0.5",onClick:c=>{c.stopPropagation(),b(a)},children:[(0,v.jsx)("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${c$(a.status)}`}),c&&(0,v.jsx)("div",{className:"w-1.5 h-1.5 rounded-full shrink-0 bg-red-500"}),(0,v.jsx)("span",{className:"text-[9px] sm:text-[10px] text-gray-500 dark:text-gray-400 shrink-0",children:a.start_time?a.start_time.slice(0,5):"종일"}),(0,v.jsx)("span",{className:"text-[9px] sm:text-[10px] text-gray-700 dark:text-gray-300 truncate font-medium",children:a.title})]},a.id)}),a.length>2&&(0,v.jsxs)("span",{className:"text-[9px] text-gray-400 dark:text-gray-500 pl-0.5",children:["+",a.length-2,"개"]})]}),c&&a.length>0&&(0,v.jsxs)("div",{className:"fixed w-[220px] bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-2 space-y-1",style:{...e,zIndex:30},onClick:a=>a.stopPropagation(),children:[(0,v.jsxs)("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2 pb-1 border-b border-gray-100 dark:border-gray-700",children:[a.length,"개의 일정"]}),(0,v.jsx)("div",{className:"max-h-[200px] overflow-y-auto space-y-1",children:a.map(a=>{let c=c0(a);return(0,v.jsxs)("div",{className:`p-2 rounded-md border text-xs cursor-pointer hover:shadow-md transition-shadow ${c_(a.status)}`,onClick:c=>{c.stopPropagation(),d(!1),b(a)},children:[(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${c$(a.status)}`}),c&&(0,v.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),a.priority&&(0,v.jsx)("span",{className:"text-[10px]",children:(a=>{switch(a){case"high":return(0,v.jsx)("span",{className:"text-red-500",children:"▲"});case"normal":return(0,v.jsx)("span",{className:"text-yellow-500",children:"▲"});case"low":return(0,v.jsx)("span",{className:"text-green-500",children:"▲"});default:return null}})(a.priority)}),(0,v.jsx)("span",{className:"font-medium truncate text-gray-800 dark:text-gray-200",children:a.title})]}),a.start_time&&(0,v.jsxs)("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5 ml-3.5",children:[a.start_time,a.end_time?` ~ ${a.end_time}`:""]})]},a.id)})})]})]})}function c2({weekDays:a,hours:b,tasksByDate:c,isOutsideProjectRange:d,onSelectSlot:e,onSelectEvent:f}){let[g,h]=(0,w.useState)(new Date),[i,j]=(0,w.useState)({isDragging:!1,startDay:null,startHour:null,endDay:null,endHour:null}),k=(0,w.useRef)(!1);(0,w.useEffect)(()=>{let a=setInterval(()=>{h(new Date)},6e4);return()=>clearInterval(a)},[]);let l=a=>g.getHours()!==a?null:g.getMinutes()/60*100,m=(0,w.useCallback)((a,b,c)=>{c||(k.current=!0,j({isDragging:!0,startDay:a,startHour:b,endDay:a,endHour:b}))},[]),n=(0,w.useCallback)((a,b,c)=>{k.current&&!c&&j(c=>({...c,endDay:a,endHour:b}))},[]),o=(0,w.useCallback)(()=>{if(k.current){if(k.current=!1,i.startDay&&null!==i.startHour&&i.endDay&&null!==i.endHour){let a=i.startDay,b=i.endDay,c=i.startHour,d=i.endHour+1;(0,y.format)(a,"yyyy-MM-dd")>(0,y.format)(b,"yyyy-MM-dd")?([a,b]=[b,a],[c,d]=[i.endHour,i.startHour+1]):(0,y.format)(a,"yyyy-MM-dd")===(0,y.format)(b,"yyyy-MM-dd")&&c>i.endHour&&(c=i.endHour,d=i.startHour+1),e(a,b,c,d)}j({isDragging:!1,startDay:null,startHour:null,endDay:null,endHour:null})}},[i,e]);(0,w.useEffect)(()=>{let a=()=>{k.current&&o()};return window.addEventListener("mouseup",a),()=>window.removeEventListener("mouseup",a)},[o]);let p=(0,w.useCallback)((a,b)=>{if(!i.isDragging||!i.startDay||null===i.startHour||!i.endDay||null===i.endHour)return!1;let c=(0,y.format)(a,"yyyy-MM-dd"),d=(0,y.format)(i.startDay,"yyyy-MM-dd"),e=(0,y.format)(i.endDay,"yyyy-MM-dd"),[f,g]=d<=e?[d,e]:[e,d],[h,j]=i.startHour<=i.endHour?[i.startHour,i.endHour]:[i.endHour,i.startHour];return c>=f&&c<=g&&b>=h&&b<=j},[i]);return(0,v.jsx)("div",{className:"select-none",children:b.map(b=>(0,v.jsxs)("div",{className:"flex border-b border-gray-100 dark:border-gray-800 last:border-b-0 min-h-[50px] sm:min-h-[60px]",children:[(0,v.jsx)("div",{className:"w-10 sm:w-16 shrink-0 p-1 sm:p-2 text-right pr-1 sm:pr-3 border-r border-gray-200 dark:border-gray-700",children:(0,v.jsxs)("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400",children:[b.toString().padStart(2,"0"),":00"]})}),a.map(a=>{let e,h=(0,y.format)(a,"yyyy-MM-dd"),i=(e=c[h]||[],e.filter(a=>!!a.use_time&&!!a.start_time&&parseInt(a.start_time.split(":")[0],10)===b)),j=d(a),k=p(a,b);return(0,v.jsxs)("div",{className:`
                  flex-1 relative border-r border-gray-100 dark:border-gray-800 last:border-r-0
                  transition-colors cursor-pointer
                  ${j?"bg-gray-100 dark:bg-gray-900 cursor-not-allowed":k?"bg-main-200 dark:bg-main-700/50":b>=9&&b<18?"bg-main-100/20 dark:bg-main-800/15 hover:bg-main-100/40 dark:hover:bg-main-800/30":"hover:bg-gray-50 dark:hover:bg-gray-800"}
                `,onMouseDown:()=>m(a,b,j),onMouseEnter:()=>n(a,b,j),onMouseUp:o,children:[(0,v.jsx)("div",{className:"absolute left-0 right-0 top-1/2 border-t border-dashed border-gray-200 dark:border-gray-700 pointer-events-none"}),(0,cY.isSameDay)(a,g)&&null!==l(b)&&(0,v.jsx)("div",{className:"absolute left-0 right-0 z-20 pointer-events-none",style:{top:`${l(b)}%`},children:(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)("div",{className:"w-2 h-2 bg-main-500 rounded-full -ml-1"}),(0,v.jsx)("div",{className:"flex-1 border-t-2 border-main-500"})]})}),i.length>0&&(0,v.jsx)(c1,{tasks:i,onSelectEvent:f})]},`${h}-${b}`)})]},b))})}function c3({tasks:a,weekDays:b,onSelectEvent:c}){let[d,e]=(0,w.useState)(null),[f,g]=(0,w.useState)(!1),h=(0,w.useMemo)(()=>b.map(a=>(0,y.format)(a,"yyyy-MM-dd")),[b]),i=(0,w.useMemo)(()=>{let b=h[0],c=h[6];return a.filter(a=>{if(!a.started_at||!a.ended_at)return!1;let d=a.started_at.split("T")[0],e=a.ended_at.split("T")[0],f=a.use_time&&a.start_time;return(d!==e||!f)&&d<=c&&e>=b})},[a,h]),j=(0,w.useMemo)(()=>{let a=h[0],b=h[6],c=[];return[...i].sort((a,b)=>{let c=a.started_at.split("T")[0],d=b.started_at.split("T")[0];return c!==d?c.localeCompare(d):b.ended_at.split("T")[0].localeCompare(a.ended_at.split("T")[0])}).forEach(d=>{let e=d.started_at.split("T")[0],f=d.ended_at.split("T")[0],g=h.indexOf(e<a?a:e),i=h.indexOf(f>b?b:f);if(-1===g||-1===i)return;let j={...d,startCol:g,endCol:i,row:0},k=0,l=!1;for(;!l;)c[k]||(c[k]=[]),c[k].some(a=>!(i<a.startCol||g>a.endCol))?k++:(j.row=k,c[k].push(j),l=!0)}),c.flat()},[i,h]),k=(0,w.useMemo)(()=>0===j.length?0:Math.max(...j.map(a=>a.row))+1,[j]);if(0===i.length)return null;let l=Math.max(Math.min(k,3),1),m=j.filter(a=>a.row<3),n=j.length-m.length;return(0,v.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-visible relative",style:{height:`${22*l+6}px`},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,v.jsx)("div",{className:"w-10 sm:w-16 shrink-0 border-r border-gray-200 dark:border-gray-700 flex items-center justify-end pr-1 sm:pr-2",children:(0,v.jsx)("span",{className:"text-[9px] sm:text-[10px] text-gray-400 dark:text-gray-500",children:"기간"})}),(0,v.jsxs)("div",{className:"flex-1 flex relative overflow-hidden",children:[b.map((a,b)=>(0,v.jsx)("div",{className:"flex-1 border-r border-gray-100 dark:border-gray-800 last:border-r-0"},b)),m.map(a=>{let b=a.startCol/7*100,f=(a.endCol-a.startCol+1)/7*100,g=d===a.id,h=c0(a);return(0,v.jsx)("div",{className:"absolute cursor-pointer px-0.5",style:{left:`${b}%`,width:`${f}%`,top:`${22*a.row+2}px`,height:"18px"},onClick:()=>c(a),onMouseEnter:()=>e(a.id),onMouseLeave:()=>e(null),children:(0,v.jsxs)("div",{className:`
                  w-full h-full rounded transition-all flex items-center px-1.5 gap-1
                  ${cZ(a.status)}
                  ${g?"ring-2 ring-offset-1 ring-gray-400 dark:ring-gray-500 brightness-95":""}
                `,children:[(0,v.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${c$(a.status)}`}),h&&(0,v.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),a.priority&&(0,v.jsx)("span",{className:`text-[9px] shrink-0 ${{high:"text-red-500 dark:text-red-400",normal:"text-yellow-500 dark:text-yellow-400",low:"text-green-500 dark:text-green-400"}[a.priority]||""}`,children:"▲"}),(0,v.jsx)("span",{className:"text-[10px] sm:text-[11px] truncate font-medium",children:a.title})]})},a.id)}),n>0&&(0,v.jsxs)("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 text-[9px] text-gray-400 dark:text-gray-500",children:["+",n]})]}),f&&i.length>0&&(0,v.jsxs)("div",{className:"absolute left-10 sm:left-16 top-full mt-1 z-50 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-2 min-w-[220px] max-w-[280px]",children:[(0,v.jsxs)("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2 pb-1 border-b border-gray-100 dark:border-gray-700",children:["기간/종일 일정 (",i.length,"개)"]}),(0,v.jsx)("div",{className:"space-y-1 max-h-[200px] overflow-y-auto",children:i.map(a=>{let b=c0(a);return(0,v.jsxs)("div",{className:`p-2 rounded-md text-xs cursor-pointer hover:brightness-95 dark:hover:brightness-110 transition-all ${c_(a.status)}`,onClick:()=>c(a),children:[(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${c$(a.status)}`}),b&&(0,v.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),(0,v.jsx)("span",{className:"font-medium truncate text-gray-800 dark:text-gray-200",children:a.title})]}),a.started_at&&a.ended_at&&(0,v.jsxs)("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5 ml-3.5",children:[a.started_at.split("T")[0]," ~"," ",a.ended_at.split("T")[0]]})]},a.id)})})]})]})}function c4({tasks:a,currentDate:b,projectStartedAt:c,projectEndedAt:d,onSelectSlot:e,onSelectEvent:f}){let g=(0,w.useRef)(null),h=(0,w.useMemo)(()=>(0,cX.startOfWeek)(b,{weekStartsOn:0}),[b]),i=(0,w.useMemo)(()=>Array.from({length:7},(a,b)=>(0,cP.addDays)(h,b)),[h]),j=(0,w.useMemo)(()=>Array.from({length:16},(a,b)=>b+7),[]),k=(0,w.useMemo)(()=>{let b={};return a.forEach(a=>{if(!a.started_at&&!a.ended_at)return;let c=a.started_at?a.started_at.split("T")[0]:a.ended_at.split("T")[0],d=a.ended_at?a.ended_at.split("T")[0]:a.started_at.split("T")[0];i.forEach(e=>{let f=(0,y.format)(e,"yyyy-MM-dd");f>=c&&f<=d&&(b[f]||(b[f]=[]),b[f].push(a))})}),b},[a,i]),l=(0,w.useCallback)(a=>{if(!c||!d)return!1;let b=(0,y.format)(a,"yyyy-MM-dd");return b<c||b>d},[c,d]);return(0,w.useEffect)(()=>{g.current&&(g.current.scrollTop=100)},[b]),(0,v.jsxs)("div",{className:"flex flex-col h-full min-h-0 bg-white dark:bg-gray-900",children:[(0,v.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 shrink-0",children:[(0,v.jsx)("div",{className:"w-10 sm:w-16 shrink-0 border-r border-gray-200 dark:border-gray-700"}),i.map((a,b)=>{let c=(0,cY.isSameDay)(a,new Date),d=l(a),e=0===b,f=6===b;return(0,v.jsxs)("div",{className:`
                  flex-1 p-1.5 sm:p-3 text-center border-r border-gray-200 dark:border-gray-700 last:border-r-0
                  ${d?"opacity-30":""}
                `,children:[(0,v.jsx)("div",{className:`
                  text-[10px] sm:text-xs font-medium mb-0.5 sm:mb-1
                  ${c?"text-main-600 dark:text-main-400":e?"text-red-500 dark:text-red-400":f?"text-blue-500 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}
                `,children:(0,y.format)(a,"E",{locale:cL})}),(0,v.jsx)("div",{className:`
                  text-base sm:text-lg font-semibold
                  ${c?"text-white bg-main-500 dark:bg-main-400 rounded-full w-7 h-7 sm:w-9 sm:h-9 flex items-center justify-center mx-auto":e?"text-red-500 dark:text-red-400":f?"text-blue-500 dark:text-blue-400":"text-gray-800 dark:text-gray-200"}
                `,children:(0,y.format)(a,"d")})]},a.toISOString())})]}),(0,v.jsx)("div",{className:"shrink-0 bg-gray-50 dark:bg-gray-800/50",children:(0,v.jsx)(c3,{tasks:a,weekDays:i,onSelectEvent:f})}),(0,v.jsx)("div",{ref:g,className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(0,v.jsx)(c2,{weekDays:i,hours:j,tasksByDate:k,isOutsideProjectRange:l,onSelectSlot:e,onSelectEvent:f})})]})}var c5=a.i(84990),c6=a.i(66111),c7=a.i(36302),c8=a.i(47959);let c9=a=>{switch(a){case"high":return(0,v.jsx)("span",{className:"text-red-500",children:"▲"});case"normal":return(0,v.jsx)("span",{className:"text-yellow-500",children:"▲"});case"low":return(0,v.jsx)("span",{className:"text-green-500",children:"▲"});default:return null}};function da({tasks:a,onSelectEvent:b}){let[c,d]=(0,w.useState)(!1),[e,f]=(0,w.useState)(!1),[g,h]=(0,w.useState)({}),[i,j]=(0,w.useState)(!1),k=(0,w.useRef)(null),l=(0,w.useRef)(null),m=(0,w.useRef)(null),n=(0,w.useRef)(null);(0,w.useEffect)(()=>{let a,b=0,c=()=>{if(k.current){let a=k.current.clientHeight;Math.abs(a-b)>5&&(b=a,j(a<60))}};c();let d=new ResizeObserver(()=>{a||(a=requestAnimationFrame(()=>{c(),a=0}))});return k.current&&d.observe(k.current),()=>{d.disconnect(),a&&cancelAnimationFrame(a)}},[]),(0,w.useEffect)(()=>()=>{m.current&&clearTimeout(m.current),n.current&&clearTimeout(n.current)},[]);let o=(0,w.useCallback)(()=>{if(!k.current)return;let a=k.current.getBoundingClientRect(),b=window.innerHeight,c=window.innerWidth,d={};a.left+220+8>c?d.right=c-a.right:d.left=a.left,a.bottom+250+8>b?d.bottom=b-a.top+8:d.top=a.bottom+8,h(d)},[]),p=(0,w.useCallback)(()=>{(n.current&&(clearTimeout(n.current),n.current=null),d(!0),e)?o():m.current=setTimeout(()=>{o(),f(!0)},150)},[e,o]),q=(0,w.useCallback)(()=>{m.current&&(clearTimeout(m.current),m.current=null),d(!1),n.current=setTimeout(()=>{f(!1)},200)},[]),r=(0,w.useCallback)(()=>{n.current&&(clearTimeout(n.current),n.current=null),d(!0)},[]),s=(0,w.useCallback)(()=>{d(!1),n.current=setTimeout(()=>{f(!1)},200)},[]);return 0===a.length?null:(0,v.jsxs)("div",{ref:k,className:"flex-1 min-h-0 overflow-hidden relative",style:{zIndex:c?20:10},onMouseEnter:p,onMouseLeave:q,children:[i?(0,v.jsxs)("div",{className:"flex flex-wrap gap-1 p-0.5",children:[a.slice(0,5).map(a=>{let c=c0(a);return(0,v.jsxs)("div",{className:"flex items-center gap-0.5 cursor-pointer hover:scale-110 transition-transform",onClick:c=>{c.stopPropagation(),b(a)},title:a.title,children:[(0,v.jsx)("div",{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full ${c$(a.status)}`}),c&&(0,v.jsx)("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-red-500"})]},a.id)}),a.length>5&&(0,v.jsxs)("span",{className:"text-[8px] text-gray-500 dark:text-gray-400",children:["+",a.length-5]})]}):(0,v.jsxs)("div",{className:"space-y-0.5",children:[a.slice(0,3).map(a=>{let c=c0(a);return(0,v.jsxs)("div",{className:`
                  h-4 sm:h-5 px-1 sm:px-1.5 rounded text-[9px] sm:text-[10px] font-medium truncate
                  flex items-center gap-0.5 sm:gap-1
                  ${cZ(a.status)}
                  cursor-pointer hover:brightness-95 dark:hover:brightness-110 transition-all
                `,onClick:c=>{c.stopPropagation(),b(a)},title:a.title,children:[(0,v.jsx)("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${c$(a.status)}`}),c&&(0,v.jsx)("div",{className:"w-1.5 h-1.5 rounded-full shrink-0 bg-red-500"}),a.priority&&(0,v.jsx)("span",{className:"text-[8px] shrink-0",children:c9(a.priority)}),(0,v.jsx)("span",{className:"truncate",children:a.title})]},a.id)}),a.length>3&&(0,v.jsxs)("div",{className:"text-[9px] sm:text-[10px] text-gray-500 dark:text-gray-400 pl-1",children:["+",a.length-3]})]}),e&&a.length>0&&"undefined"!=typeof document&&(0,S.createPortal)((0,v.jsxs)("div",{ref:l,className:"fixed w-[220px] bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-2 space-y-1 animate-in fade-in-0 zoom-in-95 duration-150",style:{...g,zIndex:30},onClick:a=>a.stopPropagation(),onMouseEnter:r,onMouseLeave:s,children:[(0,v.jsxs)("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2 pb-1 border-b border-gray-100 dark:border-gray-700",children:[a.length,"개의 일정"]}),(0,v.jsx)("div",{className:"max-h-[200px] overflow-y-auto space-y-1",children:a.map(a=>{let c=c0(a);return(0,v.jsx)("div",{className:`p-2 rounded-md text-xs cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors ${c_(a.status)}`,onClick:c=>{c.stopPropagation(),f(!1),d(!1),b(a)},children:(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${c$(a.status)}`}),c&&(0,v.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),a.priority&&(0,v.jsx)("span",{className:"text-[10px]",children:c9(a.priority)}),(0,v.jsx)("span",{className:"font-medium truncate text-gray-800 dark:text-gray-200",children:a.title})]})},a.id)})})]}),document.body)]})}function db({weeks:a,tasksByDate:b,isOutsideProjectRange:c,isCurrentMonth:d,onSelectSlot:e,onSelectRange:f,onSelectEvent:g}){let[h,i]=(0,w.useState)(0),[j,k]=(0,w.useState)(""),[l,m]=(0,w.useState)(!1),[n,o]=(0,w.useState)(null),[p,q]=(0,w.useState)(null),r=(0,w.useCallback)((a,b)=>{b||(m(!0),o(a),q(a))},[]),s=(0,w.useCallback)((a,b)=>{l&&!b&&q(a)},[l]),t=(0,w.useCallback)(()=>{if(!l||!n||!p)return void m(!1);let a=n<=p?n:p,b=n<=p?p:n;!(0,cY.isSameDay)(a,b)&&f&&f(a,b),m(!1),o(null),q(null)},[l,n,p,f]),u=(0,w.useCallback)(a=>{if(!l||!n||!p)return!1;let b=n<=p?n:p,c=n<=p?p:n;return a>=b&&a<=c},[l,n,p]),x=(0,w.useCallback)((a,b)=>{if(b)return;let c=(0,y.format)(a,"yyyy-MM-dd"),d=Date.now(),f=d-h;c===j&&f<300?(e(a),i(0),k("")):(i(d),k(c))},[h,j,e]);return(0,v.jsx)("div",{className:"flex-1 min-h-0 flex flex-col select-none",onMouseUp:t,onMouseLeave:t,children:a.map((a,e)=>(0,v.jsx)("div",{className:"flex flex-1 min-h-0 border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:a.map(a=>{let e=(0,y.format)(a,"yyyy-MM-dd"),f=b[e]||[],h=c(a),i=!d(a),j=(0,cY.isSameDay)(a,new Date),k=a.getDay(),l=0===k,m=6===k,n=u(a);return(0,v.jsxs)("div",{className:`
                  flex-1 min-w-0 relative border-r border-gray-100 dark:border-gray-800 last:border-r-0
                  transition-colors cursor-pointer p-1 overflow-hidden flex flex-col
                  ${n?"bg-main-100/30 dark:bg-main-700/20":h?"bg-gray-100 dark:bg-gray-900 cursor-not-allowed":i?"bg-gray-50 dark:bg-gray-800/50":m?"bg-blue-50/30 dark:bg-blue-900/10":l?"bg-red-50/30 dark:bg-red-900/10":"bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800"}
                `,onClick:()=>x(a,h),onMouseDown:()=>r(a,h),onMouseEnter:()=>s(a,h),children:[(0,v.jsx)("div",{className:`
                    text-xs sm:text-sm font-medium w-5 h-5 sm:w-7 sm:h-7 flex items-center justify-center rounded-full shrink-0
                    ${j?"bg-main-500 dark:bg-main-400 text-white":h?"text-gray-300 dark:text-gray-600":i?"text-gray-400 dark:text-gray-500":l?"text-red-500 dark:text-red-400":m?"text-blue-500 dark:text-blue-400":"text-gray-800 dark:text-gray-200"}
                  `,children:(0,y.format)(a,"d")}),f.length>0&&(0,v.jsx)(da,{tasks:f,onSelectEvent:g})]},e)})},e))})}function dc({tasks:a,currentDate:b,projectStartedAt:c,projectEndedAt:d,onSelectSlot:e,onSelectRange:f,onSelectEvent:g}){let h=(0,w.useMemo)(()=>(0,c5.startOfMonth)(b),[b]),i=(0,w.useMemo)(()=>(0,c6.endOfMonth)(b),[b]),j=(0,w.useMemo)(()=>(0,cX.startOfWeek)(h,{weekStartsOn:0}),[h]),k=(0,w.useMemo)(()=>(0,c7.endOfWeek)(i,{weekStartsOn:0}),[i]),l=(0,w.useMemo)(()=>{let a=[],b=j;for(;b<=k;)a.push(b),b=(0,cP.addDays)(b,1);return a},[j,k]),m=(0,w.useMemo)(()=>{let a=[];for(let b=0;b<l.length;b+=7)a.push(l.slice(b,b+7));return a},[l]),n=(0,w.useMemo)(()=>{let b={};return a.forEach(a=>{if(!a.started_at&&!a.ended_at)return;let c=new Date(a.started_at?a.started_at:a.ended_at),d=new Date(a.ended_at?a.ended_at:a.started_at),e=new Date(c);e.setHours(0,0,0,0);let f=new Date(d);for(f.setHours(23,59,59,999);e<=f;){let c=(0,y.format)(e,"yyyy-MM-dd");b[c]||(b[c]=[]),b[c].push(a),e=(0,cP.addDays)(e,1)}}),b},[a]),o=(0,w.useCallback)(a=>{if(!c||!d)return!1;let b=(0,y.format)(a,"yyyy-MM-dd");return b<c||b>d},[c,d]),p=(0,w.useCallback)(a=>(0,c8.isSameMonth)(a,b),[b]);return(0,v.jsxs)("div",{className:"flex flex-col h-full min-h-0 bg-white dark:bg-gray-900 overflow-hidden",children:[(0,v.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 shrink-0",children:["일","월","화","수","목","금","토"].map((a,b)=>(0,v.jsx)("div",{className:`
              flex-1 p-1.5 sm:p-3 text-center text-xs sm:text-sm font-semibold border-r border-gray-200 dark:border-gray-700 last:border-r-0
              ${0===b?"text-red-500 dark:text-red-400":6===b?"text-blue-500 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}
            `,children:a},a))}),(0,v.jsx)(db,{weeks:m,tasksByDate:n,isOutsideProjectRange:o,isCurrentMonth:p,onSelectSlot:e,onSelectRange:f,onSelectEvent:g})]})}let dd=a=>{switch(a){case"high":return(0,v.jsx)("span",{className:"text-red-500",children:"▲"});case"normal":return(0,v.jsx)("span",{className:"text-yellow-500",children:"▲"});case"low":return(0,v.jsx)("span",{className:"text-green-500",children:"▲"});default:return null}},de=a=>{let[b,c]=a.split(":").map(Number);return 60*b+(c||0)};function df({currentDate:a,hours:b,tasks:c,isOutsideProjectRange:d,onSelectSlot:e,onSelectEvent:f}){let g,h,i,j,[k,l]=(0,w.useState)(new Date),[m,n]=(0,w.useState)({isDragging:!1,startHour:null,endHour:null}),o=(0,w.useRef)(!1),p=(0,w.useMemo)(()=>c.filter(a=>!a.use_time||!a.start_time),[c]),q=(0,w.useMemo)(()=>((a,b)=>{let c=b[0],d=b[b.length-1]+1,e=(d-c)*60,f=a.filter(a=>a.use_time&&a.start_time).map(a=>{let b=de(a.start_time),f=a.end_time?de(a.end_time):b+60,g=Math.max(b,60*c),h=Math.max((Math.min(f,60*d)-g)/e*100,2);return{...a,top:(g-60*c)/e*100,height:h,startHour:Math.floor(b/60),endHour:Math.ceil(f/60),column:0,totalColumns:1}}),g=(a,b)=>a.startHour<b.endHour&&a.endHour>b.startHour,h=(a,b)=>{let c=[a],d=!0;for(;d;)for(let a of(d=!1,b))!c.includes(a)&&c.some(b=>g(b,a))&&(c.push(a),d=!0);return c},i=new Set;for(let a of f){if(i.has(a.id))continue;let b=h(a,f).sort((a,b)=>a.startHour-b.startHour||a.id.localeCompare(b.id)),c=[];for(let a of b){let b=!1;for(let d=0;d<c.length;d++)if(!g(c[d][c[d].length-1],a)){c[d].push(a),a.column=d,b=!0;break}b||(a.column=c.length,c.push([a]))}let d=c.length;for(let a of b)a.totalColumns=d,i.add(a.id)}return f})(c,b),[c,b]);(0,w.useEffect)(()=>{let a=setInterval(()=>{l(new Date)},6e4);return()=>clearInterval(a)},[]);let r=(0,cY.isSameDay)(a,k),s=(0,w.useCallback)(a=>{d||(o.current=!0,n({isDragging:!0,startHour:a,endHour:a}))},[d]),t=(0,w.useCallback)(a=>{o.current&&!d&&n(b=>({...b,endHour:a}))},[d]),u=(0,w.useCallback)(()=>{if(o.current){if(o.current=!1,null!==m.startHour&&null!==m.endHour){let b=m.startHour,c=m.endHour+1;b>m.endHour&&(b=m.endHour,c=m.startHour+1),e(a,b,c)}n({isDragging:!1,startHour:null,endHour:null})}},[m,a,e]);(0,w.useEffect)(()=>{let a=()=>{o.current&&u()};return window.addEventListener("mouseup",a),()=>window.removeEventListener("mouseup",a)},[u]);let x=(0,w.useCallback)(a=>{if(!m.isDragging||null===m.startHour||null===m.endHour)return!1;let b=Math.min(m.startHour,m.endHour),c=Math.max(m.startHour,m.endHour);return a>=b&&a<=c},[m]),y=r?(g=k.getHours(),h=k.getMinutes(),i=b[0],j=b[b.length-1]+1,g<i||g>=j?null:((g-i)*60+h)/((j-i)*60)*100):null;return(0,v.jsxs)("div",{className:"relative",children:[p.length>0&&(0,v.jsx)("div",{className:"border-b-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:(0,v.jsxs)("div",{className:"flex min-h-[50px]",children:[(0,v.jsx)("div",{className:"w-14 sm:w-20 shrink-0 p-2 text-right pr-3 border-r border-gray-200 dark:border-gray-700 flex items-center justify-end",children:(0,v.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"종일"})}),(0,v.jsx)("div",{className:"flex-1 p-2 flex flex-wrap gap-2",children:p.map(a=>{let b=c0(a);return(0,v.jsxs)("div",{className:`
                      flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm cursor-pointer
                      hover:shadow-md transition-all border
                      ${cZ(a.status)}
                    `,onClick:()=>f(a),children:[(0,v.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${c$(a.status)}`}),b&&(0,v.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),a.priority&&(0,v.jsx)("span",{className:"text-xs",children:dd(a.priority)}),(0,v.jsx)("span",{className:"font-medium truncate max-w-[200px]",children:a.title})]},a.id)})})]})}),(0,v.jsxs)("div",{className:"relative",children:[b.map(a=>(0,v.jsxs)("div",{className:"flex border-b border-gray-100 dark:border-gray-800 last:border-b-0 h-[70px] sm:h-[80px]",children:[(0,v.jsx)("div",{className:"w-14 sm:w-20 shrink-0 p-2 text-right pr-3 border-r border-gray-200 dark:border-gray-700",children:(0,v.jsxs)("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium",children:[a.toString().padStart(2,"0"),":00"]})}),(0,v.jsx)("div",{className:`
                flex-1 relative transition-colors cursor-pointer
                ${d?"bg-gray-100 dark:bg-gray-900 cursor-not-allowed":x(a)?"bg-main-200 dark:bg-main-700/50":a>=9&&a<18?"bg-main-100/20 dark:bg-main-800/15 hover:bg-main-100/40 dark:hover:bg-main-800/30":"hover:bg-gray-50 dark:hover:bg-gray-800"}
              `,onMouseDown:()=>s(a),onMouseEnter:()=>t(a),onMouseUp:u,children:(0,v.jsx)("div",{className:"absolute left-0 right-0 top-1/2 border-t border-dashed border-gray-200 dark:border-gray-700 pointer-events-none"})})]},a)),null!==y&&(0,v.jsx)("div",{className:"absolute left-14 sm:left-20 right-0 z-30 pointer-events-none",style:{top:`${y}%`},children:(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-main-500 rounded-full -ml-1.5"}),(0,v.jsx)("div",{className:"flex-1 border-t-2 border-main-500"})]})}),(0,v.jsx)("div",{className:"absolute left-14 sm:left-20 right-2 top-0 bottom-0 pointer-events-none",children:q.map(a=>{let b=c0(a),c=a.totalColumns>1?100/a.totalColumns:100,d=a.column*c;return(0,v.jsx)("div",{className:`
                  absolute rounded-lg border cursor-pointer pointer-events-auto
                  hover:shadow-lg hover:scale-[1.02] transition-all duration-200
                  ${cZ(a.status)}
                `,style:{top:`${a.top}%`,height:`${a.height}%`,left:`${d}%`,width:`calc(${c}% - 4px)`,minHeight:"24px"},onClick:b=>{b.stopPropagation(),f(a)},children:(0,v.jsxs)("div",{className:"p-2 h-full flex flex-col overflow-hidden",children:[(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${c$(a.status)}`}),b&&(0,v.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 bg-red-500"}),(0,v.jsx)("span",{className:"font-semibold text-sm truncate flex-1",children:a.title}),a.priority&&(0,v.jsx)("span",{className:"text-xs shrink-0",children:dd(a.priority)})]}),a.height>5&&(0,v.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.start_time,a.end_time?` - ${a.end_time}`:""]}),a.height>10&&a.description&&(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate",children:a.description})]})},a.id)})})]})]})}function dg({tasks:a,currentDate:b,projectStartedAt:c,projectEndedAt:d,onSelectSlot:e,onSelectEvent:f}){let g=(0,w.useRef)(null),h=(0,w.useMemo)(()=>Array.from({length:16},(a,b)=>b+7),[]),i=(0,w.useMemo)(()=>{let c=(0,y.format)(b,"yyyy-MM-dd");return a.filter(a=>{if(!a.started_at&&!a.ended_at)return!1;let b=a.started_at?a.started_at.split("T")[0]:a.ended_at.split("T")[0],d=a.ended_at?a.ended_at.split("T")[0]:a.started_at.split("T")[0];return c>=b&&c<=d})},[a,b]),j=(0,w.useMemo)(()=>{if(!c||!d)return!1;let a=(0,y.format)(b,"yyyy-MM-dd");return a<c||a>d},[b,c,d]),k=(0,cY.isSameDay)(b,new Date),l=(0,y.format)(b,"EEEE",{locale:cL}),m=0===b.getDay()||6===b.getDay();return(0,w.useEffect)(()=>{g.current&&(g.current.scrollTop=160)},[b]),(0,v.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,v.jsxs)("div",{className:`
          flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700
          ${j?"bg-gray-100 dark:bg-gray-900":k?"bg-main-50 dark:bg-main-900/20":m?"bg-red-50/50 dark:bg-red-900/10":"bg-white dark:bg-gray-800"}
        `,children:[(0,v.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,v.jsx)("span",{className:`
              text-lg sm:text-xl font-semibold
              ${j?"text-gray-400 dark:text-gray-600 line-through":k?"text-main-600 dark:text-main-400":m?"text-red-500 dark:text-red-400":"text-gray-700 dark:text-gray-300"}
            `,children:l}),(0,v.jsx)("span",{className:`
              text-2xl sm:text-3xl font-bold
              ${j?"text-gray-400 dark:text-gray-600 line-through":k?"text-main-600 dark:text-main-400":m?"text-red-500 dark:text-red-400":"text-gray-800 dark:text-gray-200"}
            `,children:(0,y.format)(b,"d")}),i.length>0&&(0,v.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:["(",i.length,"개)"]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:(0,y.format)(b,"yyyy년 M월",{locale:cL})}),k&&!j&&(0,v.jsx)("span",{className:"px-2 py-1 bg-main-500 text-white text-xs font-semibold rounded-full",children:"Today"}),j&&(0,v.jsx)("span",{className:"px-2 py-1 bg-gray-400 text-white text-xs font-semibold rounded-full",children:"프로젝트 기간 외"})]})]}),(0,v.jsx)("div",{ref:g,className:"flex-1 overflow-y-auto scrollbar-hide",children:(0,v.jsx)(df,{currentDate:b,hours:h,tasks:i,isOutsideProjectRange:j,onSelectSlot:e,onSelectEvent:f})})]})}var dh=a.i(26101),di=a.i(62083),dj=a.i(70118),dk=a.i(97048);let dl=a=>{if(!a)return null;let b=new Date(a),c=b.getHours(),d=b.getMinutes();return 0===c&&0===d?null:(0,y.format)(b,"HH:mm")};function dm({tasks:a,onSelectEvent:b}){return 0===a.length?null:(0,v.jsx)("div",{className:"space-y-2",children:a.map(a=>{let c=dl(a.started_at),d=dl(a.ended_at),e=((a,b)=>{if(!a&&!b)return"";let c=a?.split("T")[0],d=b?.split("T")[0];if(c===d||!d)return"";let e=a?(0,y.format)(new Date(a),"M/d"):"",f=b?(0,y.format)(new Date(b),"M/d"):"";return`${e} ~ ${f}`})(a.started_at,a.ended_at),f=c||d,g=c0(a);return(0,v.jsxs)("div",{className:`
              flex items-start gap-3 p-3 rounded-lg cursor-pointer
              hover:shadow-md transition-all duration-200
              ${cZ(a.status)}
            `,onClick:()=>b(a),children:[(0,v.jsxs)("div",{className:"flex items-center gap-1 shrink-0 mt-0.5",children:[(0,v.jsx)("div",{className:`w-3 h-3 rounded-full ${c$(a.status)}`}),g&&(0,v.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"})]}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[a.priority&&(0,v.jsx)("span",{className:"text-xs",children:(a=>{switch(a){case"high":return(0,v.jsx)("span",{className:"text-red-500",children:"▲"});case"normal":return(0,v.jsx)("span",{className:"text-yellow-500",children:"▲"});case"low":return(0,v.jsx)("span",{className:"text-green-500",children:"▲"});default:return null}})(a.priority)}),(0,v.jsx)("span",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:a.title})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[f&&(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),c,d&&c!==d&&` ~ ${d}`]}),e&&(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e]}),!f&&!e&&(0,v.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"종일"})]}),a.description&&(0,v.jsx)("p",{className:"mt-1.5 text-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:a.description})]}),(0,v.jsx)("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},a.id)})})}function dn({tasks:a,currentDate:b,projectStartedAt:c,projectEndedAt:d,onSelectSlot:e,onSelectEvent:f}){let g=(0,w.useMemo)(()=>{let a=[],c=(0,dh.startOfDay)(b);for(let b=0;b<30;b++)a.push(c),c=(0,cP.addDays)(c,1);return a},[b]),h=(0,w.useMemo)(()=>{let b={};return a.forEach(a=>{if(!a.started_at&&!a.ended_at)return;let c=a.started_at?a.started_at.split("T")[0]:a.ended_at.split("T")[0],d=a.ended_at?a.ended_at.split("T")[0]:a.started_at.split("T")[0];g.forEach(e=>{let f=(0,y.format)(e,"yyyy-MM-dd");f>=c&&f<=d&&(b[f]||(b[f]=[]),b[f].push(a))})}),b},[a,g]),i=(0,w.useMemo)(()=>g.filter(a=>{let b=(0,y.format)(a,"yyyy-MM-dd");return h[b]&&h[b].length>0}),[g,h]),j=a=>{let b=a.getDay();return 0===b?"text-red-500 dark:text-red-400":6===b?"text-blue-500 dark:text-blue-400":"text-gray-700 dark:text-gray-300"},k=(0,w.useMemo)(()=>Object.values(h).reduce((a,b)=>a+b.length,0),[h]);return(0,v.jsxs)("div",{className:"flex flex-col h-full min-h-0 bg-white dark:bg-gray-900 overflow-hidden",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 shrink-0",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsxs)("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:[(0,y.format)(b,"yyyy년 M월",{locale:cL}),"부터"," ",30,"일간"]}),(0,v.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",i.length,"일, ",k,"개 일정)"]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-main-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"할일"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"진행중"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"지연"})]})]})]}),(0,v.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===i.length?(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[(0,v.jsx)("svg",{className:"w-16 h-16 mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,v.jsx)("p",{className:"text-sm font-medium",children:"일정이 없습니다"}),(0,v.jsx)("p",{className:"text-xs mt-1",children:"해당 기간에 등록된 일정이 없습니다"})]}):(0,v.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:i.map(a=>{let b,g=(0,y.format)(a,"yyyy-MM-dd"),i=h[g]||[],k=(0,cY.isSameDay)((0,dj.constructFrom)(a,a),(0,dj.constructFrom)(a,Date.now())),l=(0,dk.isBefore)(((b=(0,di.toDate)(a,void 0)).setHours(23,59,59,999),b),new Date)&&!k,m=(a=>{if(!c||!d)return!1;let b=(0,y.format)(a,"yyyy-MM-dd");return b<c||b>d})(a);return(0,v.jsxs)("div",{className:`
                    flex
                    ${m?"opacity-50":""}
                    ${l?"bg-gray-50/50 dark:bg-gray-800/30":""}
                    ${k?"bg-main-50/50 dark:bg-main-900/20":""}
                  `,children:[(0,v.jsxs)("div",{className:`
                      w-24 sm:w-32 shrink-0 p-3 sm:p-4 border-r border-gray-100 dark:border-gray-800
                      flex flex-col items-center justify-start
                      ${k?"bg-main-100/50 dark:bg-main-900/30":""}
                      cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors
                    `,onClick:()=>!m&&e(a),children:[(0,v.jsx)("span",{className:`text-2xl sm:text-3xl font-bold ${j(a)}`,children:(0,y.format)(a,"d")}),(0,v.jsx)("span",{className:`text-xs ${j(a)}`,children:(0,y.format)(a,"EEEE",{locale:cL})}),k&&(0,v.jsx)("span",{className:"mt-1 px-1.5 py-0.5 text-[10px] font-medium bg-main-500 text-white rounded",children:"오늘"})]}),(0,v.jsx)("div",{className:"flex-1 p-2 sm:p-3",children:(0,v.jsx)(dm,{tasks:i,onSelectEvent:f})})]},g)})})})]})}function dp({tasks:a=[],boardId:b,project:c,onCreateTask:d,onUpdateTask:e,onDeleteTask:f,onSelectTask:g,onTaskCreated:h,onProjectInfoClick:i}){let j=c?.project_id||"",k=c?.project_name||"이름 없는 프로젝트",l=c?.started_at,m=c?.ended_at;console.log("CalendarView - Project Info:",{project:c,projectName:k,projectStartedAt:l,projectEndedAt:m,boardId:b,projectId:j});let{showTaskAddModal:n,setShowTaskAddModal:o,showTaskDetailModal:p,setShowTaskDetailModal:q,selectedTask:r,setSelectedTask:s,selectedDates:t,setSelectedDates:u,showHelp:x,setShowHelp:z,currentDate:A,setCurrentDate:B,currentView:C,setCurrentView:D}=function(a){let{projectStartedAt:b,projectEndedAt:c}=a||{},[d,e]=(0,w.useState)(!1),[f,g]=(0,w.useState)(!1),[h,i]=(0,w.useState)(null),[j,k]=(0,w.useState)(null),[l,m]=(0,w.useState)(!1),[n,o]=(0,w.useState)(()=>{if(b&&c){let a=new Date,d=new Date(b),e=new Date(c);if(a<d||a>e)return d}return new Date}),[p,q]=(0,w.useState)("month"),[r,s]=(0,w.useState)(new Date);return(0,w.useEffect)(()=>{let a=setInterval(()=>{s(new Date)},6e4);return()=>clearInterval(a)},[]),{showTaskAddModal:d,setShowTaskAddModal:e,showTaskDetailModal:f,setShowTaskDetailModal:g,selectedTask:h,setSelectedTask:i,selectedDates:j,setSelectedDates:k,showHelp:l,setShowHelp:m,currentDate:n,setCurrentDate:o,currentView:p,setCurrentView:q,currentTime:r}}({projectStartedAt:l,projectEndedAt:m});!function({showTaskAddModal:a,showTaskDetailModal:b,currentDate:c,currentView:d,setShowTaskAddModal:e,setShowTaskDetailModal:f,setSelectedTask:g,setSelectedDates:h,setCurrentDate:i,setCurrentView:j}){(0,w.useEffect)(()=>{0;let j=j=>{if("Escape"===j.key){a&&(e(!1),h(null)),b&&(f(!1),g(null));return}if(!a&&!b&&document.activeElement?.tagName!=="INPUT"&&document.activeElement?.tagName!=="TEXTAREA"){if("KeyN"===j.code&&(j.ctrlKey||j.metaKey)&&!j.shiftKey&&!j.altKey){j.preventDefault();let a=new Date;h({started_at:(0,y.format)(a,"yyyy-MM-dd"),ended_at:(0,y.format)(a,"yyyy-MM-dd")}),e(!0);return}("ArrowLeft"===j.key||"ArrowRight"===j.key)&&(j.preventDefault(),i(((a,b,c)=>{let d=new Date(a);switch(c){case"month":d.setMonth(d.getMonth()+b);break;case"week":d.setDate(d.getDate()+7*b);break;case"day":case"agenda":d.setDate(d.getDate()+b)}return d})(c,"ArrowLeft"===j.key?-1:1,d)))}};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[a,b,c,d,e,f,g,h,i,j])}({showTaskAddModal:n,showTaskDetailModal:p,currentDate:A,currentView:C,setShowTaskAddModal:o,setShowTaskDetailModal:q,setSelectedTask:s,setSelectedDates:u,setCurrentDate:B,setCurrentView:D});let[E,F]=(0,w.useState)(!1),[H,I]=(0,w.useState)({priority:"all",assignee:"all",date:"all"}),J=(0,w.useMemo)(()=>a.filter(a=>{if("all"!==H.priority&&a.priority!==H.priority)return!1;if("all"!==H.assignee)switch(H.assignee){case"assigned":if(!a.assigned_user_id)return!1;break;case"unassigned":if(a.assigned_user_id)return!1}if("all"!==H.date){let b=new Date,c=(0,y.format)(b,"yyyy-MM-dd");switch(H.date){case"today":if(!a.started_at||!a.ended_at)return!1;{let b=a.started_at.split("T")[0],d=a.ended_at.split("T")[0];if(c<b||c>d)return!1}break;case"thisWeek":let d=new Date(b);d.setDate(b.getDate()-b.getDay());let e=new Date(d);e.setDate(d.getDate()+6);let f=(0,y.format)(d,"yyyy-MM-dd"),g=(0,y.format)(e,"yyyy-MM-dd");if(!a.started_at||!a.ended_at)return!1;{let b=a.started_at.split("T")[0];if(a.ended_at.split("T")[0]<f||b>g)return!1}break;case"overdue":if("done"===a.status||!a.ended_at||a.ended_at.split("T")[0]>=c)return!1}}return!0}),[a,H,session]),K=(0,w.useCallback)(a=>{I(b=>({...b,...a}))},[]),L=(0,w.useCallback)(a=>{if(console.log("handleNavigate:",a,C,l,m),!l&&!m){console.log("프로젝트 기간 미설정 - 날짜 이동 허용"),B(a);return}let b=new Date(l),c=new Date(m);if("month"===C){let d=new Date(a.getFullYear(),a.getMonth(),1),e=new Date(b.getFullYear(),b.getMonth(),1),f=new Date(c.getFullYear(),c.getMonth(),1);if(console.log("월 뷰 - 날짜 이동 체크:",{minDate:b,maxDate:c,newDate:a}),d<e||d>f)return void(0,cw.showToast)("프로젝트 기간을 확인하세요.","warning")}else if(a<b||a>c)return void(0,cw.showToast)("프로젝트 기간을 확인하세요.","warning");B(a)},[l,m,C,B]),M=(0,w.useCallback)(async a=>{await d?.(a),o(!1),u(null)},[d,o,u]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[(0,v.jsx)(cN,{projectName:k,projectStartedAt:l,projectEndedAt:m,currentView:C,currentDate:A,eventsCount:J.length,showHelp:x,showFilter:E,onToggleHelp:()=>z(!x),onToggleFilter:()=>F(!E),onProjectInfoClick:i,onAddTask:()=>{let a=new Date;u({started_at:(0,y.format)(a,"yyyy-MM-dd"),ended_at:(0,y.format)(a,"yyyy-MM-dd")}),o(!0)}}),x&&(0,v.jsx)(cO,{}),E&&(0,v.jsx)("div",{className:"px-2 sm:px-4",children:(0,v.jsx)(cS,{filter:H,onFilterChange:K,taskCount:J.length,totalCount:a.length})}),(0,v.jsx)("div",{className:"flex-1 min-h-0 flex flex-col p-2 sm:p-3",children:"week"===C?(0,v.jsxs)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,v.jsx)(cW,{currentDate:A,currentView:C,onNavigate:L,onViewChange:D}),(0,v.jsx)(c4,{tasks:J,currentDate:A,projectStartedAt:l,projectEndedAt:m,onSelectSlot:(a,b,c,d)=>{m&&new Date().toISOString().split("T")[0]>m?(0,cw.showToast)("종료된 프로젝트입니다.","warning"):(u({started_at:(0,y.format)(a,"yyyy-MM-dd"),ended_at:(0,y.format)(b,"yyyy-MM-dd"),start_time:void 0!==c?`${c.toString().padStart(2,"0")}:00`:void 0,end_time:void 0!==d?`${d.toString().padStart(2,"0")}:00`:void 0}),o(!0))},onSelectEvent:a=>{s(a),q(!0),g?.(a)}})]}):"month"===C?(0,v.jsxs)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,v.jsx)(cW,{currentDate:A,currentView:C,onNavigate:L,onViewChange:D}),(0,v.jsx)(dc,{tasks:J,currentDate:A,projectStartedAt:l,projectEndedAt:m,onSelectSlot:a=>{m&&new Date().toISOString().split("T")[0]>m?(0,cw.showToast)("종료된 프로젝트입니다.","warning"):(u({started_at:(0,y.format)(a,"yyyy-MM-dd"),ended_at:(0,y.format)(a,"yyyy-MM-dd")}),o(!0))},onSelectRange:(a,b)=>{m&&new Date().toISOString().split("T")[0]>m?(0,cw.showToast)("종료된 프로젝트입니다.","warning"):(u({started_at:(0,y.format)(a,"yyyy-MM-dd"),ended_at:(0,y.format)(b,"yyyy-MM-dd")}),o(!0))},onSelectEvent:a=>{s(a),q(!0),g?.(a)}})]}):"day"===C?(0,v.jsxs)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,v.jsx)(cW,{currentDate:A,currentView:C,onNavigate:L,onViewChange:D}),(0,v.jsx)(dg,{tasks:J,currentDate:A,projectStartedAt:l,projectEndedAt:m,onSelectSlot:(a,b,c)=>{m&&new Date().toISOString().split("T")[0]>m?(0,cw.showToast)("종료된 프로젝트입니다.","warning"):(u({started_at:(0,y.format)(a,"yyyy-MM-dd"),ended_at:(0,y.format)(a,"yyyy-MM-dd"),start_time:void 0!==b?`${b.toString().padStart(2,"0")}:00`:void 0,end_time:void 0!==c?`${c.toString().padStart(2,"0")}:00`:void 0}),o(!0))},onSelectEvent:a=>{s(a),q(!0),g?.(a)}})]}):(0,v.jsxs)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,v.jsx)(cW,{currentDate:A,currentView:C,onNavigate:L,onViewChange:D}),(0,v.jsx)(dn,{tasks:J,currentDate:A,projectStartedAt:l,projectEndedAt:m,onSelectSlot:a=>{m&&new Date().toISOString().split("T")[0]>m?(0,cw.showToast)("종료된 프로젝트입니다.","warning"):(u({started_at:(0,y.format)(a,"yyyy-MM-dd"),ended_at:(0,y.format)(a,"yyyy-MM-dd")}),o(!0))},onSelectEvent:a=>{s(a),q(!0),g?.(a)}})]})}),(0,v.jsx)("div",{className:"sm:hidden",children:(0,v.jsx)(cR,{tasks:J,compact:!0})}),(0,v.jsx)("div",{className:"hidden sm:block",children:(0,v.jsx)(cR,{tasks:J})})]}),n&&t&&(0,v.jsx)(G,{isOpen:!0,onClose:()=>{o(!1),u(null)},children:(0,v.jsx)(cv,{boardId:b,projectId:j,projectStartedAt:l,projectEndedAt:m,onSuccess:M,onCancel:()=>{o(!1),u(null)},initialStartDate:t.started_at,initialEndDate:t.ended_at,initialStartTime:t.start_time,initialEndTime:t.end_time,initialUseTime:!!(t.start_time||t.end_time)})}),p&&r&&(0,v.jsx)(G,{isOpen:!0,onClose:()=>{q(!1),s(null)},children:(0,v.jsx)(cy,{task:{...r,project_id:r.project_id||j},projectStartedAt:l,projectEndedAt:m,onUpdate:(a,b)=>{e?.(a,b),h?.()},onDelete:a=>{f?.(a),q(!1),s(null),h?.()},onClose:()=>{q(!1),s(null)}})})]})}function dq(a){let b=Object.prototype.toString.call(a);return"[object Window]"===b||"[object global]"===b}function dr(a){return"nodeType"in a}function ds(a){var b,c;return a?dq(a)?a:dr(a)&&null!=(b=null==(c=a.ownerDocument)?void 0:c.defaultView)?b:window:window}function dt(a){let{Document:b}=ds(a);return a instanceof b}function du(a){return!dq(a)&&a instanceof ds(a).HTMLElement}function dv(a){return a instanceof ds(a).SVGElement}function dw(a){return a?dq(a)?a.document:dr(a)?dt(a)?a:du(a)||dv(a)?a.ownerDocument:document:document:document}let dx=w.useEffect;function dy(a){let b=(0,w.useRef)(a);return dx(()=>{b.current=a}),(0,w.useCallback)(function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return null==b.current?void 0:b.current(...c)},[])}function dz(a,b){void 0===b&&(b=[a]);let c=(0,w.useRef)(a);return dx(()=>{c.current!==a&&(c.current=a)},b),c}function dA(a,b){let c=(0,w.useRef)();return(0,w.useMemo)(()=>{let b=a(c.current);return c.current=b,b},[...b])}function dB(a){let b=dy(a),c=(0,w.useRef)(null),d=(0,w.useCallback)(a=>{a!==c.current&&(null==b||b(a,c.current)),c.current=a},[]);return[c,d]}function dC(a){let b=(0,w.useRef)();return(0,w.useEffect)(()=>{b.current=a},[a]),b.current}let dD={};function dE(a,b){return(0,w.useMemo)(()=>{if(b)return b;let c=null==dD[a]?0:dD[a]+1;return dD[a]=c,a+"-"+c},[a,b])}function dF(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return d.reduce((b,c)=>{for(let[d,e]of Object.entries(c)){let c=b[d];null!=c&&(b[d]=c+a*e)}return b},{...b})}}let dG=dF(1),dH=dF(-1);function dI(a){if(!a)return!1;let{KeyboardEvent:b}=ds(a.target);return b&&a instanceof b}function dJ(a){if(function(a){if(!a)return!1;let{TouchEvent:b}=ds(a.target);return b&&a instanceof b}(a)){if(a.touches&&a.touches.length){let{clientX:b,clientY:c}=a.touches[0];return{x:b,y:c}}else if(a.changedTouches&&a.changedTouches.length){let{clientX:b,clientY:c}=a.changedTouches[0];return{x:b,y:c}}}return"clientX"in a&&"clientY"in a?{x:a.clientX,y:a.clientY}:null}let dK=Object.freeze({Translate:{toString(a){if(!a)return;let{x:b,y:c}=a;return"translate3d("+(b?Math.round(b):0)+"px, "+(c?Math.round(c):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;let{scaleX:b,scaleY:c}=a;return"scaleX("+b+") scaleY("+c+")"}},Transform:{toString(a){if(a)return[dK.Translate.toString(a),dK.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:b,duration:c,easing:d}=a;return b+" "+c+"ms "+d}}}),dL="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",dM={display:"none"};function dN(a){let{id:b,value:c}=a;return w.default.createElement("div",{id:b,style:dM},c)}function dO(a){let{id:b,announcement:c,ariaLiveType:d="assertive"}=a;return w.default.createElement("div",{id:b,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":d,"aria-atomic":!0},c)}let dP=(0,w.createContext)(null),dQ={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},dR={onDragStart(a){let{active:b}=a;return"Picked up draggable item "+b.id+"."},onDragOver(a){let{active:b,over:c}=a;return c?"Draggable item "+b.id+" was moved over droppable area "+c.id+".":"Draggable item "+b.id+" is no longer over a droppable area."},onDragEnd(a){let{active:b,over:c}=a;return c?"Draggable item "+b.id+" was dropped over droppable area "+c.id:"Draggable item "+b.id+" was dropped."},onDragCancel(a){let{active:b}=a;return"Dragging was cancelled. Draggable item "+b.id+" was dropped."}};function dS(a){var b;let c,{announcements:d=dR,container:e,hiddenTextDescribedById:f,screenReaderInstructions:g=dQ}=a,{announce:h,announcement:i}=function(){let[a,b]=(0,w.useState)("");return{announce:(0,w.useCallback)(a=>{null!=a&&b(a)},[]),announcement:a}}(),j=dE("DndLiveRegion"),[k,l]=(0,w.useState)(!1);if((0,w.useEffect)(()=>{l(!0)},[]),b=(0,w.useMemo)(()=>({onDragStart(a){let{active:b}=a;h(d.onDragStart({active:b}))},onDragMove(a){let{active:b,over:c}=a;d.onDragMove&&h(d.onDragMove({active:b,over:c}))},onDragOver(a){let{active:b,over:c}=a;h(d.onDragOver({active:b,over:c}))},onDragEnd(a){let{active:b,over:c}=a;h(d.onDragEnd({active:b,over:c}))},onDragCancel(a){let{active:b,over:c}=a;h(d.onDragCancel({active:b,over:c}))}}),[h,d]),c=(0,w.useContext)(dP),(0,w.useEffect)(()=>{if(!c)throw Error("useDndMonitor must be used within a children of <DndContext>");return c(b)},[b,c]),!k)return null;let m=w.default.createElement(w.default.Fragment,null,w.default.createElement(dN,{id:f,value:g.draggable}),w.default.createElement(dO,{id:j,announcement:i}));return e?(0,S.createPortal)(m,e):m}function dT(){}(c=l||(l={})).DragStart="dragStart",c.DragMove="dragMove",c.DragEnd="dragEnd",c.DragCancel="dragCancel",c.DragOver="dragOver",c.RegisterDroppable="registerDroppable",c.SetDroppableDisabled="setDroppableDisabled",c.UnregisterDroppable="unregisterDroppable";let dU=Object.freeze({x:0,y:0});function dV(a,b){let{data:{value:c}}=a,{data:{value:d}}=b;return d-c}let dW=a=>{let{collisionRect:b,droppableRects:c,droppableContainers:d}=a,e=[];for(let a of d){let{id:d}=a,f=c.get(d);if(f){let c=function(a,b){let c=Math.max(b.top,a.top),d=Math.max(b.left,a.left),e=Math.min(b.left+b.width,a.left+a.width),f=Math.min(b.top+b.height,a.top+a.height);if(d<e&&c<f){let g=b.width*b.height,h=a.width*a.height,i=(e-d)*(f-c);return Number((i/(g+h-i)).toFixed(4))}return 0}(f,b);c>0&&e.push({id:d,data:{droppableContainer:a,value:c}})}}return e.sort(dV)};function dX(a,b){return a&&b?{x:a.left-b.left,y:a.top-b.top}:dU}let dY=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.reduce((a,b)=>({...a,top:a.top+ +b.y,bottom:a.bottom+ +b.y,left:a.left+ +b.x,right:a.right+ +b.x}),{...a})};function dZ(a){if(a.startsWith("matrix3d(")){let b=a.slice(9,-1).split(/, /);return{x:+b[12],y:+b[13],scaleX:+b[0],scaleY:+b[5]}}if(a.startsWith("matrix(")){let b=a.slice(7,-1).split(/, /);return{x:+b[4],y:+b[5],scaleX:+b[0],scaleY:+b[3]}}return null}let d$={ignoreTransform:!1};function d_(a,b){void 0===b&&(b=d$);let c=a.getBoundingClientRect();if(b.ignoreTransform){let{transform:b,transformOrigin:d}=ds(a).getComputedStyle(a);b&&(c=function(a,b,c){let d=dZ(b);if(!d)return a;let{scaleX:e,scaleY:f,x:g,y:h}=d,i=a.left-g-(1-e)*parseFloat(c),j=a.top-h-(1-f)*parseFloat(c.slice(c.indexOf(" ")+1)),k=e?a.width/e:a.width,l=f?a.height/f:a.height;return{width:k,height:l,top:j,right:i+k,bottom:j+l,left:i}}(c,b,d))}let{top:d,left:e,width:f,height:g,bottom:h,right:i}=c;return{top:d,left:e,width:f,height:g,bottom:h,right:i}}function d0(a){return d_(a,{ignoreTransform:!0})}function d1(a,b){let c=[];return a?function d(e){var f,g;let h;if(null!=b&&c.length>=b||!e)return c;if(dt(e)&&null!=e.scrollingElement&&!c.includes(e.scrollingElement))return c.push(e.scrollingElement),c;if(!du(e)||dv(e)||c.includes(e))return c;let i=ds(a).getComputedStyle(e);return(e!==a&&(void 0===(f=i)&&(f=ds(e).getComputedStyle(e)),h=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(a=>{let b=f[a];return"string"==typeof b&&h.test(b)}))&&c.push(e),void 0===(g=i)&&(g=ds(e).getComputedStyle(e)),"fixed"===g.position)?c:d(e.parentNode)}(a):c}function d2(a){let[b]=d1(a,1);return null!=b?b:null}function d3(a){return dq(a)?a.scrollX:a.scrollLeft}function d4(a){return dq(a)?a.scrollY:a.scrollTop}function d5(a){return{x:d3(a),y:d4(a)}}function d6(a){let b={x:0,y:0},c={height:a.clientHeight,width:a.clientWidth},d={x:a.scrollWidth-c.width,y:a.scrollHeight-c.height},e=a.scrollTop<=b.y,f=a.scrollLeft<=b.x;return{isTop:e,isLeft:f,isBottom:a.scrollTop>=d.y,isRight:a.scrollLeft>=d.x,maxScroll:d,minScroll:b}}(d=m||(m={}))[d.Forward=1]="Forward",d[d.Backward=-1]="Backward";let d7={x:.2,y:.2};function d8(a){return a.reduce((a,b)=>dG(a,d5(b)),dU)}function d9(a,b){if(void 0===b&&(b=d_),!a)return;let{top:c,left:d,bottom:e,right:f}=b(a);d2(a)&&(e<=0||f<=0||c>=window.innerHeight||d>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}let ea=[["x",["left","right"],function(a){return a.reduce((a,b)=>a+d3(b),0)}],["y",["top","bottom"],function(a){return a.reduce((a,b)=>a+d4(b),0)}]];class eb{constructor(a,b){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const c=d1(b),d=d8(c);for(const[b,e,f]of(this.rect={...a},this.width=a.width,this.height=a.height,ea))for(const a of e)Object.defineProperty(this,a,{get:()=>{let e=f(c),g=d[b]-e;return this.rect[a]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ec{constructor(a){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var b;return null==(b=this.target)?void 0:b.removeEventListener(...a)})},this.target=a}add(a,b,c){var d;null==(d=this.target)||d.addEventListener(a,b,c),this.listeners.push([a,b,c])}}function ed(a,b){let c=Math.abs(a.x),d=Math.abs(a.y);return"number"==typeof b?Math.sqrt(c**2+d**2)>b:"x"in b&&"y"in b?c>b.x&&d>b.y:"x"in b?c>b.x:"y"in b&&d>b.y}function ee(a){a.preventDefault()}function ef(a){a.stopPropagation()}(e=n||(n={})).Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange",(f=o||(o={})).Space="Space",f.Down="ArrowDown",f.Right="ArrowRight",f.Left="ArrowLeft",f.Up="ArrowUp",f.Esc="Escape",f.Enter="Enter",f.Tab="Tab";let eg={start:[o.Space,o.Enter],cancel:[o.Esc],end:[o.Space,o.Enter,o.Tab]},eh=(a,b)=>{let{currentCoordinates:c}=b;switch(a.code){case o.Right:return{...c,x:c.x+25};case o.Left:return{...c,x:c.x-25};case o.Down:return{...c,y:c.y+25};case o.Up:return{...c,y:c.y-25}}};class ei{constructor(a){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=a;const{event:{target:b}}=a;this.props=a,this.listeners=new ec(dw(b)),this.windowListeners=new ec(ds(b)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(n.Resize,this.handleCancel),this.windowListeners.add(n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(n.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:a,onStart:b}=this.props,c=a.node.current;c&&d9(c),b(dU)}handleKeyDown(a){if(dI(a)){let{active:b,context:c,options:d}=this.props,{keyboardCodes:e=eg,coordinateGetter:f=eh,scrollBehavior:g="smooth"}=d,{code:h}=a;if(e.end.includes(h))return void this.handleEnd(a);if(e.cancel.includes(h))return void this.handleCancel(a);let{collisionRect:i}=c.current,j=i?{x:i.left,y:i.top}:dU;this.referenceCoordinates||(this.referenceCoordinates=j);let k=f(a,{active:b,context:c.current,currentCoordinates:j});if(k){let b=dH(k,j),d={x:0,y:0},{scrollableAncestors:e}=c.current;for(let c of e){let e=a.code,{isTop:f,isRight:h,isLeft:i,isBottom:j,maxScroll:l,minScroll:m}=d6(c),n=function(a){if(a===document.scrollingElement){let{innerWidth:a,innerHeight:b}=window;return{top:0,left:0,right:a,bottom:b,width:a,height:b}}let{top:b,left:c,right:d,bottom:e}=a.getBoundingClientRect();return{top:b,left:c,right:d,bottom:e,width:a.clientWidth,height:a.clientHeight}}(c),p={x:Math.min(e===o.Right?n.right-n.width/2:n.right,Math.max(e===o.Right?n.left:n.left+n.width/2,k.x)),y:Math.min(e===o.Down?n.bottom-n.height/2:n.bottom,Math.max(e===o.Down?n.top:n.top+n.height/2,k.y))},q=e===o.Right&&!h||e===o.Left&&!i,r=e===o.Down&&!j||e===o.Up&&!f;if(q&&p.x!==k.x){let a=c.scrollLeft+b.x,f=e===o.Right&&a<=l.x||e===o.Left&&a>=m.x;if(f&&!b.y)return void c.scrollTo({left:a,behavior:g});f?d.x=c.scrollLeft-a:d.x=e===o.Right?c.scrollLeft-l.x:c.scrollLeft-m.x,d.x&&c.scrollBy({left:-d.x,behavior:g});break}if(r&&p.y!==k.y){let a=c.scrollTop+b.y,f=e===o.Down&&a<=l.y||e===o.Up&&a>=m.y;if(f&&!b.x)return void c.scrollTo({top:a,behavior:g});f?d.y=c.scrollTop-a:d.y=e===o.Down?c.scrollTop-l.y:c.scrollTop-m.y,d.y&&c.scrollBy({top:-d.y,behavior:g});break}}this.handleMove(a,dG(dH(k,this.referenceCoordinates),d))}}}handleMove(a,b){let{onMove:c}=this.props;a.preventDefault(),c(b)}handleEnd(a){let{onEnd:b}=this.props;a.preventDefault(),this.detach(),b()}handleCancel(a){let{onCancel:b}=this.props;a.preventDefault(),this.detach(),b()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ej(a){return!!(a&&"distance"in a)}function ek(a){return!!(a&&"delay"in a)}ei.activators=[{eventName:"onKeyDown",handler:(a,b,c)=>{let{keyboardCodes:d=eg,onActivation:e}=b,{active:f}=c,{code:g}=a.nativeEvent;if(d.start.includes(g)){let b=f.activatorNode.current;return(!b||a.target===b)&&(a.preventDefault(),null==e||e({event:a.nativeEvent}),!0)}return!1}}];class el{constructor(a,b,c){var d;void 0===c&&(c=function(a){let{EventTarget:b}=ds(a);return a instanceof b?a:dw(a)}(a.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=a,this.events=b;const{event:e}=a,{target:f}=e;this.props=a,this.events=b,this.document=dw(f),this.documentListeners=new ec(this.document),this.listeners=new ec(c),this.windowListeners=new ec(ds(f)),this.initialCoordinates=null!=(d=dJ(e))?d:dU,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:a,props:{options:{activationConstraint:b,bypassActivationConstraint:c}}}=this;if(this.listeners.add(a.move.name,this.handleMove,{passive:!1}),this.listeners.add(a.end.name,this.handleEnd),a.cancel&&this.listeners.add(a.cancel.name,this.handleCancel),this.windowListeners.add(n.Resize,this.handleCancel),this.windowListeners.add(n.DragStart,ee),this.windowListeners.add(n.VisibilityChange,this.handleCancel),this.windowListeners.add(n.ContextMenu,ee),this.documentListeners.add(n.Keydown,this.handleKeydown),b){if(null!=c&&c({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ek(b)){this.timeoutId=setTimeout(this.handleStart,b.delay),this.handlePending(b);return}if(ej(b))return void this.handlePending(b)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(a,b){let{active:c,onPending:d}=this.props;d(c,a,this.initialCoordinates,b)}handleStart(){let{initialCoordinates:a}=this,{onStart:b}=this.props;a&&(this.activated=!0,this.documentListeners.add(n.Click,ef,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(n.SelectionChange,this.removeTextSelection),b(a))}handleMove(a){var b;let{activated:c,initialCoordinates:d,props:e}=this,{onMove:f,options:{activationConstraint:g}}=e;if(!d)return;let h=null!=(b=dJ(a))?b:dU,i=dH(d,h);if(!c&&g){if(ej(g)){if(null!=g.tolerance&&ed(i,g.tolerance))return this.handleCancel();if(ed(i,g.distance))return this.handleStart()}return ek(g)&&ed(i,g.tolerance)?this.handleCancel():void this.handlePending(g,i)}a.cancelable&&a.preventDefault(),f(h)}handleEnd(){let{onAbort:a,onEnd:b}=this.props;this.detach(),this.activated||a(this.props.active),b()}handleCancel(){let{onAbort:a,onCancel:b}=this.props;this.detach(),this.activated||a(this.props.active),b()}handleKeydown(a){a.code===o.Esc&&this.handleCancel()}removeTextSelection(){var a;null==(a=this.document.getSelection())||a.removeAllRanges()}}let em={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class en extends el{constructor(a){const{event:b}=a;super(a,em,dw(b.target))}}en.activators=[{eventName:"onPointerDown",handler:(a,b)=>{let{nativeEvent:c}=a,{onActivation:d}=b;return!!c.isPrimary&&0===c.button&&(null==d||d({event:c}),!0)}}];(g=p||(p={}))[g.RightClick=2]="RightClick";(h=q||(q={}))[h.Pointer=0]="Pointer",h[h.DraggableRect=1]="DraggableRect",(i=r||(r={}))[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder";let eo={x:{[m.Backward]:!1,[m.Forward]:!1},y:{[m.Backward]:!1,[m.Forward]:!1}};(j=s||(s={}))[j.Always=0]="Always",j[j.BeforeDragging=1]="BeforeDragging",j[j.WhileDragging=2]="WhileDragging",(t||(t={})).Optimized="optimized";let ep=new Map;function eq(a,b){return dA(c=>a?c||("function"==typeof b?b(a):a):null,[b,a])}function er(a){let{callback:b,disabled:c}=a;dy(b);let d=(0,w.useMemo)(()=>{},[c]);return(0,w.useEffect)(()=>()=>null==d?void 0:d.disconnect(),[d]),d}function es(a){return new eb(d_(a),a)}function et(a,b,c){void 0===b&&(b=es);let[d,e]=(0,w.useState)(null);function f(){e(d=>{if(!a)return null;if(!1===a.isConnected){var e;return null!=(e=null!=d?d:c)?e:null}let f=b(a);return JSON.stringify(d)===JSON.stringify(f)?d:f})}let g=function(a){let{callback:b,disabled:c}=a,d=dy(b),e=(0,w.useMemo)(()=>{},[d,c]);return(0,w.useEffect)(()=>()=>null==e?void 0:e.disconnect(),[e]),e}({callback(b){if(a)for(let c of b){let{type:b,target:d}=c;if("childList"===b&&d instanceof HTMLElement&&d.contains(a)){f();break}}}}),h=er({callback:f});return dx(()=>{f(),a?(null==h||h.observe(a),null==g||g.observe(document.body,{childList:!0,subtree:!0})):(null==h||h.disconnect(),null==g||g.disconnect())},[a]),d}let eu=[];function ev(a,b){void 0===b&&(b=[]);let c=(0,w.useRef)(null);return(0,w.useEffect)(()=>{c.current=null},b),(0,w.useEffect)(()=>{let b=a!==dU;b&&!c.current&&(c.current=a),!b&&c.current&&(c.current=null)},[a]),c.current?dH(a,c.current):dU}function ew(a){return(0,w.useMemo)(()=>{let b,c;return a?(b=a.innerWidth,{top:0,left:0,right:b,bottom:c=a.innerHeight,width:b,height:c}):null},[a])}let ex=[];function ey(a){if(!a)return null;if(a.children.length>1)return a;let b=a.children[0];return du(b)?b:a}let ez=[{sensor:en,options:{}},{sensor:ei,options:{}}],eA={current:{}},eB={draggable:{measure:d0},droppable:{measure:d0,strategy:s.WhileDragging,frequency:t.Optimized},dragOverlay:{measure:d_}};class eC extends Map{get(a){var b;return null!=a&&null!=(b=super.get(a))?b:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(a=>{let{disabled:b}=a;return!b})}getNodeFor(a){var b,c;return null!=(b=null==(c=this.get(a))?void 0:c.node.current)?b:void 0}}let eD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new eC,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dT},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:eB,measureDroppableContainers:dT,windowRect:null,measuringScheduled:!1},eE={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:dT,draggableNodes:new Map,over:null,measureDroppableContainers:dT},eF=(0,w.createContext)(eE),eG=(0,w.createContext)(eD);function eH(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new eC}}}function eI(a,b){switch(b.type){case l.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:b.initialCoordinates,active:b.active}};case l.DragMove:if(null==a.draggable.active)return a;return{...a,draggable:{...a.draggable,translate:{x:b.coordinates.x-a.draggable.initialCoordinates.x,y:b.coordinates.y-a.draggable.initialCoordinates.y}}};case l.DragEnd:case l.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case l.RegisterDroppable:{let{element:c}=b,{id:d}=c,e=new eC(a.droppable.containers);return e.set(d,c),{...a,droppable:{...a.droppable,containers:e}}}case l.SetDroppableDisabled:{let{id:c,key:d,disabled:e}=b,f=a.droppable.containers.get(c);if(!f||d!==f.key)return a;let g=new eC(a.droppable.containers);return g.set(c,{...f,disabled:e}),{...a,droppable:{...a.droppable,containers:g}}}case l.UnregisterDroppable:{let{id:c,key:d}=b,e=a.droppable.containers.get(c);if(!e||d!==e.key)return a;let f=new eC(a.droppable.containers);return f.delete(c),{...a,droppable:{...a.droppable,containers:f}}}default:return a}}function eJ(a){let{disabled:b}=a,{active:c,activatorEvent:d,draggableNodes:e}=(0,w.useContext)(eF),f=dC(d),g=dC(null==c?void 0:c.id);return(0,w.useEffect)(()=>{if(!b&&!d&&f&&null!=g){if(!dI(f)||document.activeElement===f.target)return;let a=e.get(g);if(!a)return;let{activatorNode:b,node:c}=a;(b.current||c.current)&&requestAnimationFrame(()=>{for(let a of[b.current,c.current]){if(!a)continue;let b=a.matches(dL)?a:a.querySelector(dL);if(b){b.focus();break}}})}},[d,b,e,g,f]),null}function eK(a,b){let{transform:c,...d}=b;return null!=a&&a.length?a.reduce((a,b)=>b({transform:a,...d}),c):c}let eL=(0,w.createContext)({...dU,scaleX:1,scaleY:1});(k=u||(u={}))[k.Uninitialized=0]="Uninitialized",k[k.Initializing=1]="Initializing",k[k.Initialized=2]="Initialized";let eM=(0,w.memo)(function(a){var b,c,d,e,f,g,h,i;let j,k,n,o,p,t,v,x,{id:y,accessibility:z,autoScroll:A=!0,children:B,sensors:C=ez,collisionDetection:D=dW,measuring:E,modifiers:F,...G}=a,[H,I]=(0,w.useReducer)(eI,void 0,eH),[J,K]=function(){let[a]=(0,w.useState)(()=>new Set),b=(0,w.useCallback)(b=>(a.add(b),()=>a.delete(b)),[a]);return[(0,w.useCallback)(b=>{let{type:c,event:d}=b;a.forEach(a=>{var b;return null==(b=a[c])?void 0:b.call(a,d)})},[a]),b]}(),[L,M]=(0,w.useState)(u.Uninitialized),N=L===u.Initialized,{draggable:{active:O,nodes:P,translate:Q},droppable:{containers:R}}=H,T=null!=O?P.get(O):null,U=(0,w.useRef)({initial:null,translated:null}),V=(0,w.useMemo)(()=>{var a;return null!=O?{id:O,data:null!=(a=null==T?void 0:T.data)?a:eA,rect:U}:null},[O,T]),W=(0,w.useRef)(null),[X,Y]=(0,w.useState)(null),[Z,$]=(0,w.useState)(null),_=dz(G,Object.values(G)),aa=dE("DndDescribedBy",y),ab=(0,w.useMemo)(()=>R.getEnabled(),[R]),ac=(0,w.useMemo)(()=>({draggable:{...eB.draggable,...null==E?void 0:E.draggable},droppable:{...eB.droppable,...null==E?void 0:E.droppable},dragOverlay:{...eB.dragOverlay,...null==E?void 0:E.dragOverlay}}),[null==E?void 0:E.draggable,null==E?void 0:E.droppable,null==E?void 0:E.dragOverlay]),{droppableRects:ad,measureDroppableContainers:ae,measuringScheduled:af}=function(a,b){let{dragging:c,dependencies:d,config:e}=b,[f,g]=(0,w.useState)(null),{frequency:h,measure:i,strategy:j}=e,k=(0,w.useRef)(a),l=function(){switch(j){case s.Always:return!1;case s.BeforeDragging:return c;default:return!c}}(),m=dz(l),n=(0,w.useCallback)(function(a){void 0===a&&(a=[]),m.current||g(b=>null===b?a:b.concat(a.filter(a=>!b.includes(a))))},[m]),o=(0,w.useRef)(null),p=dA(b=>{if(l&&!c)return ep;if(!b||b===ep||k.current!==a||null!=f){let b=new Map;for(let c of a){if(!c)continue;if(f&&f.length>0&&!f.includes(c.id)&&c.rect.current){b.set(c.id,c.rect.current);continue}let a=c.node.current,d=a?new eb(i(a),a):null;c.rect.current=d,d&&b.set(c.id,d)}return b}return b},[a,f,c,l,i]);return(0,w.useEffect)(()=>{k.current=a},[a]),(0,w.useEffect)(()=>{l||n()},[c,l]),(0,w.useEffect)(()=>{f&&f.length>0&&g(null)},[JSON.stringify(f)]),(0,w.useEffect)(()=>{l||"number"!=typeof h||null!==o.current||(o.current=setTimeout(()=>{n(),o.current=null},h))},[h,l,n,...d]),{droppableRects:p,measureDroppableContainers:n,measuringScheduled:null!=f}}(ab,{dragging:N,dependencies:[Q.x,Q.y],config:ac.droppable}),ag=dA(a=>{var b;return null==O?null:null!=(b=null!=p?p:a)?b:null},[p=(o=null!=O?P.get(O):void 0)?o.node.current:null,O]),ah=(0,w.useMemo)(()=>Z?dJ(Z):null,[Z]),ai=(j=(null==X?void 0:X.autoScrollEnabled)===!1,k="object"==typeof A?!1===A.enabled:!1===A,n=N&&!j&&!k,"object"==typeof A?{...A,enabled:n}:{enabled:n}),aj=eq(ag,ac.draggable.measure);!function(a){let{activeNode:b,measure:c,initialRect:d,config:e=!0}=a,f=(0,w.useRef)(!1),{x:g,y:h}="boolean"==typeof e?{x:e,y:e}:e;dx(()=>{if(!g&&!h||!b){f.current=!1;return}if(f.current||!d)return;let a=null==b?void 0:b.node.current;if(!a||!1===a.isConnected)return;let e=dX(c(a),d);if(g||(e.x=0),h||(e.y=0),f.current=!0,Math.abs(e.x)>0||Math.abs(e.y)>0){let b=d2(a);b&&b.scrollBy({top:e.y,left:e.x})}},[b,g,h,d,c])}({activeNode:null!=O?P.get(O):null,config:ai.layoutShiftCompensation,initialRect:aj,measure:ac.draggable.measure});let ak=et(ag,ac.draggable.measure,aj),al=et(ag?ag.parentElement:null),am=(0,w.useRef)({activatorEvent:null,active:null,activeNode:ag,collisionRect:null,collisions:null,droppableRects:ad,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),an=R.getNodeFor(null==(b=am.current.over)?void 0:b.id),ao=function(a){let{measure:b}=a,[c,d]=(0,w.useState)(null),e=er({callback:(0,w.useCallback)(a=>{for(let{target:c}of a)if(du(c)){d(a=>{let d=b(c);return a?{...a,width:d.width,height:d.height}:d});break}},[b])}),[f,g]=dB((0,w.useCallback)(a=>{let c=ey(a);null==e||e.disconnect(),c&&(null==e||e.observe(c)),d(c?b(c):null)},[b,e]));return(0,w.useMemo)(()=>({nodeRef:f,rect:c,setRef:g}),[c,f,g])}({measure:ac.dragOverlay.measure}),ap=null!=(c=ao.nodeRef.current)?c:ag,aq=N?null!=(d=ao.rect)?d:ak:null,ar=!!(ao.nodeRef.current&&ao.rect),as=(t=eq(f=ar?null:ak),dX(f,t)),at=ew(ap?ds(ap):null),au=(g=N?null!=an?an:ag:null,v=(0,w.useRef)(g),x=dA(a=>g?a&&a!==eu&&g&&v.current&&g.parentNode===v.current.parentNode?a:d1(g):eu,[g]),(0,w.useEffect)(()=>{v.current=g},[g]),x),av=function(a,b){void 0===b&&(b=d_);let[c]=a,d=ew(c?ds(c):null),[e,f]=(0,w.useState)(ex);function g(){f(()=>a.length?a.map(a=>new eb(b(a),a)):ex)}let h=er({callback:g});return dx(()=>{null==h||h.disconnect(),g(),a.forEach(a=>null==h?void 0:h.observe(a))},[a]),e}(au),aw=eK(F,{transform:{x:Q.x-as.x,y:Q.y-as.y,scaleX:1,scaleY:1},activatorEvent:Z,active:V,activeNodeRect:ak,containerNodeRect:al,draggingNodeRect:aq,over:am.current.over,overlayNodeRect:ao.rect,scrollableAncestors:au,scrollableAncestorRects:av,windowRect:at}),ax=ah?dG(ah,Q):null,ay=function(a){let[b,c]=(0,w.useState)(null),d=(0,w.useRef)(a),e=(0,w.useCallback)(a=>{var b;let d=(b=a.target,null);d&&c(a=>a?(a.set(d,d5(d)),new Map(a)):null)},[]);return(0,w.useEffect)(()=>{let b=d.current;if(a!==b){f(b);let g=a.map(a=>{var b;let c=(b=0,null);return c?(c.addEventListener("scroll",e,{passive:!0}),[c,d5(c)]):null}).filter(a=>null!=a);c(g.length?new Map(g):null),d.current=a}return()=>{f(a),f(b)};function f(a){a.forEach(a=>{let b=null;null==b||b.removeEventListener("scroll",e)})}},[e,a]),(0,w.useMemo)(()=>a.length?b?Array.from(b.values()).reduce((a,b)=>dG(a,b),dU):d8(a):dU,[a,b])}(au),az=ev(ay),aA=ev(ay,[ak]),aB=dG(aw,az),aC=aq?dY(aq,aw):null,aD=V&&aC?D({active:V,collisionRect:aC,droppableRects:ad,droppableContainers:ab,pointerCoordinates:ax}):null,aE=function(a,b){if(!a||0===a.length)return null;let[c]=a;return c.id}(aD,0),[aF,aG]=(0,w.useState)(null),aH=(h=ar?aw:dG(aw,aA),i=null!=(e=null==aF?void 0:aF.rect)?e:null,{...h,scaleX:i&&ak?i.width/ak.width:1,scaleY:i&&ak?i.height/ak.height:1}),aI=(0,w.useRef)(null),aJ=(0,w.useCallback)((a,b)=>{let{sensor:c,options:d}=b;if(null==W.current)return;let e=P.get(W.current);if(!e)return;let f=a.nativeEvent,g=new c({active:W.current,activeNode:e,event:f,options:d,context:am,onAbort(a){if(!P.get(a))return;let{onDragAbort:b}=_.current,c={id:a};null==b||b(c),J({type:"onDragAbort",event:c})},onPending(a,b,c,d){if(!P.get(a))return;let{onDragPending:e}=_.current,f={id:a,constraint:b,initialCoordinates:c,offset:d};null==e||e(f),J({type:"onDragPending",event:f})},onStart(a){let b=W.current;if(null==b)return;let c=P.get(b);if(!c)return;let{onDragStart:d}=_.current,e={activatorEvent:f,active:{id:b,data:c.data,rect:U}};(0,S.unstable_batchedUpdates)(()=>{null==d||d(e),M(u.Initializing),I({type:l.DragStart,initialCoordinates:a,active:b}),J({type:"onDragStart",event:e}),Y(aI.current),$(f)})},onMove(a){I({type:l.DragMove,coordinates:a})},onEnd:h(l.DragEnd),onCancel:h(l.DragCancel)});function h(a){return async function(){let{active:b,collisions:c,over:d,scrollAdjustedTranslate:e}=am.current,g=null;if(b&&e){let{cancelDrop:h}=_.current;g={activatorEvent:f,active:b,collisions:c,delta:e,over:d},a===l.DragEnd&&"function"==typeof h&&await Promise.resolve(h(g))&&(a=l.DragCancel)}W.current=null,(0,S.unstable_batchedUpdates)(()=>{I({type:a}),M(u.Uninitialized),aG(null),Y(null),$(null),aI.current=null;let b=a===l.DragEnd?"onDragEnd":"onDragCancel";if(g){let a=_.current[b];null==a||a(g),J({type:b,event:g})}})}}aI.current=g},[P]),aK=(0,w.useCallback)((a,b)=>(c,d)=>{let e=c.nativeEvent,f=P.get(d);null!==W.current||!f||e.dndKit||e.defaultPrevented||!0===a(c,b.options,{active:f})&&(e.dndKit={capturedBy:b.sensor},W.current=d,aJ(c,b))},[P,aJ]),aL=(0,w.useMemo)(()=>C.reduce((a,b)=>{let{sensor:c}=b;return[...a,...c.activators.map(a=>({eventName:a.eventName,handler:aK(a.handler,b)}))]},[]),[C,aK]);(0,w.useEffect)(()=>{},C.map(a=>{let{sensor:b}=a;return b})),dx(()=>{ak&&L===u.Initializing&&M(u.Initialized)},[ak,L]),(0,w.useEffect)(()=>{let{onDragMove:a}=_.current,{active:b,activatorEvent:c,collisions:d,over:e}=am.current;if(!b||!c)return;let f={active:b,activatorEvent:c,collisions:d,delta:{x:aB.x,y:aB.y},over:e};(0,S.unstable_batchedUpdates)(()=>{null==a||a(f),J({type:"onDragMove",event:f})})},[aB.x,aB.y]),(0,w.useEffect)(()=>{let{active:a,activatorEvent:b,collisions:c,droppableContainers:d,scrollAdjustedTranslate:e}=am.current;if(!a||null==W.current||!b||!e)return;let{onDragOver:f}=_.current,g=d.get(aE),h=g&&g.rect.current?{id:g.id,rect:g.rect.current,data:g.data,disabled:g.disabled}:null,i={active:a,activatorEvent:b,collisions:c,delta:{x:e.x,y:e.y},over:h};(0,S.unstable_batchedUpdates)(()=>{aG(h),null==f||f(i),J({type:"onDragOver",event:i})})},[aE]),dx(()=>{am.current={activatorEvent:Z,active:V,activeNode:ag,collisionRect:aC,collisions:aD,droppableRects:ad,draggableNodes:P,draggingNode:ap,draggingNodeRect:aq,droppableContainers:R,over:aF,scrollableAncestors:au,scrollAdjustedTranslate:aB},U.current={initial:aq,translated:aC}},[V,ag,aD,aC,P,ap,aq,ad,R,aF,au,aB]),function(a){let b,{acceleration:c,activator:d=q.Pointer,canScroll:e,draggingRect:f,enabled:g,interval:h=5,order:i=r.TreeOrder,pointerCoordinates:j,scrollableAncestors:k,scrollableAncestorRects:l,delta:n,threshold:o}=a,p=function(a){let{delta:b,disabled:c}=a,d=dC(b);return dA(a=>{if(c||!d||!a)return eo;let e={x:Math.sign(b.x-d.x),y:Math.sign(b.y-d.y)};return{x:{[m.Backward]:a.x[m.Backward]||-1===e.x,[m.Forward]:a.x[m.Forward]||1===e.x},y:{[m.Backward]:a.y[m.Backward]||-1===e.y,[m.Forward]:a.y[m.Forward]||1===e.y}}},[c,b,d])}({delta:n,disabled:!g}),[s,t]=(b=(0,w.useRef)(null),[(0,w.useCallback)((a,c)=>{b.current=setInterval(a,c)},[]),(0,w.useCallback)(()=>{null!==b.current&&(clearInterval(b.current),b.current=null)},[])]),u=(0,w.useRef)({x:0,y:0}),v=(0,w.useRef)({x:0,y:0}),x=(0,w.useMemo)(()=>{switch(d){case q.Pointer:return j?{top:j.y,bottom:j.y,left:j.x,right:j.x}:null;case q.DraggableRect:return f}},[d,f,j]),y=(0,w.useRef)(null),z=(0,w.useCallback)(()=>{let a=y.current;if(!a)return;let b=u.current.x*v.current.x,c=u.current.y*v.current.y;a.scrollBy(b,c)},[]),A=(0,w.useMemo)(()=>i===r.TreeOrder?[...k].reverse():k,[i,k]);(0,w.useEffect)(()=>{if(!g||!k.length||!x)return void t();for(let a of A){if((null==e?void 0:e(a))===!1)continue;let b=l[k.indexOf(a)];if(!b)continue;let{direction:d,speed:f}=function(a,b,c,d,e){let{top:f,left:g,right:h,bottom:i}=c;void 0===d&&(d=10),void 0===e&&(e=d7);let{isTop:j,isBottom:k,isLeft:l,isRight:n}=d6(a),o={x:0,y:0},p={x:0,y:0},q={height:b.height*e.y,width:b.width*e.x};return!j&&f<=b.top+q.height?(o.y=m.Backward,p.y=d*Math.abs((b.top+q.height-f)/q.height)):!k&&i>=b.bottom-q.height&&(o.y=m.Forward,p.y=d*Math.abs((b.bottom-q.height-i)/q.height)),!n&&h>=b.right-q.width?(o.x=m.Forward,p.x=d*Math.abs((b.right-q.width-h)/q.width)):!l&&g<=b.left+q.width&&(o.x=m.Backward,p.x=d*Math.abs((b.left+q.width-g)/q.width)),{direction:o,speed:p}}(a,b,x,c,o);for(let a of["x","y"])p[a][d[a]]||(f[a]=0,d[a]=0);if(f.x>0||f.y>0){t(),y.current=a,s(z,h),u.current=f,v.current=d;return}}u.current={x:0,y:0},v.current={x:0,y:0},t()},[c,z,e,t,g,h,JSON.stringify(x),JSON.stringify(p),s,k,A,l,JSON.stringify(o)])}({...ai,delta:Q,draggingRect:aC,pointerCoordinates:ax,scrollableAncestors:au,scrollableAncestorRects:av});let aM=(0,w.useMemo)(()=>({active:V,activeNode:ag,activeNodeRect:ak,activatorEvent:Z,collisions:aD,containerNodeRect:al,dragOverlay:ao,draggableNodes:P,droppableContainers:R,droppableRects:ad,over:aF,measureDroppableContainers:ae,scrollableAncestors:au,scrollableAncestorRects:av,measuringConfiguration:ac,measuringScheduled:af,windowRect:at}),[V,ag,ak,Z,aD,al,ao,P,R,ad,aF,ae,au,av,ac,af,at]),aN=(0,w.useMemo)(()=>({activatorEvent:Z,activators:aL,active:V,activeNodeRect:ak,ariaDescribedById:{draggable:aa},dispatch:I,draggableNodes:P,over:aF,measureDroppableContainers:ae}),[Z,aL,V,ak,I,aa,P,aF,ae]);return w.default.createElement(dP.Provider,{value:K},w.default.createElement(eF.Provider,{value:aN},w.default.createElement(eG.Provider,{value:aM},w.default.createElement(eL.Provider,{value:aH},B)),w.default.createElement(eJ,{disabled:(null==z?void 0:z.restoreFocus)===!1})),w.default.createElement(dS,{...z,hiddenTextDescribedById:aa}))}),eN=(0,w.createContext)(null),eO="button";function eP(){return(0,w.useContext)(eG)}let eQ={timeout:25};function eR(a){let{data:b,disabled:c=!1,id:d,resizeObserverConfig:e}=a,f=dE("Droppable"),{active:g,dispatch:h,over:i,measureDroppableContainers:j}=(0,w.useContext)(eF),k=(0,w.useRef)({disabled:c}),m=(0,w.useRef)(!1),n=(0,w.useRef)(null),o=(0,w.useRef)(null),{disabled:p,updateMeasurementsFor:q,timeout:r}={...eQ,...e},s=dz(null!=q?q:d),t=er({callback:(0,w.useCallback)(()=>{if(!m.current){m.current=!0;return}null!=o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{j(Array.isArray(s.current)?s.current:[s.current]),o.current=null},r)},[r]),disabled:p||!g}),[u,v]=dB((0,w.useCallback)((a,b)=>{t&&(b&&(t.unobserve(b),m.current=!1),a&&t.observe(a))},[t])),x=dz(b);return(0,w.useEffect)(()=>{t&&u.current&&(t.disconnect(),m.current=!1,t.observe(u.current))},[u,t]),(0,w.useEffect)(()=>(h({type:l.RegisterDroppable,element:{id:d,key:f,disabled:c,node:u,rect:n,data:x}}),()=>h({type:l.UnregisterDroppable,key:f,id:d})),[d]),(0,w.useEffect)(()=>{c!==k.current.disabled&&(h({type:l.SetDroppableDisabled,id:d,key:f,disabled:c}),k.current.disabled=c)},[d,f,c,h]),{active:g,rect:n,isOver:(null==i?void 0:i.id)===d,node:u,over:i,setNodeRef:v}}function eS(a){let{animation:b,children:c}=a,[d,e]=(0,w.useState)(null),[f,g]=(0,w.useState)(null),h=dC(c);return c||d||!h||e(h),dx(()=>{if(!f)return;let a=null==d?void 0:d.key,c=null==d?void 0:d.props.id;null==a||null==c?e(null):Promise.resolve(b(c,f)).then(()=>{e(null)})},[b,d,f]),w.default.createElement(w.default.Fragment,null,c,d?(0,w.cloneElement)(d,{ref:g}):null)}let eT={x:0,y:0,scaleX:1,scaleY:1};function eU(a){let{children:b}=a;return w.default.createElement(eF.Provider,{value:eE},w.default.createElement(eL.Provider,{value:eT},b))}let eV={position:"fixed",touchAction:"none"},eW=a=>dI(a)?"transform 250ms ease":void 0,eX=(0,w.forwardRef)((a,b)=>{let{as:c,activatorEvent:d,adjustScale:e,children:f,className:g,rect:h,style:i,transform:j,transition:k=eW}=a;if(!h)return null;let l=e?j:{...j,scaleX:1,scaleY:1},m={...eV,width:h.width,height:h.height,top:h.top,left:h.left,transform:dK.Transform.toString(l),transformOrigin:e&&d?function(a,b){let c=dJ(a);if(!c)return"0 0";let d={x:(c.x-b.left)/b.width*100,y:(c.y-b.top)/b.height*100};return d.x+"% "+d.y+"%"}(d,h):void 0,transition:"function"==typeof k?k(d):k,...i};return w.default.createElement(c,{className:g,style:m,ref:b},f)}),eY={duration:250,easing:"ease",keyframes:a=>{let{transform:{initial:b,final:c}}=a;return[{transform:dK.Transform.toString(b)},{transform:dK.Transform.toString(c)}]},sideEffects:(b={styles:{active:{opacity:"0"}}},a=>{let{active:c,dragOverlay:d}=a,e={},{styles:f,className:g}=b;if(null!=f&&f.active)for(let[a,b]of Object.entries(f.active))void 0!==b&&(e[a]=c.node.style.getPropertyValue(a),c.node.style.setProperty(a,b));if(null!=f&&f.dragOverlay)for(let[a,b]of Object.entries(f.dragOverlay))void 0!==b&&d.node.style.setProperty(a,b);return null!=g&&g.active&&c.node.classList.add(g.active),null!=g&&g.dragOverlay&&d.node.classList.add(g.dragOverlay),function(){for(let[a,b]of Object.entries(e))c.node.style.setProperty(a,b);null!=g&&g.active&&c.node.classList.remove(g.active)}})},eZ=0,e$=w.default.memo(a=>{var b;let{adjustScale:c=!1,children:d,dropAnimation:e,style:f,transition:g,modifiers:h,wrapperElement:i="div",className:j,zIndex:k=999}=a,{activatorEvent:l,active:m,activeNodeRect:n,containerNodeRect:o,draggableNodes:p,droppableContainers:q,dragOverlay:r,over:s,measuringConfiguration:t,scrollableAncestors:u,scrollableAncestorRects:v,windowRect:x}=eP(),y=(0,w.useContext)(eL),z=(b=null==m?void 0:m.id,(0,w.useMemo)(()=>{if(null!=b)return++eZ},[b])),A=eK(h,{activatorEvent:l,active:m,activeNodeRect:n,containerNodeRect:o,draggingNodeRect:r.rect,over:s,overlayNodeRect:r.rect,scrollableAncestors:u,scrollableAncestorRects:v,transform:y,windowRect:x}),B=eq(n),C=function(a){let{config:b,draggableNodes:c,droppableContainers:d,measuringConfiguration:e}=a;return dy((a,f)=>{if(null===b)return;let g=c.get(a);if(!g)return;let h=g.node.current;if(!h)return;let i=ey(f);if(!i)return;let{transform:j}=ds(f).getComputedStyle(f),k=dZ(j);if(!k)return;let l="function"==typeof b?b:function(a){let{duration:b,easing:c,sideEffects:d,keyframes:e}={...eY,...a};return a=>{let{active:f,dragOverlay:g,transform:h,...i}=a;if(!b)return;let j={x:g.rect.left-f.rect.left,y:g.rect.top-f.rect.top},k={scaleX:1!==h.scaleX?f.rect.width*h.scaleX/g.rect.width:1,scaleY:1!==h.scaleY?f.rect.height*h.scaleY/g.rect.height:1},l={x:h.x-j.x,y:h.y-j.y,...k},m=e({...i,active:f,dragOverlay:g,transform:{initial:h,final:l}}),[n]=m,o=m[m.length-1];if(JSON.stringify(n)===JSON.stringify(o))return;let p=null==d?void 0:d({active:f,dragOverlay:g,...i}),q=g.node.animate(m,{duration:b,easing:c,fill:"forwards"});return new Promise(a=>{q.onfinish=()=>{null==p||p(),a()}})}}(b);return d9(h,e.draggable.measure),l({active:{id:a,data:g.data,node:h,rect:e.draggable.measure(h)},draggableNodes:c,dragOverlay:{node:f,rect:e.dragOverlay.measure(i)},droppableContainers:d,measuringConfiguration:e,transform:k})})}({config:e,draggableNodes:p,droppableContainers:q,measuringConfiguration:t}),D=B?r.setRef:void 0;return w.default.createElement(eU,null,w.default.createElement(eS,{animation:C},m&&z?w.default.createElement(eX,{key:z,id:m.id,ref:D,as:i,activatorEvent:l,adjustScale:c,className:j,transition:g,rect:B,style:{zIndex:k,...f},transform:A},d):null))}),e_=[{id:"todo",title:"할 일",status:"todo"},{id:"inprogress",title:"진행 중",status:"inprogress"},{id:"done",title:"완료",status:"done"}];function e0(a,b,c){let d=a.slice();return d.splice(c<0?d.length+c:c,0,d.splice(b,1)[0]),d}function e1(a){return null!==a&&a>=0}let e2=a=>{let{rects:b,activeIndex:c,overIndex:d,index:e}=a,f=e0(b,d,c),g=b[e],h=f[e];return h&&g?{x:h.left-g.left,y:h.top-g.top,scaleX:h.width/g.width,scaleY:h.height/g.height}:null},e3={scaleX:1,scaleY:1},e4=a=>{var b,c,d,e;let f,g,h,{activeIndex:i,activeNodeRect:j,index:k,rects:l,overIndex:m}=a,n=null!=(b=l[i])?b:j;if(!n)return null;if(k===i){let a=l[m];return a?{x:0,y:i<m?a.top+a.height-(n.top+n.height):a.top-n.top,...e3}:null}let o=(c=l,d=k,e=i,f=c[d],g=c[d-1],h=c[d+1],f?e<d?g?f.top-(g.top+g.height):h?h.top-(f.top+f.height):0:h?h.top-(f.top+f.height):g?f.top-(g.top+g.height):0:0);return k>i&&k<=m?{x:0,y:-n.height-o,...e3}:k<i&&k>=m?{x:0,y:n.height+o,...e3}:{x:0,y:0,...e3}},e5="Sortable",e6=w.default.createContext({activeIndex:-1,containerId:e5,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:e2,disabled:{draggable:!1,droppable:!1}});function e7(a){let{children:b,id:c,items:d,strategy:e=e2,disabled:f=!1}=a,{active:g,dragOverlay:h,droppableRects:i,over:j,measureDroppableContainers:k}=eP(),l=dE(e5,c),m=null!==h.rect,n=(0,w.useMemo)(()=>d.map(a=>"object"==typeof a&&"id"in a?a.id:a),[d]),o=null!=g,p=g?n.indexOf(g.id):-1,q=j?n.indexOf(j.id):-1,r=(0,w.useRef)(n),s=!function(a,b){if(a===b)return!0;if(a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}(n,r.current),t=-1!==q&&-1===p||s,u="boolean"==typeof f?{draggable:f,droppable:f}:f;dx(()=>{s&&o&&k(n)},[s,n,o,k]),(0,w.useEffect)(()=>{r.current=n},[n]);let v=(0,w.useMemo)(()=>({activeIndex:p,containerId:l,disabled:u,disableTransforms:t,items:n,overIndex:q,useDragOverlay:m,sortedRects:n.reduce((a,b,c)=>{let d=i.get(b);return d&&(a[c]=d),a},Array(n.length)),strategy:e}),[p,l,u.draggable,u.droppable,t,n,q,i,m,e]);return w.default.createElement(e6.Provider,{value:v},b)}let e8=a=>{let{id:b,items:c,activeIndex:d,overIndex:e}=a;return e0(c,d,e).indexOf(b)},e9=a=>{let{containerId:b,isSorting:c,wasDragging:d,index:e,items:f,newIndex:g,previousItems:h,previousContainerId:i,transition:j}=a;return!!j&&!!d&&(h===f||e!==g)&&(!!c||g!==e&&b===i)},fa={duration:200,easing:"ease"},fb="transform",fc=dK.Transition.toString({property:fb,duration:0,easing:"linear"}),fd={roleDescription:"sortable"};o.Down,o.Right,o.Up,o.Left;var fe=a.i(66407),fe=fe;let ff=({priority:a})=>(0,v.jsx)(L,{type:a}),fg=({userId:a,projectId:b})=>{let[c,d]=(0,w.useState)(null),[e,f]=(0,w.useState)(!0);return((0,w.useEffect)(()=>{(async()=>{if(!b||"undefined"===b||!a||"undefined"===a){d(null),f(!1);return}try{let c=await fetch(`/api/projectMembers/forAssignment?projectId=${b}`);if(!c.ok)throw Error("Failed to fetch user info");let e=await c.json(),f=e.data?.find(b=>b.user_id===a);f&&d({user_id:f.user_id,user_name:f.users.user_name,email:f.users.email,profile_image:f.users.profile_image,role:f.role})}catch{d(null)}finally{f(!1)}})()},[a,b]),e)?(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(cp,{userName:"로딩",profileImage:null,size:24,className:"animate-pulse"}),(0,v.jsx)("span",{className:"text-xs text-gray-400",children:"불러오는 중..."})]}):c?(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(cp,{userName:c.user_name,profileImage:c.profile_image,size:24}),(0,v.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:c.user_name})]}):(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(cp,{userName:"?",profileImage:null,size:24}),(0,v.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-400",children:"담당자 없음"})]})},fh=({startedAt:a,endedAt:b,startTime:c,endTime:d,useTime:e,status:f})=>{if(!a&&!b)return null;let g="done"===f,h=a=>{let b,c=new Date,d=new Date(c.getFullYear(),c.getMonth(),c.getDate());if(a.includes("T")){let c=a.split("T")[0].split("-");b=new Date(parseInt(c[0]),parseInt(c[1])-1,parseInt(c[2]))}else{let c=a.split("-");b=new Date(parseInt(c[0]),parseInt(c[1])-1,parseInt(c[2]))}return Math.round((b.getTime()-d.getTime())/864e5)},i=(a,b)=>{let c=new Date;if(e&&b){let d=a.includes("T")?a.split("T")[0]:a,e=new Date(`${d}T${b}`).getTime()-c.getTime(),f=e/6e4;return{isOverdue:e<0,isUrgent:!isNaN(f)&&f>0&&f<=180}}let d=h(a);return{isOverdue:d<0,isUrgent:d>=0&&d<=1}},j=(a,b,c=!1,d=!1)=>{let f=h(a),g="";if(d){let b=new Date(a),c=b.getFullYear(),d=String(b.getMonth()+1).padStart(2,"0"),e=String(b.getDate()).padStart(2,"0");g=c===new Date().getFullYear()?`${d}.${e}`:`${c}.${d}.${e}`}else if(c&&f>=-7&&f<=3)g=0===f?e&&b&&i(a,b).isOverdue?"지연됨":"오늘 마감":1===f?"내일 마감":2===f?"모레 마감":-1===f?"어제 (지연)":f<0?`${Math.abs(f)}일 지연`:`D-${f}`;else if(0===f)g="오늘";else if(1===f)g="내일";else if(2===f)g="모레";else if(-1===f)g="어제";else{let b=new Date(a),c=b.getFullYear(),d=String(b.getMonth()+1).padStart(2,"0"),e=String(b.getDate()).padStart(2,"0");g=c===new Date().getFullYear()?`${d}.${e}`:`${c}.${d}.${e}`}return e&&b?`${g} ${b}`:g},k=b?i(b,d):null;return(0,v.jsxs)("div",{className:`flex items-center justify-between text-xs ${g?"opacity-60":""}`,children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[a&&(0,v.jsxs)("div",{className:`flex items-center gap-1 ${g?"line-through text-gray-500 dark:text-gray-400":"text-gray-600 dark:text-gray-400"}`,children:[(0,v.jsx)(B.Icon,{type:"calendar",size:14,className:"text-gray-400 dark:text-gray-500"}),(0,v.jsx)("span",{className:"text-xs",children:j(a,c,!1,g)})]}),a&&b&&(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-500 mx-1",children:"→"}),b&&(0,v.jsxs)("div",{className:`flex items-center gap-1 ${g?"line-through text-gray-500 dark:text-gray-400":k?.isOverdue?"text-red-600 dark:text-red-400 font-semibold":k?.isUrgent?"text-orange-600 dark:text-orange-400 font-semibold":"text-gray-600 dark:text-gray-400"}`,children:[(0,v.jsx)(B.Icon,{type:"calendar",size:14,className:g?"text-gray-400 dark:text-gray-500":k?.isOverdue?"text-red-500 dark:text-red-400":k?.isUrgent?"text-orange-500 dark:text-orange-400":"text-gray-400 dark:text-gray-500"}),(0,v.jsx)("span",{className:"text-xs",children:j(b,d,!0,g)})]})]}),!g&&k&&(0,v.jsxs)("div",{className:"flex gap-1 items-center shrink-0 ml-2",children:[k.isOverdue&&(0,v.jsx)(L,{type:"overDue"}),k.isUrgent&&!k.isOverdue&&(0,v.jsx)(L,{type:"dueSoon"})]})]})},fi=({task:a,projectId:b,onClick:c,isOverlay:d=!1})=>{let[e,f]=(0,w.useState)(!1),[g,h]=(0,w.useState)(0),[i,j]=(0,w.useState)(!0),k=(0,w.useRef)(null),l=(0,w.useMemo)(()=>{if(!a.ended_at||"done"===a.status)return!1;let b=new Date;if(a.use_time&&a.end_time){let c=a.ended_at.includes("T")?a.ended_at.split("T")[0]:a.ended_at;return b>new Date(`${c}T${a.end_time}`)}let c=new Date(b.getFullYear(),b.getMonth(),b.getDate()),[d,e,f]=(a.ended_at.includes("T")?a.ended_at.split("T")[0]:a.ended_at).split("-").map(Number);return new Date(d,e-1,f)<c},[a.ended_at,a.end_time,a.use_time,a.status]),m="done"===a.status;(0,w.useEffect)(()=>{let a=setTimeout(()=>j(!1),500);return()=>clearTimeout(a)},[]);let{attributes:n,listeners:o,setNodeRef:p,transform:q,isDragging:r}=function(a){var b,c,d,e;let{animateLayoutChanges:f=e9,attributes:g,disabled:h,data:i,getNewIndex:j=e8,id:k,strategy:l,resizeObserverConfig:m,transition:n=fa}=a,{items:o,containerId:p,activeIndex:q,disabled:r,disableTransforms:s,sortedRects:t,overIndex:u,useDragOverlay:v,strategy:x}=(0,w.useContext)(e6),y=(b=h,c=r,"boolean"==typeof b?{draggable:b,droppable:!1}:{draggable:null!=(d=null==b?void 0:b.draggable)?d:c.draggable,droppable:null!=(e=null==b?void 0:b.droppable)?e:c.droppable}),z=o.indexOf(k),A=(0,w.useMemo)(()=>({sortable:{containerId:p,index:z,items:o},...i}),[p,i,z,o]),B=(0,w.useMemo)(()=>o.slice(o.indexOf(k)),[o,k]),{rect:C,node:D,isOver:E,setNodeRef:F}=eR({id:k,data:A,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:B,...m}}),{active:G,activatorEvent:H,activeNodeRect:I,attributes:J,setNodeRef:K,listeners:L,isDragging:M,over:N,setActivatorNodeRef:O,transform:P}=function(a){let{id:b,data:c,disabled:d=!1,attributes:e}=a,f=dE("Draggable"),{activators:g,activatorEvent:h,active:i,activeNodeRect:j,ariaDescribedById:k,draggableNodes:l,over:m}=(0,w.useContext)(eF),{role:n=eO,roleDescription:o="draggable",tabIndex:p=0}=null!=e?e:{},q=(null==i?void 0:i.id)===b,r=(0,w.useContext)(q?eL:eN),[s,t]=dB(),[u,v]=dB(),x=(0,w.useMemo)(()=>g.reduce((a,c)=>{let{eventName:d,handler:e}=c;return a[d]=a=>{e(a,b)},a},{}),[g,b]),y=dz(c);return dx(()=>(l.set(b,{id:b,key:f,node:s,activatorNode:u,data:y}),()=>{let a=l.get(b);a&&a.key===f&&l.delete(b)}),[l,b]),{active:i,activatorEvent:h,activeNodeRect:j,attributes:(0,w.useMemo)(()=>({role:n,tabIndex:p,"aria-disabled":d,"aria-pressed":!!q&&n===eO||void 0,"aria-roledescription":o,"aria-describedby":k.draggable}),[d,n,p,q,o,k.draggable]),isDragging:q,listeners:d?void 0:x,node:s,over:m,setNodeRef:t,setActivatorNodeRef:v,transform:r}}({id:k,data:A,attributes:{...fd,...g},disabled:y.draggable}),Q=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(0,w.useMemo)(()=>a=>{b.forEach(b=>b(a))},b)}(F,K),R=!!G,S=R&&!s&&e1(q)&&e1(u),T=!v&&M,U=T&&S?P:null,V=S?null!=U?U:(null!=l?l:x)({rects:t,activeNodeRect:I,activeIndex:q,overIndex:u,index:z}):null,W=e1(q)&&e1(u)?j({id:k,items:o,activeIndex:q,overIndex:u}):z,X=null==G?void 0:G.id,Y=(0,w.useRef)({activeId:X,items:o,newIndex:W,containerId:p}),Z=o!==Y.current.items,$=f({active:G,containerId:p,isDragging:M,isSorting:R,id:k,index:z,items:o,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:n,wasDragging:null!=Y.current.activeId}),_=function(a){let{disabled:b,index:c,node:d,rect:e}=a,[f,g]=(0,w.useState)(null),h=(0,w.useRef)(c);return dx(()=>{if(!b&&c!==h.current&&d.current){let a=e.current;if(a){let b=d_(d.current,{ignoreTransform:!0}),c={x:a.left-b.left,y:a.top-b.top,scaleX:a.width/b.width,scaleY:a.height/b.height};(c.x||c.y)&&g(c)}}c!==h.current&&(h.current=c)},[b,c,d,e]),(0,w.useEffect)(()=>{f&&g(null)},[f]),f}({disabled:!$,index:z,node:D,rect:C});return(0,w.useEffect)(()=>{R&&Y.current.newIndex!==W&&(Y.current.newIndex=W),p!==Y.current.containerId&&(Y.current.containerId=p),o!==Y.current.items&&(Y.current.items=o)},[R,W,p,o]),(0,w.useEffect)(()=>{if(X===Y.current.activeId)return;if(null!=X&&null==Y.current.activeId){Y.current.activeId=X;return}let a=setTimeout(()=>{Y.current.activeId=X},50);return()=>clearTimeout(a)},[X]),{active:G,activeIndex:q,attributes:J,data:A,rect:C,index:z,newIndex:W,items:o,isOver:E,isSorting:R,isDragging:M,listeners:L,node:D,overIndex:u,over:N,setNodeRef:Q,setActivatorNodeRef:O,setDroppableNodeRef:F,setDraggableNodeRef:K,transform:null!=_?_:V,transition:_||Z&&Y.current.newIndex===z?fc:(!T||dI(H))&&n&&(R||$)?dK.Transition.toString({...n,property:fb}):void 0}}({id:a.id,animateLayoutChanges:()=>!1}),s=(0,w.useMemo)(()=>({transform:q?dK.Transform.toString(q):void 0,transition:r?"none":void 0,opacity:+!r,zIndex:r?999:d?500:1}),[q,r,d]),t=(0,w.useCallback)(a=>{a.stopPropagation(),f(a=>!a)},[]),u=(0,w.useMemo)(()=>!!(a.description||a.assigned_user_id||a.started_at||a.ended_at||a.subtasks&&a.subtasks.length>0||a.memo),[a]);return(0,w.useEffect)(()=>{if(!k.current)return;let a=()=>h(k.current.scrollHeight);a();let b=setTimeout(a,80);return()=>clearTimeout(b)},[a,e]),(0,v.jsxs)("div",{ref:p,style:s,...!d?n:{},...!d?o:{},onClick:c,className:`
        bg-white dark:bg-gray-700
        text-gray-700 dark:text-gray-300
        p-4 rounded-lg shadow-md
        cursor-grab active:cursor-grabbing
        ${m?"border-l-4 border-l-green-500 border border-green-200 dark:border-green-800 opacity-75":l?"border-l-4 border-l-red-500 border border-red-200 dark:border-red-800":"border border-gray-200 dark:border-gray-500"}
        ${r?"":"hover:shadow-lg hover:border-main-300 dark:hover:border-main-400"}
        ${d?"shadow-2xl scale-[1.02] opacity-90":""}
        ${i&&!d?"animate-slide-in-down":""}
        transition-shadow duration-150
      `,children:[(0,v.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-3 pb-2 border-b border-gray-200 dark:border-gray-600",children:[(0,v.jsxs)("div",{className:"flex items-start gap-2 flex-1",children:[m&&(0,v.jsx)("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-green-500 flex items-center justify-center mt-0.5",children:(0,v.jsx)(fe.default,{className:"w-3 h-3 text-white",strokeWidth:3})}),(0,v.jsx)("h3",{className:`font-bold text-lg flex-1 line-clamp-2 ${m?"text-gray-500 dark:text-gray-400 line-through":"text-gray-800 dark:text-gray-100"}`,children:a.title})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[a.priority&&(0,v.jsx)(ff,{priority:a.priority}),u&&!d&&(0,v.jsx)("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:(0,v.jsx)("svg",{className:`w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform duration-200 ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),!e&&!d&&(a.started_at||a.ended_at)&&(0,v.jsx)("div",{className:"pt-1",children:(0,v.jsx)(fh,{startedAt:a.started_at??void 0,endedAt:a.ended_at??void 0,startTime:a.start_time||void 0,endTime:a.end_time||void 0,useTime:a.use_time??!1,status:a.status})}),!d&&(0,v.jsx)("div",{className:"overflow-hidden transition-[max-height,opacity,transform] duration-400 ease-out",style:{maxHeight:e||!u?`${g}px`:"0px",opacity:e||!u?1:0,transform:e?"scale(1)":"scale(0.98)"},children:(0,v.jsxs)("div",{ref:k,className:"space-y-3",children:[a.description&&(0,v.jsx)("p",{className:"text-sm leading-relaxed text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/40 p-3 rounded-lg",children:a.description}),a.assigned_user_id&&(0,v.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800/40 p-3 rounded-lg",children:(0,v.jsx)(fg,{userId:a.assigned_user_id,projectId:b})}),(a.started_at||a.ended_at)&&(0,v.jsx)(fh,{startedAt:a.started_at??void 0,endedAt:a.ended_at??void 0,startTime:a.start_time||void 0,endTime:a.end_time||void 0,useTime:a.use_time??!1,status:a.status}),Array.isArray(a.subtasks)&&a.subtasks.length>0&&(0,v.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800/40 p-3 rounded-lg",children:(0,v.jsx)(cm,{subtasks:a.subtasks})}),a.memo&&(0,v.jsx)("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg text-xs text-gray-700 dark:text-yellow-200",children:a.memo})]})})]})},fj=({id:a,title:b,tasks:c,projectId:d,onTaskClick:e,isDragging:f=!1})=>{let{setNodeRef:g,isOver:h}=eR({id:a}),i={todo:{bg:"bg-gray-400 dark:bg-gray-600",text:"text-gray-700 dark:text-gray-200",border:"border-gray-300 dark:border-gray-500"},inprogress:{bg:"bg-blue-400 dark:bg-blue-500",text:"text-blue-700 dark:text-blue-200",border:"border-blue-300 dark:border-blue-500"},done:{bg:"bg-green-400 dark:bg-green-600",text:"text-green-700 dark:text-green-300",border:"border-green-300 dark:border-green-500"}}[a],j="done"!==a?c.filter(a=>c0(a)).length:0;return(0,v.jsxs)("div",{className:`
        flex flex-col shrink-0 h-full min-h-0
        w-[calc(100vw-3rem)] min-w-[260px] 
        sm:w-80 sm:min-w-[280px] 
        md:w-[300px] md:min-w-[300px]
        lg:w-80 lg:min-w-[320px] 
        bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-500 shadow-sm
        transition-all duration-200
        ${(()=>{if(h)switch(a){case"todo":return"ring-2 ring-gray-400 dark:ring-gray-500 bg-gray-100 dark:bg-gray-600";case"inprogress":return"ring-2 ring-blue-400 dark:ring-blue-500 bg-blue-50 dark:bg-blue-900/30";case"done":return"ring-2 ring-green-400 dark:ring-green-500 bg-green-50 dark:bg-green-900/30";default:return""}return f?"border-dashed":""})()}
      `,children:[(0,v.jsxs)("div",{className:"flex items-center justify-between px-3 sm:px-4 py-2 sm:py-3 border-b border-gray-200 dark:border-gray-500 rounded-t-lg bg-white dark:bg-gray-600",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:`w-2.5 sm:w-3 h-2.5 sm:h-3 rounded-full ${i.bg}`}),(0,v.jsx)("h3",{className:`font-semibold text-sm sm:text-base ${i.text}`,children:b})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[j>0&&(0,v.jsx)("span",{className:"flex items-center justify-center w-5 h-5 bg-red-500 text-white rounded-full text-xs font-bold",title:`지연된 작업 ${j}개`,children:j}),(0,v.jsx)("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full text-xs font-medium text-gray-700 dark:text-gray-200",children:c.length})]})]}),h&&(0,v.jsx)("div",{className:`
          mx-3 mt-3 px-3 py-2 rounded-lg text-center text-sm font-medium
          ${"todo"===a?"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200":""}
          ${"inprogress"===a?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":""}
          ${"done"===a?"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300":""}
        `,children:"여기에 놓기"}),(0,v.jsx)(e7,{items:c.map(a=>a.id),strategy:e4,children:(0,v.jsx)("div",{ref:g,className:`
            p-2 sm:p-3 flex flex-col gap-2 sm:gap-3 overflow-y-auto flex-1 transition-all duration-200
            ${h?"min-h-[100px]":""}
          `,children:c.length>0?c.map(a=>(0,v.jsx)(fi,{task:a,projectId:d,onClick:()=>e(a)},a.id)):!h&&(0,v.jsx)(cq,{icon:"clipboard",title:"작업이 없어요",variant:"minimal",className:"py-10"})})})]})},fk=({projectId:a})=>(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400 p-8",children:[(0,v.jsx)(B.Icon,{type:"document",size:48,className:"mb-4 opacity-50"}),(0,v.jsx)("p",{className:"text-lg font-medium mb-2",children:"메모 기능"}),(0,v.jsx)("p",{className:"text-sm text-center",children:"메모 기능은 추후 업데이트 예정입니다."})]}),fl=(0,w.createContext)(void 0);function fm({children:a,projectId:b,initialShowMemoPanel:c=!1}){let[d,e]=(0,w.useState)(c);return(0,v.jsx)(fl.Provider,{value:{showMemoPanel:d,toggleMemoPanel:a=>{e(b=>void 0!==a?a:!b)}},children:(0,v.jsxs)("div",{className:"flex h-full w-full overflow-hidden gap-2 md:gap-4",children:[(0,v.jsx)("main",{className:`
            h-full flex flex-col transition-all duration-300 min-w-0
            ${d?"flex-1 lg:flex-[0.65] xl:flex-[0.7]":"flex-1"}
          `,children:a}),(0,v.jsx)("aside",{className:`
            h-full transition-all duration-300 overflow-hidden
            ${d?"w-[280px] sm:w-[320px] md:w-[360px] lg:flex-[0.35] xl:flex-[0.3] min-w-[280px] max-w-[400px] lg:max-w-none opacity-100":"w-0 opacity-0"}
          `,children:d&&(0,v.jsx)(fk,{projectId:b})})]})})}function fn({projectName:a,onAddClick:b,onToggleFilter:c,onToggleHelp:d,showHelp:e,tasksCount:f,project:g,onProjectInfoClick:h}){let i=(()=>{let a,b,c;if(!g?.started_at||!g?.ended_at)return null;let d=new Date(g.started_at),e=new Date(g.ended_at),f=new Date;f.setHours(0,0,0,0);let h=d.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),i=e.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),j=Math.ceil((e.getTime()-f.getTime())/864e5),k=Math.ceil((d.getTime()-f.getTime())/864e5);return f<d?(a="before",b=`시작 D-${k}`,c="bg-blue-500 text-white"):f>e?(a="ended",b="종료",c="bg-red-500 text-white"):j<=3?(a="warning",b=`D-${j} ⚠️`,c="bg-orange-500 text-white"):(a="active",b=`D-${j}`,c="bg-white/20 text-white"),{startStr:h,endStr:i,remainingDays:j,status:a,badgeText:b,badgeColor:c}})();return(0,v.jsx)("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-b border-gray-200 dark:border-gray-500 bg-main-200 dark:bg-main-600 shadow-sm",children:(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-white dark:text-gray-100",children:a}),(0,v.jsx)("button",{onClick:h,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",title:"프로젝트 정보",children:(0,v.jsx)("svg",{className:"w-5 h-5 text-white/80 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),i&&(0,v.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/80 dark:text-gray-200",children:[(0,v.jsx)("span",{children:"|"}),(0,v.jsxs)("span",{children:[i.startStr," ~ ",i.endStr]}),(0,v.jsx)("span",{className:`px-2 py-0.5 rounded-full font-medium ${i.badgeColor}`,children:i.badgeText})]}),i?.status==="ended"&&(0,v.jsxs)("div",{className:"flex items-center gap-1.5 text-xs bg-sky-100 dark:bg-sky-900/50 text-sky-700 dark:text-sky-200 px-2.5 py-1 rounded-md border border-sky-300 dark:border-sky-700",children:[(0,v.jsx)("svg",{className:"w-4 h-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,v.jsx)("span",{className:"font-medium",children:"이 프로젝트는 종료되었습니다. 일정 추가/수정이 제한됩니다."})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,v.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:(0,v.jsx)("div",{className:"px-2 py-1 bg-white/20 rounded-full text-xs text-white font-medium",children:"칸반보드"})}),(0,v.jsxs)("div",{className:"text-sm font-medium text-white/90 dark:text-gray-200 text-right",children:[(0,v.jsxs)("div",{children:[f,"개 작업"]}),(0,v.jsx)("div",{className:"text-xs text-white/70 dark:text-gray-300",children:(0,y.format)(new Date,"M월 d일 (E)",{locale:cL})})]}),(0,v.jsxs)("button",{onClick:()=>{if(g?.ended_at){let a=new Date().toISOString().split("T")[0];if(a<g.started_at)return void(0,cw.showToast)("아직 프로젝트가 시작되지 않았습니다.","warning");if(a>g.ended_at)return void(0,cw.showToast)("종료된 프로젝트입니다.","warning")}b()},className:"px-3 sm:px-4 py-2 bg-main-400 dark:bg-main-500 text-white rounded-lg hover:bg-main-500 dark:hover:bg-main-400 active:bg-main-600 dark:active:bg-main-600 transition-all text-xs sm:text-sm font-medium shadow-sm",children:[(0,v.jsx)("span",{className:"hidden sm:inline",children:"+ 새 작업"}),(0,v.jsx)("span",{className:"sm:hidden",children:"+"})]}),(0,v.jsx)("button",{onClick:c,className:"p-1.5 sm:p-2 hover:bg-white/20 rounded-lg transition-colors",title:"필터",children:(0,v.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})})}),(0,v.jsx)("button",{onClick:d,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:e?"도움말 닫기":"도움말 열기",children:(0,v.jsx)("svg",{className:`w-4 h-4 text-white transition-transform duration-300 ${e?"scale-110":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})})}function fo(){return(0,v.jsx)("div",{className:"mx-2 sm:mx-4 mt-2 sm:mt-4 mb-2 sm:mb-4 px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,v.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,v.jsx)("svg",{className:"w-4 h-4 text-main-500 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,v.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,v.jsx)("span",{className:"font-medium text-xs",children:"드래그로 상태 변경"})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[(0,v.jsx)("span",{children:"•"}),(0,v.jsx)("span",{children:"필터로 작업 검색"})]}),(0,v.jsx)("div",{className:"hidden sm:block h-4 w-px bg-gray-300 dark:bg-gray-600"}),(0,v.jsx)("div",{className:"hidden sm:flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:(0,v.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-[10px] font-mono",children:"ESC"}),(0,v.jsx)("span",{children:"닫기"})]})}),(0,v.jsxs)("div",{className:"ml-auto flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded"}),(0,v.jsx)("span",{children:"할일"})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,v.jsx)("span",{children:"진행중"})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,v.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,v.jsx)("span",{children:"완료"})]})]})]})})}function fp({tasks:a=[],compact:b=!1}){let c=(0,w.useMemo)(()=>{let b=new Date,c=(0,y.format)(b,"yyyy-MM-dd"),d=(0,y.format)((0,cP.addDays)(b,3),"yyyy-MM-dd");return{todo:a.filter(a=>"todo"===a.status).length,inprogress:a.filter(a=>"inprogress"===a.status).length,done:a.filter(a=>"done"===a.status).length,overdue:a.filter(a=>{if("done"===a.status||!a.ended_at)return!1;let d=a.ended_at.split("T")[0];if(d<c)return!0;if(d===c&&a.use_time&&a.end_time){let[c,d]=a.end_time.split(":").map(Number),e=new Date;return e.setHours(c,d,0,0),b>e}return!1}).length,urgent:a.filter(a=>{if("done"===a.status||!a.ended_at||a.ended_at.split("T")[0]!==c)return!1;if(a.use_time&&a.end_time){let[c,d]=a.end_time.split(":").map(Number),e=new Date;return e.setHours(c,d,0,0),b<=e}return!0}).length,upcoming:a.filter(a=>{if("done"===a.status||!a.ended_at)return!1;let b=a.ended_at.split("T")[0];return b>c&&b<=d}).length}},[a]),d=c.todo+c.inprogress+c.done,e=d>0?Math.round(c.done/d*100):0;return b?(0,v.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:c.todo})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:c.inprogress})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:c.done})]}),c.overdue>0&&(0,v.jsxs)("span",{className:"flex items-center gap-1 text-red-500",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,v.jsx)("span",{children:c.overdue})]}),c.urgent>0&&(0,v.jsxs)("span",{className:"flex items-center gap-1 text-orange-500",children:[(0,v.jsx)(cQ,{size:10}),(0,v.jsx)("span",{children:c.urgent})]}),(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,v.jsx)("span",{className:"w-1 h-3 bg-red-500 rounded-sm",title:"지연"}),(0,v.jsx)("span",{className:"w-1 h-3 bg-green-500 rounded-sm",title:"완료"}),(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,v.jsx)("span",{className:"text-red-500",children:"▲"}),(0,v.jsx)("span",{className:"text-yellow-500",children:"▲"}),(0,v.jsx)("span",{className:"text-green-500",children:"▲"})]}),(0,v.jsxs)("div",{className:"ml-auto text-xs font-medium text-gray-700 dark:text-gray-300",children:[e,"%"]})]}):(0,v.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6 text-sm flex-wrap",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"w-3 h-3 rounded-full bg-gray-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"할일"}),(0,v.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:c.todo})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"w-3 h-3 rounded-full bg-blue-400"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"진행중"}),(0,v.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:c.inprogress})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("span",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"}),(0,v.jsx)("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:c.done})]}),(c.urgent>0||c.upcoming>0||c.overdue>0)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),c.urgent>0&&(0,v.jsxs)("div",{className:"flex items-center gap-1 text-orange-500",children:[(0,v.jsx)(cQ,{size:14}),(0,v.jsxs)("span",{className:"text-xs font-medium",children:["오늘 ",c.urgent]})]}),c.upcoming>0&&(0,v.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-500",children:[(0,v.jsx)(R,{size:14}),(0,v.jsxs)("span",{className:"text-xs font-medium",children:["D-3 이내 ",c.upcoming]})]}),c.overdue>0&&(0,v.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,v.jsx)("span",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,v.jsx)("span",{children:"지연"}),(0,v.jsx)("span",{className:"font-semibold",children:c.overdue})]})]}),(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1",title:"지연된 태스크",children:[(0,v.jsx)("span",{className:"w-1 h-4 bg-red-500 rounded-sm"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"지연"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",title:"완료된 태스크",children:[(0,v.jsx)("span",{className:"w-1 h-4 bg-green-500 rounded-sm"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"완료"})]})]}),(0,v.jsx)("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-red-500",children:"▲"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"높음"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-yellow-500",children:"▲"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"보통"})]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"text-green-500",children:"▲"}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"낮음"})]})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsx)("div",{className:"hidden sm:block w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,v.jsx)("div",{className:"h-full bg-main-500 transition-all duration-300",style:{width:`${e}%`}})}),(0,v.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[e,"% 완료"]})]})]})}function fq({filter:a,onFilterChange:b,showFilter:c,taskCount:d,totalCount:e}){return c?(0,v.jsx)("div",{className:"mt-4 mb-4 px-5 py-4 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,v.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4",children:[(0,v.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"우선순위"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)("button",{onClick:()=>b("priority","all"),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===a.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,v.jsx)("button",{onClick:()=>b("priority","high"),className:`text-sm px-3 py-1.5 rounded transition-all ${"high"===a.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"높음"}),(0,v.jsx)("button",{onClick:()=>b("priority","normal"),className:`text-sm px-3 py-1.5 rounded transition-all ${"normal"===a.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"보통"}),(0,v.jsx)("button",{onClick:()=>b("priority","low"),className:`text-sm px-3 py-1.5 rounded transition-all ${"low"===a.priority?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"낮음"})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-4",children:[(0,v.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"담당자"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)("button",{onClick:()=>b("assignee","all"),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===a.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,v.jsx)("button",{onClick:()=>b("assignee","me"),className:`text-sm px-3 py-1.5 rounded transition-all ${"me"===a.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"내 작업"}),(0,v.jsx)("button",{onClick:()=>b("assignee","assigned"),className:`text-sm px-3 py-1.5 rounded transition-all ${"assigned"===a.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"할당됨"}),(0,v.jsx)("button",{onClick:()=>b("assignee","unassigned"),className:`text-sm px-3 py-1.5 rounded transition-all ${"unassigned"===a.assignee?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"미할당"})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-4",children:[(0,v.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium w-16",children:"기간"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)("button",{onClick:()=>b("date","all"),className:`text-sm px-3 py-1.5 rounded transition-all ${"all"===a.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"전체"}),(0,v.jsx)("button",{onClick:()=>b("date","today"),className:`text-sm px-3 py-1.5 rounded transition-all ${"today"===a.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"오늘"}),(0,v.jsx)("button",{onClick:()=>b("date","thisWeek"),className:`text-sm px-3 py-1.5 rounded transition-all ${"thisWeek"===a.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"이번주"}),(0,v.jsx)("button",{onClick:()=>b("date","overdue"),className:`text-sm px-3 py-1.5 rounded transition-all ${"overdue"===a.date?"bg-main-500 text-white":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"지연"})]})]}),(0,v.jsx)("div",{className:"pt-3 mt-1 border-t border-gray-200 dark:border-gray-600",children:(0,v.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d,"개 / 전체 ",e,"개"]})})]})}):null}function fr({groupedTasks:a,projectId:b,onTaskClick:c,isDragging:d}){return(0,v.jsx)("div",{className:"flex-1 min-h-0 flex flex-col px-2 sm:px-4 py-2 sm:py-3",children:(0,v.jsx)("div",{className:"h-full flex flex-col rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:(0,v.jsx)("div",{className:"flex-1 min-h-0 overflow-x-auto overflow-y-auto",children:(0,v.jsx)("div",{className:"flex gap-2 sm:gap-3 md:gap-4 h-full justify-start sm:justify-center min-w-fit p-2 sm:p-3 md:p-4",children:e_.map(e=>(0,v.jsx)(fj,{id:e.id,title:e.title,tasks:a[e.id]||[],projectId:b,onTaskClick:c,isDragging:d},e.id))})})})})}let fs=({tasks:a=[],boardId:b,project:c,onCreateTask:d,onUpdateTask:e,onDeleteTask:f,onSelectTask:g,onTaskCreated:h,onProjectInfoClick:i})=>{var j;let k=c?.project_id||"",l=c?.project_name||"이름 없는 프로젝트",m=c?.started_at,n=c?.ended_at;console.log("KanbanBoard - Project Info:",{project:c,projectName:l,projectStartedAt:m,projectEndedAt:n,boardId:b,projectId:k});let[o,p]=(0,w.useState)(null),[q,r]=(0,w.useState)(!1),[s,t]=(0,w.useState)(null),[u,x]=(0,w.useState)(!1),[z,A]=(0,w.useState)(!1),[B,C]=(0,w.useState)({priority:"all",assignee:"all",date:"all"});!function({showTaskAddModal:a,showTaskDetailModal:b,setShowTaskAddModal:c,setShowTaskDetailModal:d,setSelectedTask:e}){(0,w.useEffect)(()=>{let f=f=>{if("Escape"===f.key){a&&c(!1),b&&(d(!1),e(null));return}if(!a&&!b&&document.activeElement?.tagName!=="INPUT"&&document.activeElement?.tagName!=="TEXTAREA"&&"KeyN"===f.code&&(f.ctrlKey||f.metaKey)&&!f.shiftKey&&!f.altKey){f.preventDefault(),c(!0);return}};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[a,b,c,d,e])}({showTaskAddModal:q,showTaskDetailModal:!!o,setShowTaskAddModal:r,setShowTaskDetailModal:a=>{a||p(null)},setSelectedTask:()=>p(null)});let D=(0,w.useCallback)(a=>{if(!m||!n)return!1;let b=(0,y.format)(a,"yyyy-MM-dd");return b<m||b>n},[m,n]),E=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(0,w.useMemo)(()=>[...b].filter(a=>null!=a),[...b])}((j={activationConstraint:{distance:8}},(0,w.useMemo)(()=>({sensor:en,options:null!=j?j:{}}),[en,j]))),F=(0,w.useMemo)(()=>a.filter(a=>{if("all"!==B.priority&&a.priority!==B.priority||"all"!==B.assignee&&("assigned"===B.assignee&&!a.assigned_user_id||"unassigned"===B.assignee&&a.assigned_user_id))return!1;if("all"!==B.date){let b=new Date,c=new Date(b.getFullYear(),b.getMonth(),b.getDate());if("today"===B.date){if(!a.ended_at)return!1;let b=new Date(a.ended_at.includes("T")?a.ended_at:a.ended_at+"T00:00:00");if(new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()!==c.getTime())return!1}else if("thisWeek"===B.date){if(!a.ended_at)return!1;let b=new Date(c);b.setDate(c.getDate()-c.getDay());let d=new Date(b);d.setDate(b.getDate()+6);let e=new Date(a.ended_at.includes("T")?a.ended_at:a.ended_at+"T00:00:00"),f=new Date(e.getFullYear(),e.getMonth(),e.getDate());if(f<b||f>d)return!1}else if("overdue"===B.date){if(!a.ended_at||"done"===a.status)return!1;let b=new Date(a.ended_at.includes("T")?a.ended_at:a.ended_at+"T00:00:00");if(new Date(b.getFullYear(),b.getMonth(),b.getDate())>=c)return!1}}return!0}),[a,B]),H=e_.reduce((a,b)=>{let c=F.filter(a=>a.status===b.id);return a[b.id]=c,a},{}),I=(0,w.useCallback)(b=>{let c=b.active.id;t(a.find(a=>a.id===c)||null)},[a]),J=(0,w.useCallback)(b=>{let c,{active:d,over:f}=b;if(!f)return void t(null);if(D(new Date)){(0,cw.showToast)(n&&new Date().toISOString().split("T")[0]>n?"종료된 프로젝트입니다.":"아직 시작되지 않은 프로젝트입니다.","warning"),t(null);return}let g=d.id;if(e_.some(a=>a.id===f.id))c=f.id;else{let b=a.find(a=>a.id===f.id);if(!b)return void t(null);c=b.status}let h=a.find(a=>a.id===g);h&&h.status!==c&&e?.(h.id,{status:c}),t(null)},[a,e,n,D]),K=(0,w.useCallback)(()=>{t(null)},[]),L=(0,w.useCallback)(a=>{d?.(a),h?.(),r(!1)},[d,h,r]);return(0,v.jsxs)(fm,{projectId:k,children:[(0,v.jsxs)("div",{className:"h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[(0,v.jsx)(fn,{projectName:l,onAddClick:()=>r(!0),onToggleFilter:()=>x(!u),onToggleHelp:()=>A(!z),showHelp:z,tasksCount:a.length,project:c,onProjectInfoClick:i}),z&&(0,v.jsx)(fo,{}),u&&(0,v.jsx)("div",{className:"px-2 sm:px-4",children:(0,v.jsx)(fq,{filter:B,onFilterChange:(a,b)=>{C(c=>({...c,[a]:b}))},showFilter:u,taskCount:F.length,totalCount:a.length})}),(0,v.jsxs)(eM,{sensors:E,onDragStart:I,onDragEnd:J,onDragCancel:K,modifiers:[],children:[(0,v.jsx)(fr,{groupedTasks:H,projectId:k,onTaskClick:a=>{p(a),g?.(a)},isDragging:!!s}),(0,v.jsx)(e$,{dropAnimation:null,children:s&&(0,v.jsx)("div",{className:"transform-none opacity-90",children:(0,v.jsx)(fi,{task:s,projectId:k,onClick:()=>{},isOverlay:!0})})})]}),(0,v.jsx)("div",{className:"sm:hidden",children:(0,v.jsx)(fp,{tasks:a,compact:!0})}),(0,v.jsx)("div",{className:"hidden sm:block",children:(0,v.jsx)(fp,{tasks:a})})]}),o&&(0,v.jsx)(G,{isOpen:!0,onClose:()=>p(null),children:(0,v.jsx)(cy,{task:{...o,project_id:o.project_id||k},projectStartedAt:m,projectEndedAt:n,onUpdate:(a,b)=>{e?.(a,b),o?.id===a&&p({...o,...b})},onDelete:a=>{f?.(a),o?.id===a&&p(null)},onClose:()=>p(null)})}),q&&(0,v.jsx)(G,{isOpen:!0,onClose:()=>r(!1),children:(0,v.jsx)(cv,{boardId:b,projectId:k,projectStartedAt:m,projectEndedAt:n,onSuccess:L,onCancel:()=>r(!1)})})]})},ft=({activeView:a,onViewChange:b})=>{let c=[{id:"calendar",label:"캘린더",icon:(0,v.jsx)("svg",{className:"w-5 h-5 rounded",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{id:"kanban",label:"칸반보드",icon:(0,v.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})})},{id:"memo",label:"메모",icon:(0,v.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}];return(0,v.jsx)("div",{className:"border-t bg-white dark:bg-gray-900 shadow-lg h-16",children:(0,v.jsx)("div",{className:"flex justify-center h-full items-center",children:c.map(c=>{let d=a===c.id;return(0,v.jsxs)("button",{onClick:()=>b(c.id),className:`
                relative flex flex-col items-center gap-1 px-8 py-2
                transition-colors duration-200
                ${d?"text-main-200 hover:text-main-200/50 dark:text-main-400 dark:hover:text-main-300":"text-main-400 hover:text-main-400/50 dark:text-gray-400 dark:hover:text-gray-200"}
              `,children:[c.icon,(0,v.jsx)("span",{className:`text-xs ${d?"font-semibold":"font-medium"}`,children:c.label}),d&&(0,v.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-main-200 dark:bg-main-400"})]},c.id)})})})};a.i(26294);var fu=a.i(10443),fv=a.i(14703),fw=a.i(51326),fx=a.i(69126),fy=a.i(91068);function fz(a,b,c){let[d,e]=(0,fx.normalizeDates)(c?.in,a,b),f=fA(d,e),g=Math.abs((0,fy.differenceInCalendarDays)(d,e));d.setDate(d.getDate()-f*g);let h=Number(fA(d,e)===-f),i=f*(g-h);return 0===i?0:i}function fA(a,b){let c=a.getFullYear()-b.getFullYear()||a.getMonth()-b.getMonth()||a.getDate()-b.getDate()||a.getHours()-b.getHours()||a.getMinutes()-b.getMinutes()||a.getSeconds()-b.getSeconds()||a.getMilliseconds()-b.getMilliseconds();return c<0?-1:c>0?1:c}var fB=a.i(95146),fB=fB;let fC=(0,Q.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),fD=(0,Q.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),fE=(0,Q.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),fF=(0,Q.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),fG=(0,Q.default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),fH=(0,Q.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),fI=(0,Q.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);function fJ({projectId:a,projectName:b,projectDescription:c,projectStartDate:d,projectEndDate:e,tasks:f,onClose:g}){let[h,i]=(0,w.useState)([]),[j,k]=(0,w.useState)(!0);(0,w.useEffect)(()=>{(async()=>{if(a){k(!0);try{let b=await fetch(`/api/projectMembers/forAssignment?projectId=${a}`);if(b.ok){let a=await b.json();i(a.data||[])}}catch(a){console.error("팀원 조회 실패:",a)}finally{k(!1)}}})()},[a]);let l=(0,w.useMemo)(()=>{let a;if(!d||!e)return null;let b=new Date(d),c=new Date(e),f=new Date;f.setHours(0,0,0,0);let g=fz(c,b)+1,h=fz(f,b)+1,i=fz(c,f),j=Math.round(h/g*100);return j=Math.max(0,Math.min(100,j)),a=f<b?"before":f>c?"ended":i<=3?"warning":"active",{totalDays:g,elapsedDays:Math.max(0,h),remainingDays:i,progressPercent:j,status:a,startStr:(0,y.format)(b,"M월 d일",{locale:cL}),endStr:(0,y.format)(c,"M월 d일",{locale:cL})}},[d,e]),m=(0,w.useMemo)(()=>{let a=new Date,b=(0,y.format)(a,"yyyy-MM-dd"),c=(0,y.format)((0,cP.addDays)(a,3),"yyyy-MM-dd"),d=f.filter(a=>"todo"===a.status).length,e=f.filter(a=>"inprogress"===a.status).length,g=f.filter(a=>"done"===a.status).length,h=f.length,i=f.filter(c=>{if("done"===c.status||!c.ended_at)return!1;let d=c.ended_at.split("T")[0];if(d<b)return!0;if(d===b&&c.use_time&&c.end_time){let[b,d]=c.end_time.split(":").map(Number),e=new Date;return e.setHours(b,d,0,0),a>e}return!1}).length,j=f.filter(a=>"done"!==a.status&&!!a.ended_at&&a.ended_at.split("T")[0]===b).length,k=f.filter(a=>{if("done"===a.status||!a.ended_at)return!1;let d=a.ended_at.split("T")[0];return d>b&&d<=c}).length,l=h>0?Math.round(g/h*100):0;return{todo:d,inprogress:e,done:g,total:h,overdue:i,todayDue:j,upcoming:k,completionRate:l}},[f]);return(0,v.jsxs)("div",{className:"h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[(0,v.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-500 bg-main-200 dark:bg-main-600 flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(fH,{size:18,className:"text-white"}),(0,v.jsx)("h3",{className:"font-semibold text-white",children:"프로젝트 정보"})]}),(0,v.jsx)("button",{onClick:g,className:"p-1 hover:bg-white/20 rounded transition-colors",children:(0,v.jsx)(fB.default,{size:18,className:"text-white"})})]}),(0,v.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-5",children:[(0,v.jsxs)("section",{children:[(0,v.jsx)("h4",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-1",children:b}),c&&(0,v.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c})]}),l&&(0,v.jsxs)("section",{className:"space-y-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,v.jsx)(fC,{size:16}),(0,v.jsx)("span",{children:"프로젝트 기간"})]}),(0,v.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-3 space-y-3",children:[(0,v.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:l.startStr}),(0,v.jsxs)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:["before"===l.status&&(0,v.jsxs)("span",{className:"text-blue-500",children:["시작까지 D-",Math.abs(l.elapsedDays)]}),"active"===l.status&&(0,v.jsxs)("span",{className:"text-main-500",children:["D-",l.remainingDays]}),"warning"===l.status&&(0,v.jsxs)("span",{className:"text-orange-500",children:["⚠️ D-",l.remainingDays]}),"ended"===l.status&&(0,v.jsx)("span",{className:"text-red-500",children:"종료됨"})]}),(0,v.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:l.endStr})]}),(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,v.jsx)("div",{className:`h-full transition-all duration-300 ${"ended"===l.status?"bg-red-500":"warning"===l.status?"bg-orange-500":"bg-main-500"}`,style:{width:`${l.progressPercent}%`}})}),"before"!==l.status&&"ended"!==l.status&&(0,v.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white border-2 border-main-500 rounded-full shadow",style:{left:`${l.progressPercent}%`,marginLeft:"-6px"}})]}),(0,v.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,v.jsxs)("span",{children:["총 ",l.totalDays,"일"]}),(0,v.jsxs)("span",{children:[l.progressPercent,"% 경과"]})]})]})]}),(0,v.jsxs)("section",{className:"space-y-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,v.jsx)(fE,{size:16}),(0,v.jsx)("span",{children:"작업 현황"})]}),(0,v.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-3 space-y-3",children:[(0,v.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2",children:[(0,v.jsxs)("div",{className:"flex items-center justify-center gap-1 text-gray-500 dark:text-gray-400 text-xs mb-1",children:[(0,v.jsx)(fF,{size:10}),"할일"]}),(0,v.jsx)("div",{className:"text-lg font-bold text-gray-700 dark:text-gray-200",children:m.todo})]}),(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2",children:[(0,v.jsxs)("div",{className:"flex items-center justify-center gap-1 text-blue-500 text-xs mb-1",children:[(0,v.jsx)(fG,{size:10}),"진행중"]}),(0,v.jsx)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m.inprogress})]}),(0,v.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2",children:[(0,v.jsxs)("div",{className:"flex items-center justify-center gap-1 text-green-500 text-xs mb-1",children:[(0,v.jsx)(fE,{size:10}),"완료"]}),(0,v.jsx)("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:m.done})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1",children:[(0,v.jsx)("span",{children:"완료율"}),(0,v.jsxs)("span",{className:"font-medium",children:[m.completionRate,"%"]})]}),(0,v.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,v.jsx)("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${m.completionRate}%`}})})]})]})]}),(m.overdue>0||m.todayDue>0||m.upcoming>0)&&(0,v.jsxs)("section",{className:"space-y-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,v.jsx)(cQ,{size:16}),(0,v.jsx)("span",{children:"주의 사항"})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[m.overdue>0&&(0,v.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:[(0,v.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,v.jsx)("span",{children:"지연된 작업"}),(0,v.jsxs)("span",{className:"ml-auto font-bold",children:[m.overdue,"개"]})]}),m.todayDue>0&&(0,v.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded-lg text-sm",children:[(0,v.jsx)(cQ,{size:14}),(0,v.jsx)("span",{children:"오늘 마감"}),(0,v.jsxs)("span",{className:"ml-auto font-bold",children:[m.todayDue,"개"]})]}),m.upcoming>0&&(0,v.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-500 rounded-lg text-sm",children:[(0,v.jsx)(R,{size:14}),(0,v.jsx)("span",{children:"D-3 이내"}),(0,v.jsxs)("span",{className:"ml-auto font-bold",children:[m.upcoming,"개"]})]})]})]}),(0,v.jsxs)("section",{className:"space-y-3",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,v.jsx)(fD,{size:16}),(0,v.jsx)("span",{children:"팀원"}),(0,v.jsxs)("span",{className:"text-gray-400 dark:text-gray-500",children:["(",h.length,"명)"]})]}),(0,v.jsx)("div",{className:"space-y-2",children:j?(0,v.jsx)("div",{className:"text-sm text-gray-400 dark:text-gray-500 py-2",children:"로딩 중..."}):h.length>0?h.map(a=>(0,v.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,v.jsx)("div",{className:"w-8 h-8 rounded-full bg-main-100 dark:bg-main-900/50 flex items-center justify-center text-main-600 dark:text-main-400 font-medium text-sm",children:a.users.user_name?.charAt(0)||"?"}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsxs)("div",{className:"flex items-center gap-1",children:[(0,v.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate",children:a.users.user_name}),"leader"===a.role&&(0,v.jsx)(fI,{size:12,className:"text-yellow-500"})]}),(0,v.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a.users.email})]})]},a.user_id)):(0,v.jsx)("div",{className:"text-sm text-gray-400 dark:text-gray-500 py-2",children:"팀원이 없습니다"})})]})]})]})}function fK(){let a=(0,x.useRouter)(),[b,c]=(0,w.useState)(""),[d,e]=(0,w.useState)(""),[f,g]=(0,w.useState)(""),[h,i]=(0,w.useState)(""),[j,k]=(0,w.useState)(""),[l,m]=(0,w.useState)([]),[n,o]=(0,w.useState)("kanban"),[p,q]=(0,w.useState)(!1),[r,s]=(0,w.useState)(!1),[t,u]=(0,w.useState)(!0);(0,w.useEffect)(()=>{let b=sessionStorage.getItem("current_Project_Id");if(!b){(0,cw.showToast)("프로젝트를 먼저 선택해주세요","error"),a.push("/");return}c(b)},[a]),(0,w.useEffect)(()=>{b&&(()=>{try{if(!b||"undefined"===b||"null"===b){console.warn("⚠️ Invalid projectId:",b),u(!1);return}let a=(0,fu.getProjectById)(b);a?(e(a.project_name||"이름 없는 프로젝트"),g(a.started_at||""),i(a.ended_at||"")):(e("알 수 없는 프로젝트"),g(""),i(""));let c=(0,fv.getBoardsByProjectId)(b),d=c[0]?.id;d||(console.log("⚠️ 칸반보드가 없어서 새로 생성합니다."),d=(0,fv.createBoard)({name:"기본 보드",project_id:b,columns:"todo,inprogress,done"}).id),k(d);let f=(0,fw.getTasksByBoardId)(d);m(f)}catch(a){console.error("데이터 로딩 중 오류:",a)}finally{u(!1)}})()},[b]);let y=a=>{let b=(0,fw.createTask)(a);m(a=>[...a,b]),(0,cw.showToast)("작업이 생성되었습니다.","success")},z=(a,b)=>{(0,fw.updateTask)(a,b)&&m(c=>c.map(c=>c.id===a?{...c,...b}:c))},A=a=>{(0,fw.deleteTask)(a)&&(m(b=>b.filter(b=>b.id!==a)),(0,cw.showToast)("작업이 삭제되었습니다.","success"))};return t?(0,v.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,v.jsx)("p",{className:"text-gray-400 dark:text-gray-500 text-lg",children:"불러오는 중..."})}):(0,v.jsxs)("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 pt-14",children:[(0,v.jsxs)("div",{className:"flex-1 flex overflow-hidden gap-2 lg:gap-3 min-h-0 p-3 sm:p-4 lg:p-5 max-w-[1600px] mx-auto w-full",children:[(0,v.jsx)("aside",{className:`flex flex-col transition-all duration-300 overflow-hidden min-h-0 shrink-0 ${r?`w-[240px] lg:w-[280px] ${p?"xl:w-[260px]":"xl:w-[300px]"} opacity-100`:"w-0 opacity-0"}`,children:(0,v.jsx)(fJ,{projectId:b,projectName:d,projectStartDate:f,projectEndDate:h,tasks:l,onClose:()=>s(!1)})}),(0,v.jsx)("main",{className:"flex flex-col overflow-hidden transition-all duration-300 min-h-0 flex-1 min-w-0",children:(0,v.jsxs)("div",{className:"flex-1 overflow-hidden min-h-0",children:["kanban"===n&&(0,v.jsx)(fs,{boardId:j,tasks:l,onCreateTask:y,onUpdateTask:z,onDeleteTask:A,onProjectInfoClick:()=>s(a=>!a),project:{project_id:b,project_name:d,started_at:f,ended_at:h}}),"calendar"===n&&(0,v.jsx)(dp,{tasks:l,boardId:j,project:{project_id:b,project_name:d,started_at:f,ended_at:h},onCreateTask:y,onUpdateTask:z,onDeleteTask:A,onSelectTask:()=>{},onTaskCreated:()=>{j&&m((0,fw.getTasksByBoardId)(j))},onProjectInfoClick:()=>s(a=>!a)})]})}),(0,v.jsx)("aside",{className:`flex flex-col transition-all duration-300 overflow-hidden min-h-0 shrink-0 ${p?`w-[240px] lg:w-[280px] ${r?"xl:w-[260px]":"xl:w-[300px]"} opacity-100`:"w-0 opacity-0"}`,children:(0,v.jsx)(fk,{projectId:b})})]}),(0,v.jsx)("div",{className:"shrink-0",children:(0,v.jsx)(ft,{activeView:p?"memo":n,onViewChange:a=>{"memo"===a?q(a=>!a):"project"===a?(sessionStorage.removeItem("current_Project_Id"),window.location.href="/"):(o(a),q(!1))}})})]})}a.s(["default",()=>fK],38643)}];

//# sourceMappingURL=Documents_Project_NewTaskry_fac5eb31._.js.map